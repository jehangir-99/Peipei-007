var NOT_FOUND="NOT_FOUND";function createSingletonCache(equals){var entry;return{get:function(key){return entry&&equals(entry.key,key)?entry.value:NOT_FOUND},put:function(key,value){entry={key:key,value:value}},getEntries:function(){return entry?[entry]:[]},clear:function(){entry=void 0}}}function createLruCache(maxSize,equals){var entries=[];function get(key){var cacheIndex=entries.findIndex((function(entry){return equals(key,entry.key)}));if(cacheIndex>-1){var entry=entries[cacheIndex];return cacheIndex>0&&(entries.splice(cacheIndex,1),entries.unshift(entry)),entry.value}return NOT_FOUND}return{get:get,put:function(key,value){get(key)===NOT_FOUND&&(entries.unshift({key:key,value:value}),entries.length>maxSize&&entries.pop())},getEntries:function(){return entries},clear:function(){entries=[]}}}export var defaultEqualityCheck=function(a,b){return a===b};export function createCacheKeyComparator(equalityCheck){return function(prev,next){if(null===prev||null===next||prev.length!==next.length)return!1;for(var length=prev.length,i=0;i<length;i++)if(!equalityCheck(prev[i],next[i]))return!1;return!0}}export function defaultMemoize(func,equalityCheckOrOptions){var providedOptions="object"==typeof equalityCheckOrOptions?equalityCheckOrOptions:{equalityCheck:equalityCheckOrOptions},_providedOptions$equa=providedOptions.equalityCheck,equalityCheck=void 0===_providedOptions$equa?defaultEqualityCheck:_providedOptions$equa,_providedOptions$maxS=providedOptions.maxSize,maxSize=void 0===_providedOptions$maxS?1:_providedOptions$maxS,resultEqualityCheck=providedOptions.resultEqualityCheck,comparator=createCacheKeyComparator(equalityCheck),cache=1===maxSize?createSingletonCache(comparator):createLruCache(maxSize,comparator);function memoized(){var value=cache.get(arguments);if(value===NOT_FOUND){if(value=func.apply(null,arguments),resultEqualityCheck){var matchingEntry=cache.getEntries().find((function(entry){return resultEqualityCheck(entry.value,value)}));matchingEntry&&(value=matchingEntry.value)}cache.put(arguments,value)}return value}return memoized.clearCache=function(){return cache.clear()},memoized}