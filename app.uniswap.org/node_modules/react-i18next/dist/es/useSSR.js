import{useContext}from"react";import{getI18n,I18nContext}from"./context.js";export function useSSR(initialI18nStore,initialLanguage){let props=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{i18n:i18nFromProps}=props,{i18n:i18nFromContext}=useContext(I18nContext)||{},i18n=i18nFromProps||i18nFromContext||getI18n();i18n.options&&i18n.options.isClone||(initialI18nStore&&!i18n.initializedStoreOnce&&(i18n.services.resourceStore.data=initialI18nStore,i18n.options.ns=Object.values(initialI18nStore).reduce(((mem,lngResources)=>(Object.keys(lngResources).forEach((ns=>{mem.indexOf(ns)<0&&mem.push(ns)})),mem)),i18n.options.ns),i18n.initializedStoreOnce=!0,i18n.isInitialized=!0),initialLanguage&&!i18n.initializedLanguageOnce&&(i18n.changeLanguage(initialLanguage),i18n.initializedLanguageOnce=!0))}