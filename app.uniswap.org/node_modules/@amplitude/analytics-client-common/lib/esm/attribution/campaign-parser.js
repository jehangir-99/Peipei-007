import{__assign,__awaiter,__generator}from"tslib";import{getQueryParams}from"../query-params";import{UTM_CAMPAIGN,UTM_CONTENT,UTM_MEDIUM,UTM_SOURCE,UTM_TERM,GCLID,FBCLID,BASE_CAMPAIGN,DCLID,MSCLKID,RDT_CID,TWCLID,TTCLID,KO_CLICK_ID,LI_FAT_ID,GBRAID,WBRAID,UTM_ID}from"./constants";var CampaignParser=function(){function CampaignParser(){}return CampaignParser.prototype.parse=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,__assign(__assign(__assign(__assign({},BASE_CAMPAIGN),this.getUtmParam()),this.getReferrer()),this.getClickIds())]}))}))},CampaignParser.prototype.getUtmParam=function(){var params=getQueryParams();return{utm_campaign:params[UTM_CAMPAIGN],utm_content:params[UTM_CONTENT],utm_id:params[UTM_ID],utm_medium:params[UTM_MEDIUM],utm_source:params[UTM_SOURCE],utm_term:params[UTM_TERM]}},CampaignParser.prototype.getReferrer=function(){var _a,_b,data={referrer:void 0,referring_domain:void 0};try{data.referrer=document.referrer||void 0,data.referring_domain=null!==(_b=null===(_a=data.referrer)||void 0===_a?void 0:_a.split("/")[2])&&void 0!==_b?_b:void 0}catch(_c){}return data},CampaignParser.prototype.getClickIds=function(){var _a,params=getQueryParams();return(_a={})[DCLID]=params[DCLID],_a[FBCLID]=params[FBCLID],_a[GBRAID]=params[GBRAID],_a[GCLID]=params[GCLID],_a[KO_CLICK_ID]=params[KO_CLICK_ID],_a[LI_FAT_ID]=params[LI_FAT_ID],_a[MSCLKID]=params[MSCLKID],_a[RDT_CID]=params[RDT_CID],_a[TTCLID]=params[TTCLID],_a[TWCLID]=params[TWCLID],_a[WBRAID]=params[WBRAID],_a},CampaignParser}();export{CampaignParser};