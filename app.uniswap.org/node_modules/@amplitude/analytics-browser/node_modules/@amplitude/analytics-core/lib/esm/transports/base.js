import{Status}from"@amplitude/analytics-types";var BaseTransport=function(){function BaseTransport(){}return BaseTransport.prototype.send=function(_serverUrl,_payload){return Promise.resolve(null)},BaseTransport.prototype.buildResponse=function(responseJSON){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x;if("object"!=typeof responseJSON)return null;var statusCode=responseJSON.code||0,status=this.buildStatus(statusCode);switch(status){case Status.Success:return{status:status,statusCode:statusCode,body:{eventsIngested:null!==(_a=responseJSON.events_ingested)&&void 0!==_a?_a:0,payloadSizeBytes:null!==(_b=responseJSON.payload_size_bytes)&&void 0!==_b?_b:0,serverUploadTime:null!==(_c=responseJSON.server_upload_time)&&void 0!==_c?_c:0}};case Status.Invalid:return{status:status,statusCode:statusCode,body:{error:null!==(_d=responseJSON.error)&&void 0!==_d?_d:"",missingField:null!==(_e=responseJSON.missing_field)&&void 0!==_e?_e:"",eventsWithInvalidFields:null!==(_f=responseJSON.events_with_invalid_fields)&&void 0!==_f?_f:{},eventsWithMissingFields:null!==(_g=responseJSON.events_with_missing_fields)&&void 0!==_g?_g:{},eventsWithInvalidIdLengths:null!==(_h=responseJSON.events_with_invalid_id_lengths)&&void 0!==_h?_h:{},epsThreshold:null!==(_j=responseJSON.eps_threshold)&&void 0!==_j?_j:0,exceededDailyQuotaDevices:null!==(_k=responseJSON.exceeded_daily_quota_devices)&&void 0!==_k?_k:{},silencedDevices:null!==(_l=responseJSON.silenced_devices)&&void 0!==_l?_l:[],silencedEvents:null!==(_m=responseJSON.silenced_events)&&void 0!==_m?_m:[],throttledDevices:null!==(_o=responseJSON.throttled_devices)&&void 0!==_o?_o:{},throttledEvents:null!==(_p=responseJSON.throttled_events)&&void 0!==_p?_p:[]}};case Status.PayloadTooLarge:return{status:status,statusCode:statusCode,body:{error:null!==(_q=responseJSON.error)&&void 0!==_q?_q:""}};case Status.RateLimit:return{status:status,statusCode:statusCode,body:{error:null!==(_r=responseJSON.error)&&void 0!==_r?_r:"",epsThreshold:null!==(_s=responseJSON.eps_threshold)&&void 0!==_s?_s:0,throttledDevices:null!==(_t=responseJSON.throttled_devices)&&void 0!==_t?_t:{},throttledUsers:null!==(_u=responseJSON.throttled_users)&&void 0!==_u?_u:{},exceededDailyQuotaDevices:null!==(_v=responseJSON.exceeded_daily_quota_devices)&&void 0!==_v?_v:{},exceededDailyQuotaUsers:null!==(_w=responseJSON.exceeded_daily_quota_users)&&void 0!==_w?_w:{},throttledEvents:null!==(_x=responseJSON.throttled_events)&&void 0!==_x?_x:[]}};case Status.Timeout:default:return{status:status,statusCode:statusCode}}},BaseTransport.prototype.buildStatus=function(code){return code>=200&&code<300?Status.Success:429===code?Status.RateLimit:413===code?Status.PayloadTooLarge:408===code?Status.Timeout:code>=400&&code<500?Status.Invalid:code>=500?Status.Failed:Status.Unknown},BaseTransport}();export{BaseTransport};