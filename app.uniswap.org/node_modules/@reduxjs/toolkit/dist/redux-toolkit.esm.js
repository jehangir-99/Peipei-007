var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArray=this&&this.__spreadArray||function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(obj,key,value){return key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value},__spreadValues=function(a,b){for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var _i=0,_c=__getOwnPropSymbols(b);_i<_c.length;_i++){prop=_c[_i];__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop])}return a},__spreadProps=function(a,b){return __defProps(a,__getOwnPropDescs(b))},__async=function(__this,__arguments,generator){return new Promise((function(resolve,reject){var fulfilled=function(value){try{step(generator.next(value))}catch(e){reject(e)}},rejected=function(value){try{step(generator.throw(value))}catch(e){reject(e)}},step=function(x){return x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected)};step((generator=generator.apply(__this,__arguments)).next())}))};import{enableES5}from"immer";export*from"redux";import{default as default2,current as current2,freeze,original,isDraft as isDraft4}from"immer";import{createSelector as createSelector2}from"reselect";import{current,isDraft}from"immer";import{createSelector}from"reselect";var createDraftSafeSelector=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var selector=createSelector.apply(void 0,args);return function(value){for(var rest=[],_i=1;_i<arguments.length;_i++)rest[_i-1]=arguments[_i];return selector.apply(void 0,__spreadArray([isDraft(value)?current(value):value],rest))}};import{createStore,compose as compose2,applyMiddleware,combineReducers}from"redux";import{compose}from"redux";var composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?compose:compose.apply(null,arguments)},devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(noop2){return noop2}};function isPlainObject(value){if("object"!=typeof value||null===value)return!1;var proto=Object.getPrototypeOf(value);if(null===proto)return!0;for(var baseProto=proto;null!==Object.getPrototypeOf(baseProto);)baseProto=Object.getPrototypeOf(baseProto);return proto===baseProto}import thunkMiddleware from"redux-thunk";import createNextState,{isDraftable}from"immer";function getTimeMeasureUtils(maxDelay,fnName){var elapsed=0;return{measureTime:function(fn){var started=Date.now();try{return fn()}finally{var finished=Date.now();elapsed+=finished-started}},warnIfExceeded:function(){elapsed>maxDelay&&console.warn(fnName+" took "+elapsed+"ms, which is more than the warning threshold of "+maxDelay+"ms. \nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\nIt is disabled in production builds, so you don't need to worry about that.")}}}var MiddlewareArray=function(_super){function MiddlewareArray(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var _this=_super.apply(this,args)||this;return Object.setPrototypeOf(_this,MiddlewareArray.prototype),_this}return __extends(MiddlewareArray,_super),Object.defineProperty(MiddlewareArray,Symbol.species,{get:function(){return MiddlewareArray},enumerable:!1,configurable:!0}),MiddlewareArray.prototype.concat=function(){for(var arr=[],_i=0;_i<arguments.length;_i++)arr[_i]=arguments[_i];return _super.prototype.concat.apply(this,arr)},MiddlewareArray.prototype.prepend=function(){for(var arr=[],_i=0;_i<arguments.length;_i++)arr[_i]=arguments[_i];return 1===arr.length&&Array.isArray(arr[0])?new(MiddlewareArray.bind.apply(MiddlewareArray,__spreadArray([void 0],arr[0].concat(this)))):new(MiddlewareArray.bind.apply(MiddlewareArray,__spreadArray([void 0],arr.concat(this))))},MiddlewareArray}(Array);function freezeDraftable(val){return isDraftable(val)?createNextState(val,(function(){})):val}var isProduction="production"===process.env.NODE_ENV,prefix="Invariant failed";function invariant(condition,message){if(!condition){if(isProduction)throw new Error(prefix);throw new Error(prefix+": "+(message||""))}}function stringify(obj,serializer,indent,decycler){return JSON.stringify(obj,getSerialize(serializer,decycler),indent)}function getSerialize(serializer,decycler){var stack=[],keys=[];return decycler||(decycler=function(_,value){return stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,stack.indexOf(value)).join(".")+"]"}),function(key,value){if(stack.length>0){var thisPos=stack.indexOf(this);~thisPos?stack.splice(thisPos+1):stack.push(this),~thisPos?keys.splice(thisPos,1/0,key):keys.push(key),~stack.indexOf(value)&&(value=decycler.call(this,key,value))}else stack.push(value);return null==serializer?value:serializer.call(this,key,value)}}function isImmutableDefault(value){return"object"!=typeof value||null==value||Object.isFrozen(value)}function trackForMutations(isImmutable,ignorePaths,obj){var trackedProperties=trackProperties(isImmutable,ignorePaths,obj);return{detectMutations:function(){return detectMutations(isImmutable,ignorePaths,trackedProperties,obj)}}}function trackProperties(isImmutable,ignorePaths,obj,path){void 0===ignorePaths&&(ignorePaths=[]),void 0===path&&(path="");var tracked={value:obj};if(!isImmutable(obj))for(var key in tracked.children={},obj){var childPath=path?path+"."+key:key;ignorePaths.length&&-1!==ignorePaths.indexOf(childPath)||(tracked.children[key]=trackProperties(isImmutable,ignorePaths,obj[key],childPath))}return tracked}function detectMutations(isImmutable,ignoredPaths,trackedProperty,obj,sameParentRef,path){void 0===ignoredPaths&&(ignoredPaths=[]),void 0===sameParentRef&&(sameParentRef=!1),void 0===path&&(path="");var prevObj=trackedProperty?trackedProperty.value:void 0,sameRef=prevObj===obj;if(sameParentRef&&!sameRef&&!Number.isNaN(obj))return{wasMutated:!0,path:path};if(isImmutable(prevObj)||isImmutable(obj))return{wasMutated:!1};var keysToDetect={};for(var key in trackedProperty.children)keysToDetect[key]=!0;for(var key in obj)keysToDetect[key]=!0;var hasIgnoredPaths=ignoredPaths.length>0,_loop_1=function(key){var nestedPath=path?path+"."+key:key;if(hasIgnoredPaths&&ignoredPaths.some((function(ignored){return ignored instanceof RegExp?ignored.test(nestedPath):nestedPath===ignored})))return"continue";var result=detectMutations(isImmutable,ignoredPaths,trackedProperty.children[key],obj[key],sameRef,nestedPath);if(result.wasMutated)return{value:result}};for(var key in keysToDetect){var state_1=_loop_1(key);if("object"==typeof state_1)return state_1.value}return{wasMutated:!1}}function createImmutableStateInvariantMiddleware(options){if(void 0===options&&(options={}),"production"===process.env.NODE_ENV)return function(){return function(next){return function(action){return next(action)}}};var _c=options.isImmutable,isImmutable=void 0===_c?isImmutableDefault:_c,ignoredPaths=options.ignoredPaths,_d=options.warnAfter,warnAfter=void 0===_d?32:_d,ignore=options.ignore;ignoredPaths=ignoredPaths||ignore;var track=trackForMutations.bind(null,isImmutable,ignoredPaths);return function(_c){var result,getState=_c.getState,state=getState(),tracker=track(state);return function(next){return function(action){var measureUtils=getTimeMeasureUtils(warnAfter,"ImmutableStateInvariantMiddleware");measureUtils.measureTime((function(){state=getState(),result=tracker.detectMutations(),tracker=track(state),invariant(!result.wasMutated,"A state mutation was detected between dispatches, in the path '"+(result.path||"")+"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")}));var dispatchedAction=next(action);return measureUtils.measureTime((function(){state=getState(),result=tracker.detectMutations(),tracker=track(state),result.wasMutated&&invariant(!result.wasMutated,"A state mutation was detected inside a dispatch, in the path: "+(result.path||"")+". Take a look at the reducer(s) handling the action "+stringify(action)+". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)")})),measureUtils.warnIfExceeded(),dispatchedAction}}}}function isPlain(val){var type=typeof val;return null==val||"string"===type||"boolean"===type||"number"===type||Array.isArray(val)||isPlainObject(val)}function findNonSerializableValue(value,path,isSerializable,getEntries,ignoredPaths,cache){var foundNestedSerializable;if(void 0===path&&(path=""),void 0===isSerializable&&(isSerializable=isPlain),void 0===ignoredPaths&&(ignoredPaths=[]),!isSerializable(value))return{keyPath:path||"<root>",value:value};if("object"!=typeof value||null===value)return!1;if(null==cache?void 0:cache.has(value))return!1;for(var entries=null!=getEntries?getEntries(value):Object.entries(value),hasIgnoredPaths=ignoredPaths.length>0,_loop_2=function(key,nestedValue){var nestedPath=path?path+"."+key:key;if(hasIgnoredPaths&&ignoredPaths.some((function(ignored){return ignored instanceof RegExp?ignored.test(nestedPath):nestedPath===ignored})))return"continue";return isSerializable(nestedValue)?"object"==typeof nestedValue&&(foundNestedSerializable=findNonSerializableValue(nestedValue,nestedPath,isSerializable,getEntries,ignoredPaths,cache))?{value:foundNestedSerializable}:void 0:{value:{keyPath:nestedPath,value:nestedValue}}},_i=0,entries_1=entries;_i<entries_1.length;_i++){var _c=entries_1[_i],state_2=_loop_2(_c[0],_c[1]);if("object"==typeof state_2)return state_2.value}return cache&&isNestedFrozen(value)&&cache.add(value),!1}function isNestedFrozen(value){if(!Object.isFrozen(value))return!1;for(var _i=0,_c=Object.values(value);_i<_c.length;_i++){var nestedValue=_c[_i];if("object"==typeof nestedValue&&null!==nestedValue&&!isNestedFrozen(nestedValue))return!1}return!0}function createSerializableStateInvariantMiddleware(options){if(void 0===options&&(options={}),"production"===process.env.NODE_ENV)return function(){return function(next){return function(action){return next(action)}}};var _c=options.isSerializable,isSerializable=void 0===_c?isPlain:_c,getEntries=options.getEntries,_d=options.ignoredActions,ignoredActions=void 0===_d?[]:_d,_e=options.ignoredActionPaths,ignoredActionPaths=void 0===_e?["meta.arg","meta.baseQueryMeta"]:_e,_f=options.ignoredPaths,ignoredPaths=void 0===_f?[]:_f,_g=options.warnAfter,warnAfter=void 0===_g?32:_g,_h=options.ignoreState,ignoreState=void 0!==_h&&_h,_j=options.ignoreActions,ignoreActions=void 0!==_j&&_j,_k=options.disableCache,cache=!(void 0!==_k&&_k)&&WeakSet?new WeakSet:void 0;return function(storeAPI){return function(next){return function(action){var result=next(action),measureUtils=getTimeMeasureUtils(warnAfter,"SerializableStateInvariantMiddleware");return ignoreActions||ignoredActions.length&&-1!==ignoredActions.indexOf(action.type)||measureUtils.measureTime((function(){var foundActionNonSerializableValue=findNonSerializableValue(action,"",isSerializable,getEntries,ignoredActionPaths,cache);if(foundActionNonSerializableValue){var keyPath=foundActionNonSerializableValue.keyPath,value=foundActionNonSerializableValue.value;console.error("A non-serializable value was detected in an action, in the path: `"+keyPath+"`. Value:",value,"\nTake a look at the logic that dispatched this action: ",action,"\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)","\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)")}})),ignoreState||(measureUtils.measureTime((function(){var foundStateNonSerializableValue=findNonSerializableValue(storeAPI.getState(),"",isSerializable,getEntries,ignoredPaths,cache);if(foundStateNonSerializableValue){var keyPath=foundStateNonSerializableValue.keyPath,value=foundStateNonSerializableValue.value;console.error("A non-serializable value was detected in the state, in the path: `"+keyPath+"`. Value:",value,"\nTake a look at the reducer(s) handling this action type: "+action.type+".\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)")}})),measureUtils.warnIfExceeded()),result}}}}function isBoolean(x){return"boolean"==typeof x}function curryGetDefaultMiddleware(){return function(options){return getDefaultMiddleware(options)}}function getDefaultMiddleware(options){void 0===options&&(options={});var _c=options.thunk,thunk=void 0===_c||_c,_d=options.immutableCheck,immutableCheck=void 0===_d||_d,_e=options.serializableCheck,serializableCheck=void 0===_e||_e,middlewareArray=new MiddlewareArray;if(thunk&&(isBoolean(thunk)?middlewareArray.push(thunkMiddleware):middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument))),"production"!==process.env.NODE_ENV){if(immutableCheck){var immutableOptions={};isBoolean(immutableCheck)||(immutableOptions=immutableCheck),middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions))}if(serializableCheck){var serializableOptions={};isBoolean(serializableCheck)||(serializableOptions=serializableCheck),middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions))}}return middlewareArray}var IS_PRODUCTION="production"===process.env.NODE_ENV;function configureStore(options){var rootReducer,curriedGetDefaultMiddleware=curryGetDefaultMiddleware(),_c=options||{},_d=_c.reducer,reducer=void 0===_d?void 0:_d,_e=_c.middleware,middleware=void 0===_e?curriedGetDefaultMiddleware():_e,_f=_c.devTools,devTools=void 0===_f||_f,_g=_c.preloadedState,preloadedState=void 0===_g?void 0:_g,_h=_c.enhancers,enhancers=void 0===_h?void 0:_h;if("function"==typeof reducer)rootReducer=reducer;else{if(!isPlainObject(reducer))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');rootReducer=combineReducers(reducer)}var finalMiddleware=middleware;if("function"==typeof finalMiddleware&&(finalMiddleware=finalMiddleware(curriedGetDefaultMiddleware),!IS_PRODUCTION&&!Array.isArray(finalMiddleware)))throw new Error("when using a middleware builder function, an array of middleware must be returned");if(!IS_PRODUCTION&&finalMiddleware.some((function(item){return"function"!=typeof item})))throw new Error("each middleware provided to configureStore must be a function");var middlewareEnhancer=applyMiddleware.apply(void 0,finalMiddleware),finalCompose=compose2;devTools&&(finalCompose=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},"object"==typeof devTools&&devTools)));var storeEnhancers=[middlewareEnhancer];Array.isArray(enhancers)?storeEnhancers=__spreadArray([middlewareEnhancer],enhancers):"function"==typeof enhancers&&(storeEnhancers=enhancers(storeEnhancers));var composedEnhancer=finalCompose.apply(void 0,storeEnhancers);return createStore(rootReducer,preloadedState,composedEnhancer)}function createAction(type,prepareAction){function actionCreator(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(prepareAction){var prepared=prepareAction.apply(void 0,args);if(!prepared)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:type,payload:prepared.payload},"meta"in prepared&&{meta:prepared.meta}),"error"in prepared&&{error:prepared.error})}return{type:type,payload:args[0]}}return actionCreator.toString=function(){return""+type},actionCreator.type=type,actionCreator.match=function(action){return action.type===type},actionCreator}function isFSA(action){return isPlainObject(action)&&"string"==typeof action.type&&Object.keys(action).every(isValidKey)}function isValidKey(key){return["type","payload","error","meta"].indexOf(key)>-1}function getType(actionCreator){return""+actionCreator}import createNextState2,{isDraft as isDraft2,isDraftable as isDraftable2}from"immer";function executeReducerBuilderCallback(builderCallback){var defaultCaseReducer,actionsMap={},actionMatchers=[],builder={addCase:function(typeOrActionCreator,reducer){if("production"!==process.env.NODE_ENV){if(actionMatchers.length>0)throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");if(defaultCaseReducer)throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`")}var type="string"==typeof typeOrActionCreator?typeOrActionCreator:typeOrActionCreator.type;if(type in actionsMap)throw new Error("addCase cannot be called with two reducers for the same action type");return actionsMap[type]=reducer,builder},addMatcher:function(matcher,reducer){if("production"!==process.env.NODE_ENV&&defaultCaseReducer)throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return actionMatchers.push({matcher:matcher,reducer:reducer}),builder},addDefaultCase:function(reducer){if("production"!==process.env.NODE_ENV&&defaultCaseReducer)throw new Error("`builder.addDefaultCase` can only be called once");return defaultCaseReducer=reducer,builder}};return builderCallback(builder),[actionsMap,actionMatchers,defaultCaseReducer]}function isStateFunction(x){return"function"==typeof x}var hasWarnedAboutObjectNotation=!1;function createReducer(initialState,mapOrBuilderCallback,actionMatchers,defaultCaseReducer){void 0===actionMatchers&&(actionMatchers=[]),"production"!==process.env.NODE_ENV&&"object"==typeof mapOrBuilderCallback&&(hasWarnedAboutObjectNotation||(hasWarnedAboutObjectNotation=!0,console.warn("The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer")));var getInitialState,_c="function"==typeof mapOrBuilderCallback?executeReducerBuilderCallback(mapOrBuilderCallback):[mapOrBuilderCallback,actionMatchers,defaultCaseReducer],actionsMap=_c[0],finalActionMatchers=_c[1],finalDefaultCaseReducer=_c[2];if(isStateFunction(initialState))getInitialState=function(){return freezeDraftable(initialState())};else{var frozenInitialState_1=freezeDraftable(initialState);getInitialState=function(){return frozenInitialState_1}}function reducer(state,action){void 0===state&&(state=getInitialState());var caseReducers=__spreadArray([actionsMap[action.type]],finalActionMatchers.filter((function(_c){return(0,_c.matcher)(action)})).map((function(_c){return _c.reducer})));return 0===caseReducers.filter((function(cr){return!!cr})).length&&(caseReducers=[finalDefaultCaseReducer]),caseReducers.reduce((function(previousState,caseReducer){if(caseReducer){var result;if(isDraft2(previousState))return void 0===(result=caseReducer(previousState,action))?previousState:result;if(isDraftable2(previousState))return createNextState2(previousState,(function(draft){return caseReducer(draft,action)}));if(void 0===(result=caseReducer(previousState,action))){if(null===previousState)return previousState;throw Error("A case reducer on a non-draftable value must not return undefined")}return result}return previousState}),state)}return reducer.getInitialState=getInitialState,reducer}var hasWarnedAboutObjectNotation2=!1;function getType2(slice,actionKey){return slice+"/"+actionKey}function createSlice(options){var name=options.name;if(!name)throw new Error("`name` is a required option for createSlice");"undefined"!=typeof process&&"development"===process.env.NODE_ENV&&void 0===options.initialState&&console.error("You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`");var _reducer,initialState="function"==typeof options.initialState?options.initialState:freezeDraftable(options.initialState),reducers=options.reducers||{},reducerNames=Object.keys(reducers),sliceCaseReducersByName={},sliceCaseReducersByType={},actionCreators={};function buildReducer(){"production"!==process.env.NODE_ENV&&"object"==typeof options.extraReducers&&(hasWarnedAboutObjectNotation2||(hasWarnedAboutObjectNotation2=!0,console.warn("The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice")));var _c="function"==typeof options.extraReducers?executeReducerBuilderCallback(options.extraReducers):[options.extraReducers],_d=_c[0],extraReducers=void 0===_d?{}:_d,_e=_c[1],actionMatchers=void 0===_e?[]:_e,_f=_c[2],defaultCaseReducer=void 0===_f?void 0:_f,finalCaseReducers=__spreadValues(__spreadValues({},extraReducers),sliceCaseReducersByType);return createReducer(initialState,(function(builder){for(var key in finalCaseReducers)builder.addCase(key,finalCaseReducers[key]);for(var _i=0,actionMatchers_1=actionMatchers;_i<actionMatchers_1.length;_i++){var m=actionMatchers_1[_i];builder.addMatcher(m.matcher,m.reducer)}defaultCaseReducer&&builder.addDefaultCase(defaultCaseReducer)}))}return reducerNames.forEach((function(reducerName){var caseReducer,prepareCallback,maybeReducerWithPrepare=reducers[reducerName],type=getType2(name,reducerName);"reducer"in maybeReducerWithPrepare?(caseReducer=maybeReducerWithPrepare.reducer,prepareCallback=maybeReducerWithPrepare.prepare):caseReducer=maybeReducerWithPrepare,sliceCaseReducersByName[reducerName]=caseReducer,sliceCaseReducersByType[type]=caseReducer,actionCreators[reducerName]=prepareCallback?createAction(type,prepareCallback):createAction(type)})),{name:name,reducer:function(state,action){return _reducer||(_reducer=buildReducer()),_reducer(state,action)},actions:actionCreators,caseReducers:sliceCaseReducersByName,getInitialState:function(){return _reducer||(_reducer=buildReducer()),_reducer.getInitialState()}}}function getInitialEntityState(){return{ids:[],entities:{}}}function createInitialStateFactory(){return{getInitialState:function(additionalState){return void 0===additionalState&&(additionalState={}),Object.assign(getInitialEntityState(),additionalState)}}}function createSelectorsFactory(){return{getSelectors:function(selectState){var selectIds=function(state){return state.ids},selectEntities=function(state){return state.entities},selectAll=createDraftSafeSelector(selectIds,selectEntities,(function(ids,entities){return ids.map((function(id){return entities[id]}))})),selectId=function(_,id){return id},selectById=function(entities,id){return entities[id]},selectTotal=createDraftSafeSelector(selectIds,(function(ids){return ids.length}));if(!selectState)return{selectIds:selectIds,selectEntities:selectEntities,selectAll:selectAll,selectTotal:selectTotal,selectById:createDraftSafeSelector(selectEntities,selectId,selectById)};var selectGlobalizedEntities=createDraftSafeSelector(selectState,selectEntities);return{selectIds:createDraftSafeSelector(selectState,selectIds),selectEntities:selectGlobalizedEntities,selectAll:createDraftSafeSelector(selectState,selectAll),selectTotal:createDraftSafeSelector(selectState,selectTotal),selectById:createDraftSafeSelector(selectGlobalizedEntities,selectId,selectById)}}}}import createNextState3,{isDraft as isDraft3}from"immer";function createSingleArgumentStateOperator(mutator){var operator=createStateOperator((function(_,state){return mutator(state)}));return function(state){return operator(state,void 0)}}function createStateOperator(mutator){return function(state,arg){var runMutator=function(draft){isFSA(arg)?mutator(arg.payload,draft):mutator(arg,draft)};return isDraft3(state)?(runMutator(state),state):createNextState3(state,runMutator)}}function selectIdValue(entity,selectId){var key=selectId(entity);return"production"!==process.env.NODE_ENV&&void 0===key&&console.warn("The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",entity,"The `selectId` implementation:",selectId.toString()),key}function ensureEntitiesArray(entities){return Array.isArray(entities)||(entities=Object.values(entities)),entities}function splitAddedUpdatedEntities(newEntities,selectId,state){for(var added=[],updated=[],_i=0,newEntities_1=newEntities=ensureEntitiesArray(newEntities);_i<newEntities_1.length;_i++){var entity=newEntities_1[_i],id=selectIdValue(entity,selectId);id in state.entities?updated.push({id:id,changes:entity}):added.push(entity)}return[added,updated]}function createUnsortedStateAdapter(selectId){function addOneMutably(entity,state){var key=selectIdValue(entity,selectId);key in state.entities||(state.ids.push(key),state.entities[key]=entity)}function addManyMutably(newEntities,state){for(var _i=0,newEntities_2=newEntities=ensureEntitiesArray(newEntities);_i<newEntities_2.length;_i++){addOneMutably(newEntities_2[_i],state)}}function setOneMutably(entity,state){var key=selectIdValue(entity,selectId);key in state.entities||state.ids.push(key),state.entities[key]=entity}function removeManyMutably(keys,state){var didMutate=!1;keys.forEach((function(key){key in state.entities&&(delete state.entities[key],didMutate=!0)})),didMutate&&(state.ids=state.ids.filter((function(id){return id in state.entities})))}function updateManyMutably(updates,state){var newKeys={},updatesPerEntity={};if(updates.forEach((function(update){update.id in state.entities&&(updatesPerEntity[update.id]={id:update.id,changes:__spreadValues(__spreadValues({},updatesPerEntity[update.id]?updatesPerEntity[update.id].changes:null),update.changes)})})),(updates=Object.values(updatesPerEntity)).length>0){var didMutateIds=updates.filter((function(update){return function(keys,update,state){var original2=state.entities[update.id],updated=Object.assign({},original2,update.changes),newKey=selectIdValue(updated,selectId),hasNewKey=newKey!==update.id;return hasNewKey&&(keys[update.id]=newKey,delete state.entities[update.id]),state.entities[newKey]=updated,hasNewKey}(newKeys,update,state)})).length>0;didMutateIds&&(state.ids=Object.keys(state.entities))}}function upsertManyMutably(newEntities,state){var _c=splitAddedUpdatedEntities(newEntities,selectId,state),added=_c[0];updateManyMutably(_c[1],state),addManyMutably(added,state)}return{removeAll:createSingleArgumentStateOperator((function(state){Object.assign(state,{ids:[],entities:{}})})),addOne:createStateOperator(addOneMutably),addMany:createStateOperator(addManyMutably),setOne:createStateOperator(setOneMutably),setMany:createStateOperator((function(newEntities,state){for(var _i=0,newEntities_3=newEntities=ensureEntitiesArray(newEntities);_i<newEntities_3.length;_i++){setOneMutably(newEntities_3[_i],state)}})),setAll:createStateOperator((function(newEntities,state){newEntities=ensureEntitiesArray(newEntities),state.ids=[],state.entities={},addManyMutably(newEntities,state)})),updateOne:createStateOperator((function(update,state){return updateManyMutably([update],state)})),updateMany:createStateOperator(updateManyMutably),upsertOne:createStateOperator((function(entity,state){return upsertManyMutably([entity],state)})),upsertMany:createStateOperator(upsertManyMutably),removeOne:createStateOperator((function(key,state){return removeManyMutably([key],state)})),removeMany:createStateOperator(removeManyMutably)}}function createSortedStateAdapter(selectId,sort){var _c=createUnsortedStateAdapter(selectId);function addManyMutably(newEntities,state){var models=(newEntities=ensureEntitiesArray(newEntities)).filter((function(model){return!(selectIdValue(model,selectId)in state.entities)}));0!==models.length&&merge(models,state)}function setManyMutably(newEntities,state){0!==(newEntities=ensureEntitiesArray(newEntities)).length&&merge(newEntities,state)}function updateManyMutably(updates,state){for(var appliedUpdates=!1,_i=0,updates_1=updates;_i<updates_1.length;_i++){var update=updates_1[_i],entity=state.entities[update.id];if(entity){appliedUpdates=!0,Object.assign(entity,update.changes);var newId=selectId(entity);update.id!==newId&&(delete state.entities[update.id],state.entities[newId]=entity)}}appliedUpdates&&resortEntities(state)}function upsertManyMutably(newEntities,state){var _c=splitAddedUpdatedEntities(newEntities,selectId,state),added=_c[0];updateManyMutably(_c[1],state),addManyMutably(added,state)}function merge(models,state){models.forEach((function(model){state.entities[selectId(model)]=model})),resortEntities(state)}function resortEntities(state){var allEntities=Object.values(state.entities);allEntities.sort(sort);var newSortedIds=allEntities.map(selectId);(function(a,b){if(a.length!==b.length)return!1;for(var i=0;i<a.length&&i<b.length;i++)if(a[i]!==b[i])return!1;return!0})(state.ids,newSortedIds)||(state.ids=newSortedIds)}return{removeOne:_c.removeOne,removeMany:_c.removeMany,removeAll:_c.removeAll,addOne:createStateOperator((function(entity,state){return addManyMutably([entity],state)})),updateOne:createStateOperator((function(update,state){return updateManyMutably([update],state)})),upsertOne:createStateOperator((function(entity,state){return upsertManyMutably([entity],state)})),setOne:createStateOperator((function(entity,state){return setManyMutably([entity],state)})),setMany:createStateOperator(setManyMutably),setAll:createStateOperator((function(newEntities,state){newEntities=ensureEntitiesArray(newEntities),state.entities={},state.ids=[],addManyMutably(newEntities,state)})),addMany:createStateOperator(addManyMutably),updateMany:createStateOperator(updateManyMutably),upsertMany:createStateOperator(upsertManyMutably)}}function createEntityAdapter(options){void 0===options&&(options={});var _c=__spreadValues({sortComparer:!1,selectId:function(instance){return instance.id}},options),selectId=_c.selectId,sortComparer=_c.sortComparer,stateFactory=createInitialStateFactory(),selectorsFactory=createSelectorsFactory(),stateAdapter=sortComparer?createSortedStateAdapter(selectId,sortComparer):createUnsortedStateAdapter(selectId);return __spreadValues(__spreadValues(__spreadValues({selectId:selectId,sortComparer:sortComparer},stateFactory),selectorsFactory),stateAdapter)}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(size){void 0===size&&(size=21);for(var id="",i=size;i--;)id+=urlAlphabet[64*Math.random()|0];return id},commonProperties=["name","message","stack","code"],RejectWithValue=function(payload,meta){this.payload=payload,this.meta=meta},FulfillWithMeta=function(payload,meta){this.payload=payload,this.meta=meta},miniSerializeError=function(value){if("object"==typeof value&&null!==value){for(var simpleError={},_i=0,commonProperties_1=commonProperties;_i<commonProperties_1.length;_i++){var property=commonProperties_1[_i];"string"==typeof value[property]&&(simpleError[property]=value[property])}return simpleError}return{message:String(value)}},createAsyncThunk=function(){function createAsyncThunk2(typePrefix,payloadCreator,options){var fulfilled=createAction(typePrefix+"/fulfilled",(function(payload,requestId,arg,meta){return{payload:payload,meta:__spreadProps(__spreadValues({},meta||{}),{arg:arg,requestId:requestId,requestStatus:"fulfilled"})}})),pending=createAction(typePrefix+"/pending",(function(requestId,arg,meta){return{payload:void 0,meta:__spreadProps(__spreadValues({},meta||{}),{arg:arg,requestId:requestId,requestStatus:"pending"})}})),rejected=createAction(typePrefix+"/rejected",(function(error,requestId,arg,payload,meta){return{payload:payload,error:(options&&options.serializeError||miniSerializeError)(error||"Rejected"),meta:__spreadProps(__spreadValues({},meta||{}),{arg:arg,requestId:requestId,rejectedWithValue:!!payload,requestStatus:"rejected",aborted:"AbortError"===(null==error?void 0:error.name),condition:"ConditionError"===(null==error?void 0:error.name)})}})),displayedWarning=!1,AC="undefined"!=typeof AbortController?AbortController:function(){function class_1(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return class_1.prototype.abort=function(){"production"!==process.env.NODE_ENV&&(displayedWarning||(displayedWarning=!0,console.info("This platform does not implement AbortController. \nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.")))},class_1}();return Object.assign((function(arg){return function(dispatch,getState,extra){var abortReason,requestId=(null==options?void 0:options.idGenerator)?options.idGenerator(arg):nanoid(),abortController=new AC;function abort(reason){abortReason=reason,abortController.abort()}var promise2=function(){return __async(this,null,(function(){var _a,_b,finalAction,conditionResult,abortedPromise,err_1;return __generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,4,,5]),isThenable(conditionResult=null==(_a=null==options?void 0:options.condition)?void 0:_a.call(options,arg,{getState:getState,extra:extra}))?[4,conditionResult]:[3,2];case 1:conditionResult=_c.sent(),_c.label=2;case 2:if(!1===conditionResult||abortController.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,abortedPromise=new Promise((function(_,reject){return abortController.signal.addEventListener("abort",(function(){return reject({name:"AbortError",message:abortReason||"Aborted"})}))})),dispatch(pending(requestId,arg,null==(_b=null==options?void 0:options.getPendingMeta)?void 0:_b.call(options,{requestId:requestId,arg:arg},{getState:getState,extra:extra}))),[4,Promise.race([abortedPromise,Promise.resolve(payloadCreator(arg,{dispatch:dispatch,getState:getState,extra:extra,requestId:requestId,signal:abortController.signal,abort:abort,rejectWithValue:function(value,meta){return new RejectWithValue(value,meta)},fulfillWithValue:function(value,meta){return new FulfillWithMeta(value,meta)}})).then((function(result){if(result instanceof RejectWithValue)throw result;return result instanceof FulfillWithMeta?fulfilled(result.payload,requestId,arg,result.meta):fulfilled(result,requestId,arg)}))])];case 3:return finalAction=_c.sent(),[3,5];case 4:return err_1=_c.sent(),finalAction=err_1 instanceof RejectWithValue?rejected(null,requestId,arg,err_1.payload,err_1.meta):rejected(err_1,requestId,arg),[3,5];case 5:return options&&!options.dispatchConditionRejection&&rejected.match(finalAction)&&finalAction.meta.condition||dispatch(finalAction),[2,finalAction]}}))}))}();return Object.assign(promise2,{abort:abort,requestId:requestId,arg:arg,unwrap:function(){return promise2.then(unwrapResult)}})}}),{pending:pending,rejected:rejected,fulfilled:fulfilled,typePrefix:typePrefix})}return createAsyncThunk2.withTypes=function(){return createAsyncThunk2},createAsyncThunk2}();function unwrapResult(action){if(action.meta&&action.meta.rejectedWithValue)throw action.payload;if(action.error)throw action.error;return action.payload}function isThenable(value){return null!==value&&"object"==typeof value&&"function"==typeof value.then}var hasMatchFunction=function(v){return v&&"function"==typeof v.match},matches=function(matcher,action){return hasMatchFunction(matcher)?matcher.match(action):matcher(action)};function isAnyOf(){for(var matchers=[],_i=0;_i<arguments.length;_i++)matchers[_i]=arguments[_i];return function(action){return matchers.some((function(matcher){return matches(matcher,action)}))}}function isAllOf(){for(var matchers=[],_i=0;_i<arguments.length;_i++)matchers[_i]=arguments[_i];return function(action){return matchers.every((function(matcher){return matches(matcher,action)}))}}function hasExpectedRequestMetadata(action,validStatus){if(!action||!action.meta)return!1;var hasValidRequestId="string"==typeof action.meta.requestId,hasValidRequestStatus=validStatus.indexOf(action.meta.requestStatus)>-1;return hasValidRequestId&&hasValidRequestStatus}function isAsyncThunkArray(a){return"function"==typeof a[0]&&"pending"in a[0]&&"fulfilled"in a[0]&&"rejected"in a[0]}function isPending(){for(var asyncThunks=[],_i=0;_i<arguments.length;_i++)asyncThunks[_i]=arguments[_i];return 0===asyncThunks.length?function(action){return hasExpectedRequestMetadata(action,["pending"])}:isAsyncThunkArray(asyncThunks)?function(action){var matchers=asyncThunks.map((function(asyncThunk){return asyncThunk.pending}));return isAnyOf.apply(void 0,matchers)(action)}:isPending()(asyncThunks[0])}function isRejected(){for(var asyncThunks=[],_i=0;_i<arguments.length;_i++)asyncThunks[_i]=arguments[_i];return 0===asyncThunks.length?function(action){return hasExpectedRequestMetadata(action,["rejected"])}:isAsyncThunkArray(asyncThunks)?function(action){var matchers=asyncThunks.map((function(asyncThunk){return asyncThunk.rejected}));return isAnyOf.apply(void 0,matchers)(action)}:isRejected()(asyncThunks[0])}function isRejectedWithValue(){for(var asyncThunks=[],_i=0;_i<arguments.length;_i++)asyncThunks[_i]=arguments[_i];var hasFlag=function(action){return action&&action.meta&&action.meta.rejectedWithValue};return 0===asyncThunks.length||isAsyncThunkArray(asyncThunks)?function(action){return isAllOf(isRejected.apply(void 0,asyncThunks),hasFlag)(action)}:isRejectedWithValue()(asyncThunks[0])}function isFulfilled(){for(var asyncThunks=[],_i=0;_i<arguments.length;_i++)asyncThunks[_i]=arguments[_i];return 0===asyncThunks.length?function(action){return hasExpectedRequestMetadata(action,["fulfilled"])}:isAsyncThunkArray(asyncThunks)?function(action){var matchers=asyncThunks.map((function(asyncThunk){return asyncThunk.fulfilled}));return isAnyOf.apply(void 0,matchers)(action)}:isFulfilled()(asyncThunks[0])}function isAsyncThunkAction(){for(var asyncThunks=[],_i=0;_i<arguments.length;_i++)asyncThunks[_i]=arguments[_i];return 0===asyncThunks.length?function(action){return hasExpectedRequestMetadata(action,["pending","fulfilled","rejected"])}:isAsyncThunkArray(asyncThunks)?function(action){for(var matchers=[],_i=0,asyncThunks_1=asyncThunks;_i<asyncThunks_1.length;_i++){var asyncThunk=asyncThunks_1[_i];matchers.push(asyncThunk.pending,asyncThunk.rejected,asyncThunk.fulfilled)}return isAnyOf.apply(void 0,matchers)(action)}:isAsyncThunkAction()(asyncThunks[0])}var assertFunction=function(func,expected){if("function"!=typeof func)throw new TypeError(expected+" is not a function")},noop=function(){},catchRejection=function(promise2,onError){return void 0===onError&&(onError=noop),promise2.catch(onError),promise2},addAbortSignalListener=function(abortSignal,callback){return abortSignal.addEventListener("abort",callback,{once:!0}),function(){return abortSignal.removeEventListener("abort",callback)}},abortControllerWithReason=function(abortController,reason){var signal=abortController.signal;signal.aborted||("reason"in signal||Object.defineProperty(signal,"reason",{enumerable:!0,value:reason,configurable:!0,writable:!0}),abortController.abort(reason))},task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled="task-"+cancelled,taskCompleted="task-"+completed,listenerCancelled=listener+"-"+cancelled,listenerCompleted=listener+"-"+completed,TaskAbortError=function(code){this.code=code,this.name="TaskAbortError",this.message=task+" "+cancelled+" (reason: "+code+")"},validateActive=function(signal){if(signal.aborted)throw new TaskAbortError(signal.reason)};function raceWithSignal(signal,promise2){var cleanup=noop;return new Promise((function(resolve,reject){var notifyRejection=function(){return reject(new TaskAbortError(signal.reason))};signal.aborted?notifyRejection():(cleanup=addAbortSignalListener(signal,notifyRejection),promise2.finally((function(){return cleanup()})).then(resolve,reject))})).finally((function(){cleanup=noop}))}var runTask=function(task2,cleanUp){return __async(void 0,null,(function(){var error_1;return __generator(this,(function(_c){switch(_c.label){case 0:return _c.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return _c.sent(),[4,task2()];case 2:return[2,{status:"ok",value:_c.sent()}];case 3:return[2,{status:(error_1=_c.sent())instanceof TaskAbortError?"cancelled":"rejected",error:error_1}];case 4:return null==cleanUp||cleanUp(),[7];case 5:return[2]}}))}))},createPause=function(signal){return function(promise2){return catchRejection(raceWithSignal(signal,promise2).then((function(output){return validateActive(signal),output})))}},createDelay=function(signal){var pause=createPause(signal);return function(timeoutMs){return pause(new Promise((function(resolve){return setTimeout(resolve,timeoutMs)})))}},assign=Object.assign,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=function(parentAbortSignal){return function(taskExecutor){assertFunction(taskExecutor,"taskExecutor");var controller,childAbortController=new AbortController;controller=childAbortController,addAbortSignalListener(parentAbortSignal,(function(){return abortControllerWithReason(controller,parentAbortSignal.reason)}));var result=runTask((function(){return __async(void 0,null,(function(){var result2;return __generator(this,(function(_c){switch(_c.label){case 0:return validateActive(parentAbortSignal),validateActive(childAbortController.signal),[4,taskExecutor({pause:createPause(childAbortController.signal),delay:createDelay(childAbortController.signal),signal:childAbortController.signal})];case 1:return result2=_c.sent(),validateActive(childAbortController.signal),[2,result2]}}))}))}),(function(){return abortControllerWithReason(childAbortController,taskCompleted)}));return{result:createPause(parentAbortSignal)(result),cancel:function(){abortControllerWithReason(childAbortController,taskCancelled)}}}},createTakePattern=function(startListening,signal){return function(predicate,timeout){return catchRejection(function(predicate,timeout){return __async(void 0,null,(function(){var unsubscribe,tuplePromise,promises,output;return __generator(this,(function(_c){switch(_c.label){case 0:validateActive(signal),unsubscribe=function(){},tuplePromise=new Promise((function(resolve,reject){var stopListening=startListening({predicate:predicate,effect:function(action,listenerApi){listenerApi.unsubscribe(),resolve([action,listenerApi.getState(),listenerApi.getOriginalState()])}});unsubscribe=function(){stopListening(),reject()}})),promises=[tuplePromise],null!=timeout&&promises.push(new Promise((function(resolve){return setTimeout(resolve,timeout,null)}))),_c.label=1;case 1:return _c.trys.push([1,,3,4]),[4,raceWithSignal(signal,Promise.race(promises))];case 2:return output=_c.sent(),validateActive(signal),[2,output];case 3:return unsubscribe(),[7];case 4:return[2]}}))}))}(predicate,timeout))}},getListenerEntryPropsFrom=function(options){var type=options.type,actionCreator=options.actionCreator,matcher=options.matcher,predicate=options.predicate,effect=options.effect;if(type)predicate=createAction(type).match;else if(actionCreator)type=actionCreator.type,predicate=actionCreator.match;else if(matcher)predicate=matcher;else if(!predicate)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return assertFunction(effect,"options.listener"),{predicate:predicate,type:type,effect:effect}},createListenerEntry=function(options){var _c=getListenerEntryPropsFrom(options),type=_c.type,predicate=_c.predicate,effect=_c.effect;return{id:nanoid(),effect:effect,type:type,predicate:predicate,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}},cancelActiveListeners=function(entry){entry.pending.forEach((function(controller){abortControllerWithReason(controller,listenerCancelled)}))},createClearListenerMiddleware=function(listenerMap){return function(){listenerMap.forEach(cancelActiveListeners),listenerMap.clear()}},safelyNotifyError=function(errorHandler,errorToNotify,errorInfo){try{errorHandler(errorToNotify,errorInfo)}catch(errorHandlerError){setTimeout((function(){throw errorHandlerError}),0)}},addListener=createAction(alm+"/add"),clearAllListeners=createAction(alm+"/removeAll"),removeListener=createAction(alm+"/remove"),defaultErrorHandler=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];console.error.apply(console,__spreadArray([alm+"/error"],args))};function createListenerMiddleware(middlewareOptions){var _this=this;void 0===middlewareOptions&&(middlewareOptions={});var listenerMap=new Map,extra=middlewareOptions.extra,_c=middlewareOptions.onError,onError=void 0===_c?defaultErrorHandler:_c;assertFunction(onError,"onError");var findListenerEntry=function(comparator){for(var _i=0,_c=Array.from(listenerMap.values());_i<_c.length;_i++){var entry=_c[_i];if(comparator(entry))return entry}},startListening=function(options){var entry=findListenerEntry((function(existingEntry){return existingEntry.effect===options.effect}));return entry||(entry=createListenerEntry(options)),function(entry){return entry.unsubscribe=function(){return listenerMap.delete(entry.id)},listenerMap.set(entry.id,entry),function(cancelOptions){entry.unsubscribe(),(null==cancelOptions?void 0:cancelOptions.cancelActive)&&cancelActiveListeners(entry)}}(entry)},stopListening=function(options){var _c=getListenerEntryPropsFrom(options),type=_c.type,effect=_c.effect,predicate=_c.predicate,entry=findListenerEntry((function(entry2){return("string"==typeof type?entry2.type===type:entry2.predicate===predicate)&&entry2.effect===effect}));return entry&&(entry.unsubscribe(),options.cancelActive&&cancelActiveListeners(entry)),!!entry},notifyListener=function(entry,action,api,getOriginalState){return __async(_this,null,(function(){var internalTaskController,take,listenerError_1;return __generator(this,(function(_c){switch(_c.label){case 0:internalTaskController=new AbortController,take=createTakePattern(startListening,internalTaskController.signal),_c.label=1;case 1:return _c.trys.push([1,3,4,5]),entry.pending.add(internalTaskController),[4,Promise.resolve(entry.effect(action,assign({},api,{getOriginalState:getOriginalState,condition:function(predicate,timeout){return take(predicate,timeout).then(Boolean)},take:take,delay:createDelay(internalTaskController.signal),pause:createPause(internalTaskController.signal),extra:extra,signal:internalTaskController.signal,fork:createFork(internalTaskController.signal),unsubscribe:entry.unsubscribe,subscribe:function(){listenerMap.set(entry.id,entry)},cancelActiveListeners:function(){entry.pending.forEach((function(controller,_,set){controller!==internalTaskController&&(abortControllerWithReason(controller,listenerCancelled),set.delete(controller))}))}})))];case 2:return _c.sent(),[3,5];case 3:return(listenerError_1=_c.sent())instanceof TaskAbortError||safelyNotifyError(onError,listenerError_1,{raisedBy:"effect"}),[3,5];case 4:return abortControllerWithReason(internalTaskController,listenerCompleted),entry.pending.delete(internalTaskController),[7];case 5:return[2]}}))}))},clearListenerMiddleware=createClearListenerMiddleware(listenerMap);return{middleware:function(api){return function(next){return function(action){if(addListener.match(action))return startListening(action.payload);if(!clearAllListeners.match(action)){if(removeListener.match(action))return stopListening(action.payload);var result,originalState=api.getState(),getOriginalState=function(){if(originalState===INTERNAL_NIL_TOKEN)throw new Error(alm+": getOriginalState can only be called synchronously");return originalState};try{if(result=next(action),listenerMap.size>0)for(var currentState=api.getState(),listenerEntries=Array.from(listenerMap.values()),_i=0,listenerEntries_1=listenerEntries;_i<listenerEntries_1.length;_i++){var entry=listenerEntries_1[_i],runListener=!1;try{runListener=entry.predicate(action,currentState,originalState)}catch(predicateError){runListener=!1,safelyNotifyError(onError,predicateError,{raisedBy:"predicate"})}runListener&&notifyListener(entry,action,api,getOriginalState)}}finally{originalState=INTERNAL_NIL_TOKEN}return result}clearListenerMiddleware()}}},startListening:startListening,stopListening:stopListening,clearListeners:clearListenerMiddleware}}var promise,SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=function(){return function(payload){var _c;return{payload:payload,meta:(_c={},_c[SHOULD_AUTOBATCH]=!0,_c)}}},queueMicrotaskShim="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis):function(cb){return(promise||(promise=Promise.resolve())).then(cb).catch((function(err){return setTimeout((function(){throw err}),0)}))},createQueueWithTimer=function(timeout){return function(notify){setTimeout(notify,timeout)}},rAF="undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=function(options){return void 0===options&&(options={type:"raf"}),function(next){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var store=next.apply(void 0,args),notifying=!0,shouldNotifyAtEndOfTick=!1,notificationQueued=!1,listeners=new Set,queueCallback="tick"===options.type?queueMicrotaskShim:"raf"===options.type?rAF:"callback"===options.type?options.queueNotification:createQueueWithTimer(options.timeout),notifyListeners=function(){notificationQueued=!1,shouldNotifyAtEndOfTick&&(shouldNotifyAtEndOfTick=!1,listeners.forEach((function(l){return l()})))};return Object.assign({},store,{subscribe:function(listener2){var unsubscribe=store.subscribe((function(){return notifying&&listener2()}));return listeners.add(listener2),function(){unsubscribe(),listeners.delete(listener2)}},dispatch:function(action){var _a;try{return notifying=!(null==(_a=null==action?void 0:action.meta)?void 0:_a[SHOULD_AUTOBATCH]),(shouldNotifyAtEndOfTick=!notifying)&&(notificationQueued||(notificationQueued=!0,queueCallback(notifyListeners))),store.dispatch(action)}finally{notifying=!0}}})}}};enableES5();export{MiddlewareArray,SHOULD_AUTOBATCH,TaskAbortError,addListener,autoBatchEnhancer,clearAllListeners,configureStore,createAction,createAsyncThunk,createDraftSafeSelector,createEntityAdapter,createImmutableStateInvariantMiddleware,createListenerMiddleware,default2 as createNextState,createReducer,createSelector2 as createSelector,createSerializableStateInvariantMiddleware,createSlice,current2 as current,findNonSerializableValue,freeze,getDefaultMiddleware,getType,isAllOf,isAnyOf,isAsyncThunkAction,isDraft4 as isDraft,isFulfilled,isImmutableDefault,isPending,isPlain,isPlainObject,isRejected,isRejectedWithValue,miniSerializeError,nanoid,original,prepareAutoBatched,removeListener,unwrapResult};