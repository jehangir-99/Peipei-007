"use strict";import{defineAnimation,getReduceMotionForAnimation,recognizePrefixSuffix}from"./util";export const withClamp=function(config,_animationToClamp){return defineAnimation(_animationToClamp,(()=>{const animationToClamp="function"==typeof _animationToClamp?_animationToClamp():_animationToClamp,strippedMin=void 0===config.min?void 0:recognizePrefixSuffix(config.min).strippedValue,strippedMax=void 0===config.max?void 0:recognizePrefixSuffix(config.max).strippedValue;return{isHigherOrder:!0,onFrame:function(animation,now){const finished=animationToClamp.onFrame(animationToClamp,now);if(void 0===animationToClamp.current)return console.warn("[Reanimated] Error inside 'withClamp' animation, the inner animation has invalid current value"),!0;{const{prefix:prefix,strippedValue:strippedValue,suffix:suffix}=recognizePrefixSuffix(animationToClamp.current);let newValue;newValue=void 0!==strippedMax&&strippedMax<strippedValue?strippedMax:void 0!==strippedMin&&strippedMin>strippedValue?strippedMin:strippedValue,animation.current="number"==typeof animationToClamp.current?newValue:`${void 0===prefix?"":prefix}${newValue}${void 0===suffix?"":suffix}`}return finished},onStart:function(animation,value,now,previousAnimation){animation.current=value,animation.previousAnimation=animationToClamp;const animationBeforeClamped=null==previousAnimation?void 0:previousAnimation.previousAnimation;void 0!==config.max&&void 0!==config.min&&config.max<config.min&&console.warn("[Reanimated] Wrong config was provided to withClamp. Min value is bigger than max"),animationToClamp.onStart(animationToClamp,(null==animationBeforeClamped?void 0:animationBeforeClamped.current)||value,now,animationBeforeClamped)},current:animationToClamp.current,callback:finished=>{animationToClamp.callback&&animationToClamp.callback(finished)},previousAnimation:null,reduceMotion:getReduceMotionForAnimation(config.reduceMotion)}}))};