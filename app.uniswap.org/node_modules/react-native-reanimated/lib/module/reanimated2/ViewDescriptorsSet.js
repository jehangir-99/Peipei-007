"use strict";import{useRef}from"react";import{makeMutable}from"./core";import{shouldBeUseWeb}from"./PlatformChecker";export function makeViewDescriptorsSet(){const shareableViewDescriptors=makeMutable([]);return{shareableViewDescriptors:shareableViewDescriptors,add:item=>{shareableViewDescriptors.modify((descriptors=>{const index=descriptors.findIndex((descriptor=>descriptor.tag===item.tag));return-1!==index?descriptors[index]=item:descriptors.push(item),descriptors}),!1)},remove:viewTag=>{shareableViewDescriptors.modify((descriptors=>{const index=descriptors.findIndex((descriptor=>descriptor.tag===viewTag));return-1!==index&&descriptors.splice(index,1),descriptors}),!1)}}}const SHOULD_BE_USE_WEB=shouldBeUseWeb();export const useViewRefSet=SHOULD_BE_USE_WEB?useViewRefSetJS:useViewRefSetNative;function useViewRefSetNative(){}function useViewRefSetJS(){const ref=useRef(null);if(null===ref.current){const data={items:new Set,add:item=>{data.items.has(item)||data.items.add(item)},remove:item=>{data.items.delete(item)}};ref.current=data}return ref.current}