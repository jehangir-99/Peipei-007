"use strict";import{useEffect,useRef}from"react";import{findNodeHandle}from"react-native";import{useEvent}from"./useEvent";import{useSharedValue}from"./useSharedValue";import{isWeb}from"../PlatformChecker";const IS_WEB=isWeb(),scrollEventNames=["onScroll","onScrollBeginDrag","onScrollEndDrag","onMomentumScrollBegin","onMomentumScrollEnd"];export function useScrollViewOffset(animatedRef,initialRef){const offsetRef=useRef(void 0!==initialRef?initialRef:useSharedValue(0)),eventHandler=useEvent((event=>{offsetRef.current.value=0===event.contentOffset.x?event.contentOffset.y:event.contentOffset.x}),scrollEventNames);return useEffect((()=>{const component=animatedRef.current,viewTag=IS_WEB?component:findNodeHandle(component);return eventHandler.workletEventHandler.registerForEvents(viewTag),()=>{var _eventHandler$worklet;null===(_eventHandler$worklet=eventHandler.workletEventHandler)||void 0===_eventHandler$worklet||_eventHandler$worklet.unregisterFromEvents()}}),[animatedRef,animatedRef.current,eventHandler]),offsetRef.current}