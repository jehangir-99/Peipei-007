"use strict";import{useEffect,useRef}from"react";import{makeMutable,subscribeForKeyboardEvents,unsubscribeFromKeyboardEvents}from"../core";import{KeyboardState}from"../commonTypes";export function useAnimatedKeyboard(){let options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isStatusBarTranslucentAndroid:!1};const ref=useRef(null),listenerId=useRef(-1),isSubscribed=useRef(!1);if(null===ref.current){const keyboardEventData={state:makeMutable(KeyboardState.UNKNOWN),height:makeMutable(0)};listenerId.current=subscribeForKeyboardEvents(((state,height)=>{keyboardEventData.state.value=state,keyboardEventData.height.value=height}),options),ref.current=keyboardEventData,isSubscribed.current=!0}return useEffect((()=>{if(!1===isSubscribed.current&&null!==ref.current){const keyboardEventData=ref.current;listenerId.current=subscribeForKeyboardEvents(((state,height)=>{keyboardEventData.state.value=state,keyboardEventData.height.value=height}),options),isSubscribed.current=!0}return()=>{unsubscribeFromKeyboardEvents(listenerId.current),isSubscribed.current=!1}}),[]),ref.current}