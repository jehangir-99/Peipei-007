"use strict";import{useEffect,useRef}from"react";import FrameCallbackRegistryJS from"../frameCallback/FrameCallbackRegistryJS";const frameCallbackRegistry=new FrameCallbackRegistryJS;export function useFrameCallback(callback){let autostart=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const ref=useRef({setActive:isActive=>{frameCallbackRegistry.manageStateFrameCallback(ref.current.callbackId,isActive),ref.current.isActive=isActive},isActive:autostart,callbackId:-1});return useEffect((()=>(ref.current.callbackId=frameCallbackRegistry.registerFrameCallback(callback),ref.current.setActive(ref.current.isActive),()=>{frameCallbackRegistry.unregisterFrameCallback(ref.current.callbackId),ref.current.callbackId=-1})),[callback,autostart]),ref.current}