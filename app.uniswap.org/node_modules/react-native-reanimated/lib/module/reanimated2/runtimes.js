"use strict";import{isWorkletFunction}from"./commonTypes";import{setupCallGuard,setupConsole}from"./initializers";import NativeReanimatedModule from"./NativeReanimated";import{shouldBeUseWeb}from"./PlatformChecker";import{makeShareableCloneOnUIRecursive,makeShareableCloneRecursive}from"./shareables";const SHOULD_BE_USE_WEB=shouldBeUseWeb();export function createWorkletRuntime(name,initializer){return NativeReanimatedModule.createWorkletRuntime(name,makeShareableCloneRecursive((()=>{setupCallGuard(),setupConsole(),null==initializer||initializer()})))}export function runOnRuntime(workletRuntime,worklet){if(__DEV__&&!SHOULD_BE_USE_WEB&&!isWorkletFunction(worklet))throw new Error("[Reanimated] The function passed to `runOnRuntime` is not a worklet."+(_WORKLET?" Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.":""));return _WORKLET?function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return global._scheduleOnRuntime(workletRuntime,makeShareableCloneOnUIRecursive((()=>{worklet(...args)})))}:function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return NativeReanimatedModule.scheduleOnRuntime(workletRuntime,makeShareableCloneRecursive((()=>{worklet(...args)})))}}