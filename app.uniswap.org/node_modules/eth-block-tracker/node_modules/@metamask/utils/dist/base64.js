"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.base64=void 0;const superstruct_1=require("superstruct"),assert_1=require("./assert"),base64=(struct,options={})=>{var _a,_b;const paddingRequired=null!==(_a=options.paddingRequired)&&void 0!==_a&&_a,characterSet=null!==(_b=options.characterSet)&&void 0!==_b?_b:"base64";let letters,re;return"base64"===characterSet?letters=String.raw`[A-Za-z0-9+\/]`:((0,assert_1.assert)("base64url"===characterSet),letters=String.raw`[-_A-Za-z0-9]`),re=paddingRequired?new RegExp(`^(?:${letters}{4})*(?:${letters}{3}=|${letters}{2}==)?$`,"u"):new RegExp(`^(?:${letters}{4})*(?:${letters}{2,3}|${letters}{3}=|${letters}{2}==)?$`,"u"),(0,superstruct_1.pattern)(struct,re)};exports.base64=base64;