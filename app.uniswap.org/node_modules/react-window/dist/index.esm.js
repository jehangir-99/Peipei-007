import _extends from"@babel/runtime/helpers/esm/extends";import _assertThisInitialized from"@babel/runtime/helpers/esm/assertThisInitialized";import _inheritsLoose from"@babel/runtime/helpers/esm/inheritsLoose";import memoizeOne from"memoize-one";import{createElement,PureComponent}from"react";import _objectWithoutPropertiesLoose from"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose";var hasNativePerformanceNow="object"==typeof performance&&"function"==typeof performance.now,now=hasNativePerformanceNow?function(){return performance.now()}:function(){return Date.now()};function cancelTimeout(timeoutID){cancelAnimationFrame(timeoutID.id)}function requestTimeout(callback,delay){var start=now();var timeoutID={id:requestAnimationFrame((function tick(){now()-start>=delay?callback.call(null):timeoutID.id=requestAnimationFrame(tick)}))};return timeoutID}var size=-1;function getScrollbarSize(recalculate){if(void 0===recalculate&&(recalculate=!1),-1===size||recalculate){var div=document.createElement("div"),style=div.style;style.width="50px",style.height="50px",style.overflow="scroll",document.body.appendChild(div),size=div.offsetWidth-div.clientWidth,document.body.removeChild(div)}return size}var cachedRTLResult=null;function getRTLOffsetType(recalculate){if(void 0===recalculate&&(recalculate=!1),null===cachedRTLResult||recalculate){var outerDiv=document.createElement("div"),outerStyle=outerDiv.style;outerStyle.width="50px",outerStyle.height="50px",outerStyle.overflow="scroll",outerStyle.direction="rtl";var innerDiv=document.createElement("div"),innerStyle=innerDiv.style;return innerStyle.width="100px",innerStyle.height="100px",outerDiv.appendChild(innerDiv),document.body.appendChild(outerDiv),outerDiv.scrollLeft>0?cachedRTLResult="positive-descending":(outerDiv.scrollLeft=1,cachedRTLResult=0===outerDiv.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(outerDiv),cachedRTLResult}return cachedRTLResult}var IS_SCROLLING_DEBOUNCE_INTERVAL=150,defaultItemKey=function(_ref){var columnIndex=_ref.columnIndex;_ref.data;return _ref.rowIndex+":"+columnIndex},devWarningsOverscanCount=null,devWarningsOverscanRowsColumnsCount=null,devWarningsTagName=null;function createGridComponent(_ref2){var _class,getColumnOffset=_ref2.getColumnOffset,getColumnStartIndexForOffset=_ref2.getColumnStartIndexForOffset,getColumnStopIndexForStartIndex=_ref2.getColumnStopIndexForStartIndex,getColumnWidth=_ref2.getColumnWidth,getEstimatedTotalHeight=_ref2.getEstimatedTotalHeight,getEstimatedTotalWidth=_ref2.getEstimatedTotalWidth,getOffsetForColumnAndAlignment=_ref2.getOffsetForColumnAndAlignment,getOffsetForRowAndAlignment=_ref2.getOffsetForRowAndAlignment,getRowHeight=_ref2.getRowHeight,getRowOffset=_ref2.getRowOffset,getRowStartIndexForOffset=_ref2.getRowStartIndexForOffset,getRowStopIndexForStartIndex=_ref2.getRowStopIndexForStartIndex,initInstanceProps=_ref2.initInstanceProps,shouldResetStyleCacheOnItemSizeChange=_ref2.shouldResetStyleCacheOnItemSizeChange,validateProps=_ref2.validateProps;return(_class=function(_PureComponent){function Grid(props){var _this;return(_this=_PureComponent.call(this,props)||this)._instanceProps=initInstanceProps(_this.props,_assertThisInitialized(_this)),_this._resetIsScrollingTimeoutId=null,_this._outerRef=void 0,_this.state={instance:_assertThisInitialized(_this),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof _this.props.initialScrollLeft?_this.props.initialScrollLeft:0,scrollTop:"number"==typeof _this.props.initialScrollTop?_this.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},_this._callOnItemsRendered=void 0,_this._callOnItemsRendered=memoizeOne((function(overscanColumnStartIndex,overscanColumnStopIndex,overscanRowStartIndex,overscanRowStopIndex,visibleColumnStartIndex,visibleColumnStopIndex,visibleRowStartIndex,visibleRowStopIndex){return _this.props.onItemsRendered({overscanColumnStartIndex:overscanColumnStartIndex,overscanColumnStopIndex:overscanColumnStopIndex,overscanRowStartIndex:overscanRowStartIndex,overscanRowStopIndex:overscanRowStopIndex,visibleColumnStartIndex:visibleColumnStartIndex,visibleColumnStopIndex:visibleColumnStopIndex,visibleRowStartIndex:visibleRowStartIndex,visibleRowStopIndex:visibleRowStopIndex})})),_this._callOnScroll=void 0,_this._callOnScroll=memoizeOne((function(scrollLeft,scrollTop,horizontalScrollDirection,verticalScrollDirection,scrollUpdateWasRequested){return _this.props.onScroll({horizontalScrollDirection:horizontalScrollDirection,scrollLeft:scrollLeft,scrollTop:scrollTop,verticalScrollDirection:verticalScrollDirection,scrollUpdateWasRequested:scrollUpdateWasRequested})})),_this._getItemStyle=void 0,_this._getItemStyle=function(rowIndex,columnIndex){var style,_this$props=_this.props,columnWidth=_this$props.columnWidth,direction=_this$props.direction,rowHeight=_this$props.rowHeight,itemStyleCache=_this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange&&columnWidth,shouldResetStyleCacheOnItemSizeChange&&direction,shouldResetStyleCacheOnItemSizeChange&&rowHeight),key=rowIndex+":"+columnIndex;if(itemStyleCache.hasOwnProperty(key))style=itemStyleCache[key];else{var _offset=getColumnOffset(_this.props,columnIndex,_this._instanceProps),isRtl="rtl"===direction;itemStyleCache[key]=style={position:"absolute",left:isRtl?void 0:_offset,right:isRtl?_offset:void 0,top:getRowOffset(_this.props,rowIndex,_this._instanceProps),height:getRowHeight(_this.props,rowIndex,_this._instanceProps),width:getColumnWidth(_this.props,columnIndex,_this._instanceProps)}}return style},_this._getItemStyleCache=void 0,_this._getItemStyleCache=memoizeOne((function(_,__,___){return{}})),_this._onScroll=function(event){var _event$currentTarget=event.currentTarget,clientHeight=_event$currentTarget.clientHeight,clientWidth=_event$currentTarget.clientWidth,scrollLeft=_event$currentTarget.scrollLeft,scrollTop=_event$currentTarget.scrollTop,scrollHeight=_event$currentTarget.scrollHeight,scrollWidth=_event$currentTarget.scrollWidth;_this.setState((function(prevState){if(prevState.scrollLeft===scrollLeft&&prevState.scrollTop===scrollTop)return null;var direction=_this.props.direction,calculatedScrollLeft=scrollLeft;if("rtl"===direction)switch(getRTLOffsetType()){case"negative":calculatedScrollLeft=-scrollLeft;break;case"positive-descending":calculatedScrollLeft=scrollWidth-clientWidth-scrollLeft}calculatedScrollLeft=Math.max(0,Math.min(calculatedScrollLeft,scrollWidth-clientWidth));var calculatedScrollTop=Math.max(0,Math.min(scrollTop,scrollHeight-clientHeight));return{isScrolling:!0,horizontalScrollDirection:prevState.scrollLeft<scrollLeft?"forward":"backward",scrollLeft:calculatedScrollLeft,scrollTop:calculatedScrollTop,verticalScrollDirection:prevState.scrollTop<scrollTop?"forward":"backward",scrollUpdateWasRequested:!1}}),_this._resetIsScrollingDebounced)},_this._outerRefSetter=function(ref){var outerRef=_this.props.outerRef;_this._outerRef=ref,"function"==typeof outerRef?outerRef(ref):null!=outerRef&&"object"==typeof outerRef&&outerRef.hasOwnProperty("current")&&(outerRef.current=ref)},_this._resetIsScrollingDebounced=function(){null!==_this._resetIsScrollingTimeoutId&&cancelTimeout(_this._resetIsScrollingTimeoutId),_this._resetIsScrollingTimeoutId=requestTimeout(_this._resetIsScrolling,IS_SCROLLING_DEBOUNCE_INTERVAL)},_this._resetIsScrolling=function(){_this._resetIsScrollingTimeoutId=null,_this.setState({isScrolling:!1},(function(){_this._getItemStyleCache(-1)}))},_this}_inheritsLoose(Grid,_PureComponent),Grid.getDerivedStateFromProps=function(nextProps,prevState){return validateSharedProps(nextProps,prevState),validateProps(nextProps),null};var _proto=Grid.prototype;return _proto.scrollTo=function(_ref3){var scrollLeft=_ref3.scrollLeft,scrollTop=_ref3.scrollTop;void 0!==scrollLeft&&(scrollLeft=Math.max(0,scrollLeft)),void 0!==scrollTop&&(scrollTop=Math.max(0,scrollTop)),this.setState((function(prevState){return void 0===scrollLeft&&(scrollLeft=prevState.scrollLeft),void 0===scrollTop&&(scrollTop=prevState.scrollTop),prevState.scrollLeft===scrollLeft&&prevState.scrollTop===scrollTop?null:{horizontalScrollDirection:prevState.scrollLeft<scrollLeft?"forward":"backward",scrollLeft:scrollLeft,scrollTop:scrollTop,scrollUpdateWasRequested:!0,verticalScrollDirection:prevState.scrollTop<scrollTop?"forward":"backward"}}),this._resetIsScrollingDebounced)},_proto.scrollToItem=function(_ref4){var _ref4$align=_ref4.align,align=void 0===_ref4$align?"auto":_ref4$align,columnIndex=_ref4.columnIndex,rowIndex=_ref4.rowIndex,_this$props2=this.props,columnCount=_this$props2.columnCount,height=_this$props2.height,rowCount=_this$props2.rowCount,width=_this$props2.width,_this$state=this.state,scrollLeft=_this$state.scrollLeft,scrollTop=_this$state.scrollTop,scrollbarSize=getScrollbarSize();void 0!==columnIndex&&(columnIndex=Math.max(0,Math.min(columnIndex,columnCount-1))),void 0!==rowIndex&&(rowIndex=Math.max(0,Math.min(rowIndex,rowCount-1)));var estimatedTotalHeight=getEstimatedTotalHeight(this.props,this._instanceProps),horizontalScrollbarSize=getEstimatedTotalWidth(this.props,this._instanceProps)>width?scrollbarSize:0,verticalScrollbarSize=estimatedTotalHeight>height?scrollbarSize:0;this.scrollTo({scrollLeft:void 0!==columnIndex?getOffsetForColumnAndAlignment(this.props,columnIndex,align,scrollLeft,this._instanceProps,verticalScrollbarSize):scrollLeft,scrollTop:void 0!==rowIndex?getOffsetForRowAndAlignment(this.props,rowIndex,align,scrollTop,this._instanceProps,horizontalScrollbarSize):scrollTop})},_proto.componentDidMount=function(){var _this$props3=this.props,initialScrollLeft=_this$props3.initialScrollLeft,initialScrollTop=_this$props3.initialScrollTop;if(null!=this._outerRef){var outerRef=this._outerRef;"number"==typeof initialScrollLeft&&(outerRef.scrollLeft=initialScrollLeft),"number"==typeof initialScrollTop&&(outerRef.scrollTop=initialScrollTop)}this._callPropsCallbacks()},_proto.componentDidUpdate=function(){var direction=this.props.direction,_this$state2=this.state,scrollLeft=_this$state2.scrollLeft,scrollTop=_this$state2.scrollTop;if(_this$state2.scrollUpdateWasRequested&&null!=this._outerRef){var outerRef=this._outerRef;if("rtl"===direction)switch(getRTLOffsetType()){case"negative":outerRef.scrollLeft=-scrollLeft;break;case"positive-ascending":outerRef.scrollLeft=scrollLeft;break;default:var clientWidth=outerRef.clientWidth,scrollWidth=outerRef.scrollWidth;outerRef.scrollLeft=scrollWidth-clientWidth-scrollLeft}else outerRef.scrollLeft=Math.max(0,scrollLeft);outerRef.scrollTop=Math.max(0,scrollTop)}this._callPropsCallbacks()},_proto.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelTimeout(this._resetIsScrollingTimeoutId)},_proto.render=function(){var _this$props4=this.props,children=_this$props4.children,className=_this$props4.className,columnCount=_this$props4.columnCount,direction=_this$props4.direction,height=_this$props4.height,innerRef=_this$props4.innerRef,innerElementType=_this$props4.innerElementType,innerTagName=_this$props4.innerTagName,itemData=_this$props4.itemData,_this$props4$itemKey=_this$props4.itemKey,itemKey=void 0===_this$props4$itemKey?defaultItemKey:_this$props4$itemKey,outerElementType=_this$props4.outerElementType,outerTagName=_this$props4.outerTagName,rowCount=_this$props4.rowCount,style=_this$props4.style,useIsScrolling=_this$props4.useIsScrolling,width=_this$props4.width,isScrolling=this.state.isScrolling,_this$_getHorizontalR=this._getHorizontalRangeToRender(),columnStartIndex=_this$_getHorizontalR[0],columnStopIndex=_this$_getHorizontalR[1],_this$_getVerticalRan=this._getVerticalRangeToRender(),rowStartIndex=_this$_getVerticalRan[0],rowStopIndex=_this$_getVerticalRan[1],items=[];if(columnCount>0&&rowCount)for(var _rowIndex=rowStartIndex;_rowIndex<=rowStopIndex;_rowIndex++)for(var _columnIndex=columnStartIndex;_columnIndex<=columnStopIndex;_columnIndex++)items.push(createElement(children,{columnIndex:_columnIndex,data:itemData,isScrolling:useIsScrolling?isScrolling:void 0,key:itemKey({columnIndex:_columnIndex,data:itemData,rowIndex:_rowIndex}),rowIndex:_rowIndex,style:this._getItemStyle(_rowIndex,_columnIndex)}));var estimatedTotalHeight=getEstimatedTotalHeight(this.props,this._instanceProps),estimatedTotalWidth=getEstimatedTotalWidth(this.props,this._instanceProps);return createElement(outerElementType||outerTagName||"div",{className:className,onScroll:this._onScroll,ref:this._outerRefSetter,style:_extends({position:"relative",height:height,width:width,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:direction},style)},createElement(innerElementType||innerTagName||"div",{children:items,ref:innerRef,style:{height:estimatedTotalHeight,pointerEvents:isScrolling?"none":void 0,width:estimatedTotalWidth}}))},_proto._callPropsCallbacks=function(){var _this$props5=this.props,columnCount=_this$props5.columnCount,onItemsRendered=_this$props5.onItemsRendered,onScroll=_this$props5.onScroll,rowCount=_this$props5.rowCount;if("function"==typeof onItemsRendered&&columnCount>0&&rowCount>0){var _this$_getHorizontalR2=this._getHorizontalRangeToRender(),_overscanColumnStartIndex=_this$_getHorizontalR2[0],_overscanColumnStopIndex=_this$_getHorizontalR2[1],_visibleColumnStartIndex=_this$_getHorizontalR2[2],_visibleColumnStopIndex=_this$_getHorizontalR2[3],_this$_getVerticalRan2=this._getVerticalRangeToRender(),_overscanRowStartIndex=_this$_getVerticalRan2[0],_overscanRowStopIndex=_this$_getVerticalRan2[1],_visibleRowStartIndex=_this$_getVerticalRan2[2],_visibleRowStopIndex=_this$_getVerticalRan2[3];this._callOnItemsRendered(_overscanColumnStartIndex,_overscanColumnStopIndex,_overscanRowStartIndex,_overscanRowStopIndex,_visibleColumnStartIndex,_visibleColumnStopIndex,_visibleRowStartIndex,_visibleRowStopIndex)}if("function"==typeof onScroll){var _this$state3=this.state,_horizontalScrollDirection=_this$state3.horizontalScrollDirection,_scrollLeft=_this$state3.scrollLeft,_scrollTop=_this$state3.scrollTop,_scrollUpdateWasRequested=_this$state3.scrollUpdateWasRequested,_verticalScrollDirection=_this$state3.verticalScrollDirection;this._callOnScroll(_scrollLeft,_scrollTop,_horizontalScrollDirection,_verticalScrollDirection,_scrollUpdateWasRequested)}},_proto._getHorizontalRangeToRender=function(){var _this$props6=this.props,columnCount=_this$props6.columnCount,overscanColumnCount=_this$props6.overscanColumnCount,overscanColumnsCount=_this$props6.overscanColumnsCount,overscanCount=_this$props6.overscanCount,rowCount=_this$props6.rowCount,_this$state4=this.state,horizontalScrollDirection=_this$state4.horizontalScrollDirection,isScrolling=_this$state4.isScrolling,scrollLeft=_this$state4.scrollLeft,overscanCountResolved=overscanColumnCount||overscanColumnsCount||overscanCount||1;if(0===columnCount||0===rowCount)return[0,0,0,0];var startIndex=getColumnStartIndexForOffset(this.props,scrollLeft,this._instanceProps),stopIndex=getColumnStopIndexForStartIndex(this.props,startIndex,scrollLeft,this._instanceProps),overscanBackward=isScrolling&&"backward"!==horizontalScrollDirection?1:Math.max(1,overscanCountResolved),overscanForward=isScrolling&&"forward"!==horizontalScrollDirection?1:Math.max(1,overscanCountResolved);return[Math.max(0,startIndex-overscanBackward),Math.max(0,Math.min(columnCount-1,stopIndex+overscanForward)),startIndex,stopIndex]},_proto._getVerticalRangeToRender=function(){var _this$props7=this.props,columnCount=_this$props7.columnCount,overscanCount=_this$props7.overscanCount,overscanRowCount=_this$props7.overscanRowCount,overscanRowsCount=_this$props7.overscanRowsCount,rowCount=_this$props7.rowCount,_this$state5=this.state,isScrolling=_this$state5.isScrolling,verticalScrollDirection=_this$state5.verticalScrollDirection,scrollTop=_this$state5.scrollTop,overscanCountResolved=overscanRowCount||overscanRowsCount||overscanCount||1;if(0===columnCount||0===rowCount)return[0,0,0,0];var startIndex=getRowStartIndexForOffset(this.props,scrollTop,this._instanceProps),stopIndex=getRowStopIndexForStartIndex(this.props,startIndex,scrollTop,this._instanceProps),overscanBackward=isScrolling&&"backward"!==verticalScrollDirection?1:Math.max(1,overscanCountResolved),overscanForward=isScrolling&&"forward"!==verticalScrollDirection?1:Math.max(1,overscanCountResolved);return[Math.max(0,startIndex-overscanBackward),Math.max(0,Math.min(rowCount-1,stopIndex+overscanForward)),startIndex,stopIndex]},Grid}(PureComponent)).defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},_class}"production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&void 0!==window.WeakSet&&(devWarningsOverscanCount=new WeakSet,devWarningsOverscanRowsColumnsCount=new WeakSet,devWarningsTagName=new WeakSet);var validateSharedProps=function(_ref5,_ref6){var children=_ref5.children,direction=_ref5.direction,height=_ref5.height,innerTagName=_ref5.innerTagName,outerTagName=_ref5.outerTagName,overscanColumnsCount=_ref5.overscanColumnsCount,overscanCount=_ref5.overscanCount,overscanRowsCount=_ref5.overscanRowsCount,width=_ref5.width,instance=_ref6.instance;if("production"!==process.env.NODE_ENV){if("number"==typeof overscanCount&&devWarningsOverscanCount&&!devWarningsOverscanCount.has(instance)&&(devWarningsOverscanCount.add(instance),console.warn("The overscanCount prop has been deprecated. Please use the overscanColumnCount and overscanRowCount props instead.")),"number"!=typeof overscanColumnsCount&&"number"!=typeof overscanRowsCount||devWarningsOverscanRowsColumnsCount&&!devWarningsOverscanRowsColumnsCount.has(instance)&&(devWarningsOverscanRowsColumnsCount.add(instance),console.warn("The overscanColumnsCount and overscanRowsCount props have been deprecated. Please use the overscanColumnCount and overscanRowCount props instead.")),null==innerTagName&&null==outerTagName||devWarningsTagName&&!devWarningsTagName.has(instance)&&(devWarningsTagName.add(instance),console.warn("The innerTagName and outerTagName props have been deprecated. Please use the innerElementType and outerElementType props instead.")),null==children)throw Error('An invalid "children" prop has been specified. Value should be a React component. "'+(null===children?"null":typeof children)+'" was specified.');switch(direction){case"ltr":case"rtl":break;default:throw Error('An invalid "direction" prop has been specified. Value should be either "ltr" or "rtl". "'+direction+'" was specified.')}if("number"!=typeof width)throw Error('An invalid "width" prop has been specified. Grids must specify a number for width. "'+(null===width?"null":typeof width)+'" was specified.');if("number"!=typeof height)throw Error('An invalid "height" prop has been specified. Grids must specify a number for height. "'+(null===height?"null":typeof height)+'" was specified.')}},DEFAULT_ESTIMATED_ITEM_SIZE=50,getEstimatedTotalHeight=function(_ref,_ref2){var rowCount=_ref.rowCount,rowMetadataMap=_ref2.rowMetadataMap,estimatedRowHeight=_ref2.estimatedRowHeight,lastMeasuredRowIndex=_ref2.lastMeasuredRowIndex,totalSizeOfMeasuredRows=0;if(lastMeasuredRowIndex>=rowCount&&(lastMeasuredRowIndex=rowCount-1),lastMeasuredRowIndex>=0){var itemMetadata=rowMetadataMap[lastMeasuredRowIndex];totalSizeOfMeasuredRows=itemMetadata.offset+itemMetadata.size}return totalSizeOfMeasuredRows+(rowCount-lastMeasuredRowIndex-1)*estimatedRowHeight},getEstimatedTotalWidth=function(_ref3,_ref4){var columnCount=_ref3.columnCount,columnMetadataMap=_ref4.columnMetadataMap,estimatedColumnWidth=_ref4.estimatedColumnWidth,lastMeasuredColumnIndex=_ref4.lastMeasuredColumnIndex,totalSizeOfMeasuredRows=0;if(lastMeasuredColumnIndex>=columnCount&&(lastMeasuredColumnIndex=columnCount-1),lastMeasuredColumnIndex>=0){var itemMetadata=columnMetadataMap[lastMeasuredColumnIndex];totalSizeOfMeasuredRows=itemMetadata.offset+itemMetadata.size}return totalSizeOfMeasuredRows+(columnCount-lastMeasuredColumnIndex-1)*estimatedColumnWidth},getItemMetadata=function(itemType,props,index,instanceProps){var itemMetadataMap,itemSize,lastMeasuredIndex;if("column"===itemType?(itemMetadataMap=instanceProps.columnMetadataMap,itemSize=props.columnWidth,lastMeasuredIndex=instanceProps.lastMeasuredColumnIndex):(itemMetadataMap=instanceProps.rowMetadataMap,itemSize=props.rowHeight,lastMeasuredIndex=instanceProps.lastMeasuredRowIndex),index>lastMeasuredIndex){var offset=0;if(lastMeasuredIndex>=0){var itemMetadata=itemMetadataMap[lastMeasuredIndex];offset=itemMetadata.offset+itemMetadata.size}for(var i=lastMeasuredIndex+1;i<=index;i++){var size=itemSize(i);itemMetadataMap[i]={offset:offset,size:size},offset+=size}"column"===itemType?instanceProps.lastMeasuredColumnIndex=index:instanceProps.lastMeasuredRowIndex=index}return itemMetadataMap[index]},findNearestItem=function(itemType,props,instanceProps,offset){var itemMetadataMap,lastMeasuredIndex;return"column"===itemType?(itemMetadataMap=instanceProps.columnMetadataMap,lastMeasuredIndex=instanceProps.lastMeasuredColumnIndex):(itemMetadataMap=instanceProps.rowMetadataMap,lastMeasuredIndex=instanceProps.lastMeasuredRowIndex),(lastMeasuredIndex>0?itemMetadataMap[lastMeasuredIndex].offset:0)>=offset?findNearestItemBinarySearch(itemType,props,instanceProps,lastMeasuredIndex,0,offset):findNearestItemExponentialSearch(itemType,props,instanceProps,Math.max(0,lastMeasuredIndex),offset)},findNearestItemBinarySearch=function(itemType,props,instanceProps,high,low,offset){for(;low<=high;){var middle=low+Math.floor((high-low)/2),currentOffset=getItemMetadata(itemType,props,middle,instanceProps).offset;if(currentOffset===offset)return middle;currentOffset<offset?low=middle+1:currentOffset>offset&&(high=middle-1)}return low>0?low-1:0},findNearestItemExponentialSearch=function(itemType,props,instanceProps,index,offset){for(var itemCount="column"===itemType?props.columnCount:props.rowCount,interval=1;index<itemCount&&getItemMetadata(itemType,props,index,instanceProps).offset<offset;)index+=interval,interval*=2;return findNearestItemBinarySearch(itemType,props,instanceProps,Math.min(index,itemCount-1),Math.floor(index/2),offset)},getOffsetForIndexAndAlignment=function(itemType,props,index,align,scrollOffset,instanceProps,scrollbarSize){var size="column"===itemType?props.width:props.height,itemMetadata=getItemMetadata(itemType,props,index,instanceProps),estimatedTotalSize="column"===itemType?getEstimatedTotalWidth(props,instanceProps):getEstimatedTotalHeight(props,instanceProps),maxOffset=Math.max(0,Math.min(estimatedTotalSize-size,itemMetadata.offset)),minOffset=Math.max(0,itemMetadata.offset-size+scrollbarSize+itemMetadata.size);switch("smart"===align&&(align=scrollOffset>=minOffset-size&&scrollOffset<=maxOffset+size?"auto":"center"),align){case"start":return maxOffset;case"end":return minOffset;case"center":return Math.round(minOffset+(maxOffset-minOffset)/2);default:return scrollOffset>=minOffset&&scrollOffset<=maxOffset?scrollOffset:minOffset>maxOffset||scrollOffset<minOffset?minOffset:maxOffset}},VariableSizeGrid=createGridComponent({getColumnOffset:function(props,index,instanceProps){return getItemMetadata("column",props,index,instanceProps).offset},getColumnStartIndexForOffset:function(props,scrollLeft,instanceProps){return findNearestItem("column",props,instanceProps,scrollLeft)},getColumnStopIndexForStartIndex:function(props,startIndex,scrollLeft,instanceProps){for(var columnCount=props.columnCount,width=props.width,itemMetadata=getItemMetadata("column",props,startIndex,instanceProps),maxOffset=scrollLeft+width,offset=itemMetadata.offset+itemMetadata.size,stopIndex=startIndex;stopIndex<columnCount-1&&offset<maxOffset;)stopIndex++,offset+=getItemMetadata("column",props,stopIndex,instanceProps).size;return stopIndex},getColumnWidth:function(props,index,instanceProps){return instanceProps.columnMetadataMap[index].size},getEstimatedTotalHeight:getEstimatedTotalHeight,getEstimatedTotalWidth:getEstimatedTotalWidth,getOffsetForColumnAndAlignment:function(props,index,align,scrollOffset,instanceProps,scrollbarSize){return getOffsetForIndexAndAlignment("column",props,index,align,scrollOffset,instanceProps,scrollbarSize)},getOffsetForRowAndAlignment:function(props,index,align,scrollOffset,instanceProps,scrollbarSize){return getOffsetForIndexAndAlignment("row",props,index,align,scrollOffset,instanceProps,scrollbarSize)},getRowOffset:function(props,index,instanceProps){return getItemMetadata("row",props,index,instanceProps).offset},getRowHeight:function(props,index,instanceProps){return instanceProps.rowMetadataMap[index].size},getRowStartIndexForOffset:function(props,scrollTop,instanceProps){return findNearestItem("row",props,instanceProps,scrollTop)},getRowStopIndexForStartIndex:function(props,startIndex,scrollTop,instanceProps){for(var rowCount=props.rowCount,height=props.height,itemMetadata=getItemMetadata("row",props,startIndex,instanceProps),maxOffset=scrollTop+height,offset=itemMetadata.offset+itemMetadata.size,stopIndex=startIndex;stopIndex<rowCount-1&&offset<maxOffset;)stopIndex++,offset+=getItemMetadata("row",props,stopIndex,instanceProps).size;return stopIndex},initInstanceProps:function(props,instance){var _ref5=props,estimatedColumnWidth=_ref5.estimatedColumnWidth,estimatedRowHeight=_ref5.estimatedRowHeight,instanceProps={columnMetadataMap:{},estimatedColumnWidth:estimatedColumnWidth||DEFAULT_ESTIMATED_ITEM_SIZE,estimatedRowHeight:estimatedRowHeight||DEFAULT_ESTIMATED_ITEM_SIZE,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return instance.resetAfterColumnIndex=function(columnIndex,shouldForceUpdate){void 0===shouldForceUpdate&&(shouldForceUpdate=!0),instance.resetAfterIndices({columnIndex:columnIndex,shouldForceUpdate:shouldForceUpdate})},instance.resetAfterRowIndex=function(rowIndex,shouldForceUpdate){void 0===shouldForceUpdate&&(shouldForceUpdate=!0),instance.resetAfterIndices({rowIndex:rowIndex,shouldForceUpdate:shouldForceUpdate})},instance.resetAfterIndices=function(_ref6){var columnIndex=_ref6.columnIndex,rowIndex=_ref6.rowIndex,_ref6$shouldForceUpda=_ref6.shouldForceUpdate,shouldForceUpdate=void 0===_ref6$shouldForceUpda||_ref6$shouldForceUpda;"number"==typeof columnIndex&&(instanceProps.lastMeasuredColumnIndex=Math.min(instanceProps.lastMeasuredColumnIndex,columnIndex-1)),"number"==typeof rowIndex&&(instanceProps.lastMeasuredRowIndex=Math.min(instanceProps.lastMeasuredRowIndex,rowIndex-1)),instance._getItemStyleCache(-1),shouldForceUpdate&&instance.forceUpdate()},instanceProps},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(_ref7){var columnWidth=_ref7.columnWidth,rowHeight=_ref7.rowHeight;if("production"!==process.env.NODE_ENV){if("function"!=typeof columnWidth)throw Error('An invalid "columnWidth" prop has been specified. Value should be a function. "'+(null===columnWidth?"null":typeof columnWidth)+'" was specified.');if("function"!=typeof rowHeight)throw Error('An invalid "rowHeight" prop has been specified. Value should be a function. "'+(null===rowHeight?"null":typeof rowHeight)+'" was specified.')}}}),IS_SCROLLING_DEBOUNCE_INTERVAL$1=150,defaultItemKey$1=function(index,data){return index},devWarningsDirection=null,devWarningsTagName$1=null;function createListComponent(_ref){var _class,getItemOffset=_ref.getItemOffset,getEstimatedTotalSize=_ref.getEstimatedTotalSize,getItemSize=_ref.getItemSize,getOffsetForIndexAndAlignment=_ref.getOffsetForIndexAndAlignment,getStartIndexForOffset=_ref.getStartIndexForOffset,getStopIndexForStartIndex=_ref.getStopIndexForStartIndex,initInstanceProps=_ref.initInstanceProps,shouldResetStyleCacheOnItemSizeChange=_ref.shouldResetStyleCacheOnItemSizeChange,validateProps=_ref.validateProps;return _class=function(_PureComponent){function List(props){var _this;return(_this=_PureComponent.call(this,props)||this)._instanceProps=initInstanceProps(_this.props,_assertThisInitialized(_this)),_this._outerRef=void 0,_this._resetIsScrollingTimeoutId=null,_this.state={instance:_assertThisInitialized(_this),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof _this.props.initialScrollOffset?_this.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},_this._callOnItemsRendered=void 0,_this._callOnItemsRendered=memoizeOne((function(overscanStartIndex,overscanStopIndex,visibleStartIndex,visibleStopIndex){return _this.props.onItemsRendered({overscanStartIndex:overscanStartIndex,overscanStopIndex:overscanStopIndex,visibleStartIndex:visibleStartIndex,visibleStopIndex:visibleStopIndex})})),_this._callOnScroll=void 0,_this._callOnScroll=memoizeOne((function(scrollDirection,scrollOffset,scrollUpdateWasRequested){return _this.props.onScroll({scrollDirection:scrollDirection,scrollOffset:scrollOffset,scrollUpdateWasRequested:scrollUpdateWasRequested})})),_this._getItemStyle=void 0,_this._getItemStyle=function(index){var style,_this$props=_this.props,direction=_this$props.direction,itemSize=_this$props.itemSize,layout=_this$props.layout,itemStyleCache=_this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange&&itemSize,shouldResetStyleCacheOnItemSizeChange&&layout,shouldResetStyleCacheOnItemSizeChange&&direction);if(itemStyleCache.hasOwnProperty(index))style=itemStyleCache[index];else{var _offset=getItemOffset(_this.props,index,_this._instanceProps),size=getItemSize(_this.props,index,_this._instanceProps),isHorizontal="horizontal"===direction||"horizontal"===layout,isRtl="rtl"===direction,offsetHorizontal=isHorizontal?_offset:0;itemStyleCache[index]=style={position:"absolute",left:isRtl?void 0:offsetHorizontal,right:isRtl?offsetHorizontal:void 0,top:isHorizontal?0:_offset,height:isHorizontal?"100%":size,width:isHorizontal?size:"100%"}}return style},_this._getItemStyleCache=void 0,_this._getItemStyleCache=memoizeOne((function(_,__,___){return{}})),_this._onScrollHorizontal=function(event){var _event$currentTarget=event.currentTarget,clientWidth=_event$currentTarget.clientWidth,scrollLeft=_event$currentTarget.scrollLeft,scrollWidth=_event$currentTarget.scrollWidth;_this.setState((function(prevState){if(prevState.scrollOffset===scrollLeft)return null;var direction=_this.props.direction,scrollOffset=scrollLeft;if("rtl"===direction)switch(getRTLOffsetType()){case"negative":scrollOffset=-scrollLeft;break;case"positive-descending":scrollOffset=scrollWidth-clientWidth-scrollLeft}return scrollOffset=Math.max(0,Math.min(scrollOffset,scrollWidth-clientWidth)),{isScrolling:!0,scrollDirection:prevState.scrollOffset<scrollLeft?"forward":"backward",scrollOffset:scrollOffset,scrollUpdateWasRequested:!1}}),_this._resetIsScrollingDebounced)},_this._onScrollVertical=function(event){var _event$currentTarget2=event.currentTarget,clientHeight=_event$currentTarget2.clientHeight,scrollHeight=_event$currentTarget2.scrollHeight,scrollTop=_event$currentTarget2.scrollTop;_this.setState((function(prevState){if(prevState.scrollOffset===scrollTop)return null;var scrollOffset=Math.max(0,Math.min(scrollTop,scrollHeight-clientHeight));return{isScrolling:!0,scrollDirection:prevState.scrollOffset<scrollOffset?"forward":"backward",scrollOffset:scrollOffset,scrollUpdateWasRequested:!1}}),_this._resetIsScrollingDebounced)},_this._outerRefSetter=function(ref){var outerRef=_this.props.outerRef;_this._outerRef=ref,"function"==typeof outerRef?outerRef(ref):null!=outerRef&&"object"==typeof outerRef&&outerRef.hasOwnProperty("current")&&(outerRef.current=ref)},_this._resetIsScrollingDebounced=function(){null!==_this._resetIsScrollingTimeoutId&&cancelTimeout(_this._resetIsScrollingTimeoutId),_this._resetIsScrollingTimeoutId=requestTimeout(_this._resetIsScrolling,IS_SCROLLING_DEBOUNCE_INTERVAL$1)},_this._resetIsScrolling=function(){_this._resetIsScrollingTimeoutId=null,_this.setState({isScrolling:!1},(function(){_this._getItemStyleCache(-1,null)}))},_this}_inheritsLoose(List,_PureComponent),List.getDerivedStateFromProps=function(nextProps,prevState){return validateSharedProps$1(nextProps,prevState),validateProps(nextProps),null};var _proto=List.prototype;return _proto.scrollTo=function(scrollOffset){scrollOffset=Math.max(0,scrollOffset),this.setState((function(prevState){return prevState.scrollOffset===scrollOffset?null:{scrollDirection:prevState.scrollOffset<scrollOffset?"forward":"backward",scrollOffset:scrollOffset,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},_proto.scrollToItem=function(index,align){void 0===align&&(align="auto");var _this$props2=this.props,itemCount=_this$props2.itemCount,layout=_this$props2.layout,scrollOffset=this.state.scrollOffset;index=Math.max(0,Math.min(index,itemCount-1));var scrollbarSize=0;if(this._outerRef){var outerRef=this._outerRef;scrollbarSize="vertical"===layout?outerRef.scrollWidth>outerRef.clientWidth?getScrollbarSize():0:outerRef.scrollHeight>outerRef.clientHeight?getScrollbarSize():0}this.scrollTo(getOffsetForIndexAndAlignment(this.props,index,align,scrollOffset,this._instanceProps,scrollbarSize))},_proto.componentDidMount=function(){var _this$props3=this.props,direction=_this$props3.direction,initialScrollOffset=_this$props3.initialScrollOffset,layout=_this$props3.layout;if("number"==typeof initialScrollOffset&&null!=this._outerRef){var outerRef=this._outerRef;"horizontal"===direction||"horizontal"===layout?outerRef.scrollLeft=initialScrollOffset:outerRef.scrollTop=initialScrollOffset}this._callPropsCallbacks()},_proto.componentDidUpdate=function(){var _this$props4=this.props,direction=_this$props4.direction,layout=_this$props4.layout,_this$state=this.state,scrollOffset=_this$state.scrollOffset;if(_this$state.scrollUpdateWasRequested&&null!=this._outerRef){var outerRef=this._outerRef;if("horizontal"===direction||"horizontal"===layout)if("rtl"===direction)switch(getRTLOffsetType()){case"negative":outerRef.scrollLeft=-scrollOffset;break;case"positive-ascending":outerRef.scrollLeft=scrollOffset;break;default:var clientWidth=outerRef.clientWidth,scrollWidth=outerRef.scrollWidth;outerRef.scrollLeft=scrollWidth-clientWidth-scrollOffset}else outerRef.scrollLeft=scrollOffset;else outerRef.scrollTop=scrollOffset}this._callPropsCallbacks()},_proto.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelTimeout(this._resetIsScrollingTimeoutId)},_proto.render=function(){var _this$props5=this.props,children=_this$props5.children,className=_this$props5.className,direction=_this$props5.direction,height=_this$props5.height,innerRef=_this$props5.innerRef,innerElementType=_this$props5.innerElementType,innerTagName=_this$props5.innerTagName,itemCount=_this$props5.itemCount,itemData=_this$props5.itemData,_this$props5$itemKey=_this$props5.itemKey,itemKey=void 0===_this$props5$itemKey?defaultItemKey$1:_this$props5$itemKey,layout=_this$props5.layout,outerElementType=_this$props5.outerElementType,outerTagName=_this$props5.outerTagName,style=_this$props5.style,useIsScrolling=_this$props5.useIsScrolling,width=_this$props5.width,isScrolling=this.state.isScrolling,isHorizontal="horizontal"===direction||"horizontal"===layout,onScroll=isHorizontal?this._onScrollHorizontal:this._onScrollVertical,_this$_getRangeToRend=this._getRangeToRender(),startIndex=_this$_getRangeToRend[0],stopIndex=_this$_getRangeToRend[1],items=[];if(itemCount>0)for(var _index=startIndex;_index<=stopIndex;_index++)items.push(createElement(children,{data:itemData,key:itemKey(_index,itemData),index:_index,isScrolling:useIsScrolling?isScrolling:void 0,style:this._getItemStyle(_index)}));var estimatedTotalSize=getEstimatedTotalSize(this.props,this._instanceProps);return createElement(outerElementType||outerTagName||"div",{className:className,onScroll:onScroll,ref:this._outerRefSetter,style:_extends({position:"relative",height:height,width:width,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:direction},style)},createElement(innerElementType||innerTagName||"div",{children:items,ref:innerRef,style:{height:isHorizontal?"100%":estimatedTotalSize,pointerEvents:isScrolling?"none":void 0,width:isHorizontal?estimatedTotalSize:"100%"}}))},_proto._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var _this$_getRangeToRend2=this._getRangeToRender(),_overscanStartIndex=_this$_getRangeToRend2[0],_overscanStopIndex=_this$_getRangeToRend2[1],_visibleStartIndex=_this$_getRangeToRend2[2],_visibleStopIndex=_this$_getRangeToRend2[3];this._callOnItemsRendered(_overscanStartIndex,_overscanStopIndex,_visibleStartIndex,_visibleStopIndex)}if("function"==typeof this.props.onScroll){var _this$state2=this.state,_scrollDirection=_this$state2.scrollDirection,_scrollOffset=_this$state2.scrollOffset,_scrollUpdateWasRequested=_this$state2.scrollUpdateWasRequested;this._callOnScroll(_scrollDirection,_scrollOffset,_scrollUpdateWasRequested)}},_proto._getRangeToRender=function(){var _this$props6=this.props,itemCount=_this$props6.itemCount,overscanCount=_this$props6.overscanCount,_this$state3=this.state,isScrolling=_this$state3.isScrolling,scrollDirection=_this$state3.scrollDirection,scrollOffset=_this$state3.scrollOffset;if(0===itemCount)return[0,0,0,0];var startIndex=getStartIndexForOffset(this.props,scrollOffset,this._instanceProps),stopIndex=getStopIndexForStartIndex(this.props,startIndex,scrollOffset,this._instanceProps),overscanBackward=isScrolling&&"backward"!==scrollDirection?1:Math.max(1,overscanCount),overscanForward=isScrolling&&"forward"!==scrollDirection?1:Math.max(1,overscanCount);return[Math.max(0,startIndex-overscanBackward),Math.max(0,Math.min(itemCount-1,stopIndex+overscanForward)),startIndex,stopIndex]},List}(PureComponent),_class.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},_class}"production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&void 0!==window.WeakSet&&(devWarningsDirection=new WeakSet,devWarningsTagName$1=new WeakSet);var validateSharedProps$1=function(_ref2,_ref3){var children=_ref2.children,direction=_ref2.direction,height=_ref2.height,layout=_ref2.layout,innerTagName=_ref2.innerTagName,outerTagName=_ref2.outerTagName,width=_ref2.width,instance=_ref3.instance;if("production"!==process.env.NODE_ENV){null==innerTagName&&null==outerTagName||devWarningsTagName$1&&!devWarningsTagName$1.has(instance)&&(devWarningsTagName$1.add(instance),console.warn("The innerTagName and outerTagName props have been deprecated. Please use the innerElementType and outerElementType props instead."));var isHorizontal="horizontal"===direction||"horizontal"===layout;switch(direction){case"horizontal":case"vertical":devWarningsDirection&&!devWarningsDirection.has(instance)&&(devWarningsDirection.add(instance),console.warn('The direction prop should be either "ltr" (default) or "rtl". Please use the layout prop to specify "vertical" (default) or "horizontal" orientation.'));break;case"ltr":case"rtl":break;default:throw Error('An invalid "direction" prop has been specified. Value should be either "ltr" or "rtl". "'+direction+'" was specified.')}switch(layout){case"horizontal":case"vertical":break;default:throw Error('An invalid "layout" prop has been specified. Value should be either "horizontal" or "vertical". "'+layout+'" was specified.')}if(null==children)throw Error('An invalid "children" prop has been specified. Value should be a React component. "'+(null===children?"null":typeof children)+'" was specified.');if(isHorizontal&&"number"!=typeof width)throw Error('An invalid "width" prop has been specified. Horizontal lists must specify a number for width. "'+(null===width?"null":typeof width)+'" was specified.');if(!isHorizontal&&"number"!=typeof height)throw Error('An invalid "height" prop has been specified. Vertical lists must specify a number for height. "'+(null===height?"null":typeof height)+'" was specified.')}},DEFAULT_ESTIMATED_ITEM_SIZE$1=50,getItemMetadata$1=function(props,index,instanceProps){var itemSize=props.itemSize,itemMetadataMap=instanceProps.itemMetadataMap,lastMeasuredIndex=instanceProps.lastMeasuredIndex;if(index>lastMeasuredIndex){var offset=0;if(lastMeasuredIndex>=0){var itemMetadata=itemMetadataMap[lastMeasuredIndex];offset=itemMetadata.offset+itemMetadata.size}for(var i=lastMeasuredIndex+1;i<=index;i++){var size=itemSize(i);itemMetadataMap[i]={offset:offset,size:size},offset+=size}instanceProps.lastMeasuredIndex=index}return itemMetadataMap[index]},findNearestItem$1=function(props,instanceProps,offset){var itemMetadataMap=instanceProps.itemMetadataMap,lastMeasuredIndex=instanceProps.lastMeasuredIndex;return(lastMeasuredIndex>0?itemMetadataMap[lastMeasuredIndex].offset:0)>=offset?findNearestItemBinarySearch$1(props,instanceProps,lastMeasuredIndex,0,offset):findNearestItemExponentialSearch$1(props,instanceProps,Math.max(0,lastMeasuredIndex),offset)},findNearestItemBinarySearch$1=function(props,instanceProps,high,low,offset){for(;low<=high;){var middle=low+Math.floor((high-low)/2),currentOffset=getItemMetadata$1(props,middle,instanceProps).offset;if(currentOffset===offset)return middle;currentOffset<offset?low=middle+1:currentOffset>offset&&(high=middle-1)}return low>0?low-1:0},findNearestItemExponentialSearch$1=function(props,instanceProps,index,offset){for(var itemCount=props.itemCount,interval=1;index<itemCount&&getItemMetadata$1(props,index,instanceProps).offset<offset;)index+=interval,interval*=2;return findNearestItemBinarySearch$1(props,instanceProps,Math.min(index,itemCount-1),Math.floor(index/2),offset)},getEstimatedTotalSize=function(_ref2,_ref3){var itemCount=_ref2.itemCount,itemMetadataMap=_ref3.itemMetadataMap,estimatedItemSize=_ref3.estimatedItemSize,lastMeasuredIndex=_ref3.lastMeasuredIndex,totalSizeOfMeasuredItems=0;if(lastMeasuredIndex>=itemCount&&(lastMeasuredIndex=itemCount-1),lastMeasuredIndex>=0){var itemMetadata=itemMetadataMap[lastMeasuredIndex];totalSizeOfMeasuredItems=itemMetadata.offset+itemMetadata.size}return totalSizeOfMeasuredItems+(itemCount-lastMeasuredIndex-1)*estimatedItemSize},VariableSizeList=createListComponent({getItemOffset:function(props,index,instanceProps){return getItemMetadata$1(props,index,instanceProps).offset},getItemSize:function(props,index,instanceProps){return instanceProps.itemMetadataMap[index].size},getEstimatedTotalSize:getEstimatedTotalSize,getOffsetForIndexAndAlignment:function(props,index,align,scrollOffset,instanceProps,scrollbarSize){var direction=props.direction,height=props.height,layout=props.layout,width=props.width,size="horizontal"===direction||"horizontal"===layout?width:height,itemMetadata=getItemMetadata$1(props,index,instanceProps),estimatedTotalSize=getEstimatedTotalSize(props,instanceProps),maxOffset=Math.max(0,Math.min(estimatedTotalSize-size,itemMetadata.offset)),minOffset=Math.max(0,itemMetadata.offset-size+itemMetadata.size+scrollbarSize);switch("smart"===align&&(align=scrollOffset>=minOffset-size&&scrollOffset<=maxOffset+size?"auto":"center"),align){case"start":return maxOffset;case"end":return minOffset;case"center":return Math.round(minOffset+(maxOffset-minOffset)/2);default:return scrollOffset>=minOffset&&scrollOffset<=maxOffset?scrollOffset:scrollOffset<minOffset?minOffset:maxOffset}},getStartIndexForOffset:function(props,offset,instanceProps){return findNearestItem$1(props,instanceProps,offset)},getStopIndexForStartIndex:function(props,startIndex,scrollOffset,instanceProps){for(var direction=props.direction,height=props.height,itemCount=props.itemCount,layout=props.layout,width=props.width,size="horizontal"===direction||"horizontal"===layout?width:height,itemMetadata=getItemMetadata$1(props,startIndex,instanceProps),maxOffset=scrollOffset+size,offset=itemMetadata.offset+itemMetadata.size,stopIndex=startIndex;stopIndex<itemCount-1&&offset<maxOffset;)stopIndex++,offset+=getItemMetadata$1(props,stopIndex,instanceProps).size;return stopIndex},initInstanceProps:function(props,instance){var instanceProps={itemMetadataMap:{},estimatedItemSize:props.estimatedItemSize||DEFAULT_ESTIMATED_ITEM_SIZE$1,lastMeasuredIndex:-1};return instance.resetAfterIndex=function(index,shouldForceUpdate){void 0===shouldForceUpdate&&(shouldForceUpdate=!0),instanceProps.lastMeasuredIndex=Math.min(instanceProps.lastMeasuredIndex,index-1),instance._getItemStyleCache(-1),shouldForceUpdate&&instance.forceUpdate()},instanceProps},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(_ref5){var itemSize=_ref5.itemSize;if("production"!==process.env.NODE_ENV&&"function"!=typeof itemSize)throw Error('An invalid "itemSize" prop has been specified. Value should be a function. "'+(null===itemSize?"null":typeof itemSize)+'" was specified.')}}),FixedSizeGrid=createGridComponent({getColumnOffset:function(_ref,index){return index*_ref.columnWidth},getColumnWidth:function(_ref2,index){return _ref2.columnWidth},getRowOffset:function(_ref3,index){return index*_ref3.rowHeight},getRowHeight:function(_ref4,index){return _ref4.rowHeight},getEstimatedTotalHeight:function(_ref5){var rowCount=_ref5.rowCount;return _ref5.rowHeight*rowCount},getEstimatedTotalWidth:function(_ref6){var columnCount=_ref6.columnCount;return _ref6.columnWidth*columnCount},getOffsetForColumnAndAlignment:function(_ref7,columnIndex,align,scrollLeft,instanceProps,scrollbarSize){var columnCount=_ref7.columnCount,columnWidth=_ref7.columnWidth,width=_ref7.width,lastColumnOffset=Math.max(0,columnCount*columnWidth-width),maxOffset=Math.min(lastColumnOffset,columnIndex*columnWidth),minOffset=Math.max(0,columnIndex*columnWidth-width+scrollbarSize+columnWidth);switch("smart"===align&&(align=scrollLeft>=minOffset-width&&scrollLeft<=maxOffset+width?"auto":"center"),align){case"start":return maxOffset;case"end":return minOffset;case"center":var middleOffset=Math.round(minOffset+(maxOffset-minOffset)/2);return middleOffset<Math.ceil(width/2)?0:middleOffset>lastColumnOffset+Math.floor(width/2)?lastColumnOffset:middleOffset;default:return scrollLeft>=minOffset&&scrollLeft<=maxOffset?scrollLeft:minOffset>maxOffset||scrollLeft<minOffset?minOffset:maxOffset}},getOffsetForRowAndAlignment:function(_ref8,rowIndex,align,scrollTop,instanceProps,scrollbarSize){var rowHeight=_ref8.rowHeight,height=_ref8.height,rowCount=_ref8.rowCount,lastRowOffset=Math.max(0,rowCount*rowHeight-height),maxOffset=Math.min(lastRowOffset,rowIndex*rowHeight),minOffset=Math.max(0,rowIndex*rowHeight-height+scrollbarSize+rowHeight);switch("smart"===align&&(align=scrollTop>=minOffset-height&&scrollTop<=maxOffset+height?"auto":"center"),align){case"start":return maxOffset;case"end":return minOffset;case"center":var middleOffset=Math.round(minOffset+(maxOffset-minOffset)/2);return middleOffset<Math.ceil(height/2)?0:middleOffset>lastRowOffset+Math.floor(height/2)?lastRowOffset:middleOffset;default:return scrollTop>=minOffset&&scrollTop<=maxOffset?scrollTop:minOffset>maxOffset||scrollTop<minOffset?minOffset:maxOffset}},getColumnStartIndexForOffset:function(_ref9,scrollLeft){var columnWidth=_ref9.columnWidth,columnCount=_ref9.columnCount;return Math.max(0,Math.min(columnCount-1,Math.floor(scrollLeft/columnWidth)))},getColumnStopIndexForStartIndex:function(_ref10,startIndex,scrollLeft){var columnWidth=_ref10.columnWidth,columnCount=_ref10.columnCount,width=_ref10.width,left=startIndex*columnWidth,numVisibleColumns=Math.ceil((width+scrollLeft-left)/columnWidth);return Math.max(0,Math.min(columnCount-1,startIndex+numVisibleColumns-1))},getRowStartIndexForOffset:function(_ref11,scrollTop){var rowHeight=_ref11.rowHeight,rowCount=_ref11.rowCount;return Math.max(0,Math.min(rowCount-1,Math.floor(scrollTop/rowHeight)))},getRowStopIndexForStartIndex:function(_ref12,startIndex,scrollTop){var rowHeight=_ref12.rowHeight,rowCount=_ref12.rowCount,height=_ref12.height,top=startIndex*rowHeight,numVisibleRows=Math.ceil((height+scrollTop-top)/rowHeight);return Math.max(0,Math.min(rowCount-1,startIndex+numVisibleRows-1))},initInstanceProps:function(props){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(_ref13){var columnWidth=_ref13.columnWidth,rowHeight=_ref13.rowHeight;if("production"!==process.env.NODE_ENV){if("number"!=typeof columnWidth)throw Error('An invalid "columnWidth" prop has been specified. Value should be a number. "'+(null===columnWidth?"null":typeof columnWidth)+'" was specified.');if("number"!=typeof rowHeight)throw Error('An invalid "rowHeight" prop has been specified. Value should be a number. "'+(null===rowHeight?"null":typeof rowHeight)+'" was specified.')}}}),FixedSizeList=createListComponent({getItemOffset:function(_ref,index){return index*_ref.itemSize},getItemSize:function(_ref2,index){return _ref2.itemSize},getEstimatedTotalSize:function(_ref3){var itemCount=_ref3.itemCount;return _ref3.itemSize*itemCount},getOffsetForIndexAndAlignment:function(_ref4,index,align,scrollOffset,instanceProps,scrollbarSize){var direction=_ref4.direction,height=_ref4.height,itemCount=_ref4.itemCount,itemSize=_ref4.itemSize,layout=_ref4.layout,width=_ref4.width,size="horizontal"===direction||"horizontal"===layout?width:height,lastItemOffset=Math.max(0,itemCount*itemSize-size),maxOffset=Math.min(lastItemOffset,index*itemSize),minOffset=Math.max(0,index*itemSize-size+itemSize+scrollbarSize);switch("smart"===align&&(align=scrollOffset>=minOffset-size&&scrollOffset<=maxOffset+size?"auto":"center"),align){case"start":return maxOffset;case"end":return minOffset;case"center":var middleOffset=Math.round(minOffset+(maxOffset-minOffset)/2);return middleOffset<Math.ceil(size/2)?0:middleOffset>lastItemOffset+Math.floor(size/2)?lastItemOffset:middleOffset;default:return scrollOffset>=minOffset&&scrollOffset<=maxOffset?scrollOffset:scrollOffset<minOffset?minOffset:maxOffset}},getStartIndexForOffset:function(_ref5,offset){var itemCount=_ref5.itemCount,itemSize=_ref5.itemSize;return Math.max(0,Math.min(itemCount-1,Math.floor(offset/itemSize)))},getStopIndexForStartIndex:function(_ref6,startIndex,scrollOffset){var direction=_ref6.direction,height=_ref6.height,itemCount=_ref6.itemCount,itemSize=_ref6.itemSize,layout=_ref6.layout,width=_ref6.width,offset=startIndex*itemSize,size="horizontal"===direction||"horizontal"===layout?width:height,numVisibleItems=Math.ceil((size+scrollOffset-offset)/itemSize);return Math.max(0,Math.min(itemCount-1,startIndex+numVisibleItems-1))},initInstanceProps:function(props){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(_ref7){var itemSize=_ref7.itemSize;if("production"!==process.env.NODE_ENV&&"number"!=typeof itemSize)throw Error('An invalid "itemSize" prop has been specified. Value should be a number. "'+(null===itemSize?"null":typeof itemSize)+'" was specified.')}});function shallowDiffers(prev,next){for(var attribute in prev)if(!(attribute in next))return!0;for(var _attribute in next)if(prev[_attribute]!==next[_attribute])return!0;return!1}var _excluded=["style"],_excluded2=["style"];function areEqual(prevProps,nextProps){var prevStyle=prevProps.style,prevRest=_objectWithoutPropertiesLoose(prevProps,_excluded),nextStyle=nextProps.style,nextRest=_objectWithoutPropertiesLoose(nextProps,_excluded2);return!shallowDiffers(prevStyle,nextStyle)&&!shallowDiffers(prevRest,nextRest)}function shouldComponentUpdate(nextProps,nextState){return!areEqual(this.props,nextProps)||shallowDiffers(this.state,nextState)}export{FixedSizeGrid,FixedSizeList,VariableSizeGrid,VariableSizeList,areEqual,shouldComponentUpdate};