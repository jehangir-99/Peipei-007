const BaseFilter=require("./base-filter"),getBlocksForRange=require("./getBlocksForRange"),{incrementHexInt:incrementHexInt}=require("./hexUtils");class BlockFilter extends BaseFilter{constructor({provider:provider,params:params}){super(),this.type="block",this.provider=provider}async update({oldBlock:oldBlock,newBlock:newBlock}){const toBlock=newBlock,fromBlock=incrementHexInt(oldBlock),blockHashes=(await getBlocksForRange({provider:this.provider,fromBlock:fromBlock,toBlock:toBlock})).map((block=>block.hash));this.addResults(blockHashes)}}module.exports=BlockFilter;