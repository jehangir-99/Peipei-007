!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.rive=factory():root.rive=factory()}(this,(()=>(()=>{"use strict";var __webpack_modules__=[,(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{var _scriptDir;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(moduleArg={}){var aa,ba,h=moduleArg;function ca(){function b(m){const l=d;c=a=0,d=new Map,l.forEach((n=>{try{n(m)}catch(k){console.error(k)}})),this.gb(),e&&e.Eb()}let a=0,c=0,d=new Map,e=null,g=null;this.requestAnimationFrame=function(m){a||(a=requestAnimationFrame(b.bind(this)));const l=++c;return d.set(l,m),l},this.cancelAnimationFrame=function(m){d.delete(m),a&&0==d.size&&(cancelAnimationFrame(a),a=0)},this.Cb=function(m){g&&(document.body.remove(g),g=null),m||(g=document.createElement("div"),g.style.backgroundColor="black",g.style.position="fixed",g.style.right=0,g.style.top=0,g.style.color="white",g.style.padding="4px",g.innerHTML="RIVE FPS",m=function(l){g.innerHTML="RIVE FPS "+l.toFixed(1)},document.body.appendChild(g)),e=new function(){let l=0,n=0;this.Eb=function(){var k=performance.now();n?(++l,1e3<(k-=n)&&(m(1e3*l/k),l=n=0)):(n=k,l=0)}}},this.zb=function(){g&&(document.body.remove(g),g=null),e=null},this.gb=function(){}}function da(b){console.assert(!0);const a=new Map;let c=-1/0;this.push=function(d){return d=d+((1<<b)-1)>>b,a.has(d)&&clearTimeout(a.get(d)),a.set(d,setTimeout((function(){a.delete(d),0==a.length?c=-1/0:d==c&&(c=Math.max(...a.keys()),console.assert(c<d))}),1e3)),c=Math.max(d,c),c<<b}}h.ready=new Promise(((b,a)=>{aa=b,ba=a}));const ea="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),fa=new function(){function b(){if(!a){var f=document.createElement("canvas"),r={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let q=f.getContext("webgl2",r);if(q)c=2;else{if(!(q=f.getContext("webgl",r)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;c=1}function G(D,u,I){if(u=q.createShader(u),q.shaderSource(u,I),q.compileShader(u),0<((I=q.getShaderInfoLog(u))||"").length)throw I;q.attachShader(D,u)}if(q=new Proxy(q,{get:(D,u)=>D.isContextLost()?(n||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",u),n=!0),"function"==typeof D[u]?function(){}:void 0):"function"==typeof D[u]?function(...I){return D[u].apply(D,I)}:D[u],set(D,u,I){if(!D.isContextLost())return D[u]=I,!0;n||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+u),n=!0)}}),d=Math.min(q.getParameter(q.MAX_RENDERBUFFER_SIZE),q.getParameter(q.MAX_TEXTURE_SIZE)),G(f=q.createProgram(),q.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }"),G(f,q.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }"),q.bindAttribLocation(f,0,"vertex"),q.bindAttribLocation(f,1,"uv"),q.linkProgram(f),0<((r=q.getProgramInfoLog(f))||"").trim().length)throw r;e=q.getUniformLocation(f,"mat"),g=q.getUniformLocation(f,"translate"),q.useProgram(f),q.bindBuffer(q.ARRAY_BUFFER,q.createBuffer()),q.enableVertexAttribArray(0),q.enableVertexAttribArray(1),q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,q.createBuffer()),q.uniform1i(q.getUniformLocation(f,"image"),0),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),a=q}return!0}let a=null,c=0,d=0,e=null,g=null,m=0,l=0,n=!1;b(),this.Nb=function(){return b(),d},this.xb=function(f){a.deleteTexture&&a.deleteTexture(f)},this.vb=function(f){if(!b())return null;const r=a.createTexture();return r?(a.bindTexture(a.TEXTURE_2D,r),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,f),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),2==c?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR),a.generateMipmap(a.TEXTURE_2D)):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),r):null};const k=new da(8),t=new da(8),v=new da(10),x=new da(10);this.Bb=function(f,r,q,G,D){if(b()){var u=k.push(f),I=t.push(r);if(a.canvas){for(var O of(a.canvas.width==u&&a.canvas.height==I||(a.canvas.width=u,a.canvas.height=I),a.viewport(0,I-r,f,r),a.disable(a.SCISSOR_TEST),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.enable(a.SCISSOR_TEST),q.sort(((A,W)=>W.kb-A.kb)),u=v.push(G),m!=u&&(a.bufferData(a.ARRAY_BUFFER,8*u,a.DYNAMIC_DRAW),m=u),u=0,q))a.bufferSubData(a.ARRAY_BUFFER,u,O.Sa),u+=4*O.Sa.length;for(var X of(console.assert(u==4*G),q))a.bufferSubData(a.ARRAY_BUFFER,u,X.nb),u+=4*X.nb.length;for(var ia of(console.assert(u==8*G),u=x.push(D),l!=u&&(a.bufferData(a.ELEMENT_ARRAY_BUFFER,2*u,a.DYNAMIC_DRAW),l=u),O=0,q))a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,O,ia.indices),O+=2*ia.indices.length;console.assert(O==2*D),ia=0,X=!0,u=O=0;for(const A of q){A.image.Na!=ia&&(a.bindTexture(a.TEXTURE_2D,A.image.Ma||null),ia=A.image.Na),A.Qb?(a.scissor(A.Wa,I-A.Xa-A.eb,A.ac,A.eb),X=!0):X&&(a.scissor(0,I-r,f,r),X=!1),q=2/f;const W=-2/r;a.uniform4f(e,A.xa[0]*q*A.Ga,A.xa[1]*W*A.Ha,A.xa[2]*q*A.Ga,A.xa[3]*W*A.Ha),a.uniform2f(g,A.xa[4]*q*A.Ga+q*(A.Wa-A.Ob*A.Ga)-1,A.xa[5]*W*A.Ha+W*(A.Xa-A.Pb*A.Ha)+1),a.vertexAttribPointer(0,2,a.FLOAT,!1,0,u),a.vertexAttribPointer(1,2,a.FLOAT,!1,0,u+4*G),a.drawElements(a.TRIANGLES,A.indices.length,a.UNSIGNED_SHORT,O),u+=4*A.Sa.length,O+=2*A.indices.length}console.assert(u==4*G),console.assert(O==2*D)}}},this.canvas=function(){return b()&&a.canvas}},ha=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){function b(p){switch(p){case k.srcOver:return"source-over";case k.screen:return"screen";case k.overlay:return"overlay";case k.darken:return"darken";case k.lighten:return"lighten";case k.colorDodge:return"color-dodge";case k.colorBurn:return"color-burn";case k.hardLight:return"hard-light";case k.softLight:return"soft-light";case k.difference:return"difference";case k.exclusion:return"exclusion";case k.multiply:return"multiply";case k.hue:return"hue";case k.saturation:return"saturation";case k.color:return"color";case k.luminosity:return"luminosity"}}function a(p){return"rgba("+((16711680&p)>>>16)+","+((65280&p)>>>8)+","+((255&p)>>>0)+","+((4278190080&p)>>>24)/255+")"}function c(){0<I.length&&(fa.Bb(u.drawWidth(),u.drawHeight(),I,O,X),I=[],X=O=0,u.reset(512,512));for(const p of D){for(const w of p.ja)w();p.ja=[]}D.clear()}ha&&ha();var d=h.RenderPaintStyle;const e=h.RenderPath,g=h.RenderPaint,m=h.Renderer,l=h.StrokeCap,n=h.StrokeJoin,k=h.BlendMode,t=d.fill,v=d.stroke,x=h.FillRule.evenOdd;let f=1;var r=h.RenderImage.extend("CanvasRenderImage",{__construct:function({Aa:p,Fa:w}={}){this.__parent.__construct.call(this),this.Na=f,f=f+1&2147483647||1,this.Aa=p,this.Fa=w},__destruct:function(){this.Ma&&fa.xb(this.Ma),this.__parent.__destruct.call(this)},decode:function(p){var w=this;w.Fa&&w.Fa(w);var B=new Image;B.src=URL.createObjectURL(new Blob([p],{type:"image/png"})),B.onload=function(){w.pb=B,w.Ma=fa.vb(B),w.size(B.width,B.height),w.Aa&&w.Aa(w)}}}),q=e.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.pa=new Path2D},rewind:function(){this.pa=new Path2D},addPath:function(p,w,B,C,z,E,F){var H=this.pa,T=H.addPath;p=p.pa;const K=new DOMMatrix;K.a=w,K.b=B,K.c=C,K.d=z,K.e=E,K.f=F,T.call(H,p,K)},fillRule:function(p){this.Ua=p},moveTo:function(p,w){this.pa.moveTo(p,w)},lineTo:function(p,w){this.pa.lineTo(p,w)},cubicTo:function(p,w,B,C,z,E){this.pa.bezierCurveTo(p,w,B,C,z,E)},close:function(){this.pa.closePath()}}),G=g.extend("CanvasRenderPaint",{color:function(p){this.Va=a(p)},thickness:function(p){this.sb=p},join:function(p){switch(p){case n.miter:this.La="miter";break;case n.round:this.La="round";break;case n.bevel:this.La="bevel"}},cap:function(p){switch(p){case l.butt:this.Ka="butt";break;case l.round:this.Ka="round";break;case l.square:this.Ka="square"}},style:function(p){this.rb=p},blendMode:function(p){this.ob=b(p)},clearGradient:function(){this.za=null},linearGradient:function(p,w,B,C){this.za={lb:p,mb:w,$a:B,ab:C,Qa:[]}},radialGradient:function(p,w,B,C){this.za={lb:p,mb:w,$a:B,ab:C,Qa:[],Lb:!0}},addStop:function(p,w){this.za.Qa.push({color:p,stop:w})},completeGradient:function(){},draw:function(p,w,B){let C=this.rb;var z=this.Va,E=this.za;if(p.globalCompositeOperation=this.ob,null!=E){z=E.lb;var F=E.mb;const T=E.$a;var H=E.ab;const K=E.Qa;E.Lb?(E=T-z,H-=F,z=p.createRadialGradient(z,F,0,z,F,Math.sqrt(E*E+H*H))):z=p.createLinearGradient(z,F,T,H);for(let Y=0,N=K.length;Y<N;Y++)F=K[Y],z.addColorStop(F.stop,a(F.color));this.Va=z,this.za=null}switch(C){case v:p.strokeStyle=z,p.lineWidth=this.sb,p.lineCap=this.Ka,p.lineJoin=this.La,p.stroke(w);break;case t:p.fillStyle=z,p.fill(w,B)}}});const D=new Set;let u=null,I=[],O=0,X=0;var ia=h.CanvasRenderer=m.extend("Renderer",{__construct:function(p){this.__parent.__construct.call(this),this.oa=[1,0,0,1,0,0],this.ha=p.getContext("2d"),this.Ta=p,this.ja=[]},save:function(){this.oa.push(...this.oa.slice(this.oa.length-6)),this.ja.push(this.ha.save.bind(this.ha))},restore:function(){const p=this.oa.length-6;if(6>p)throw"restore() called without matching save().";this.oa.splice(p),this.ja.push(this.ha.restore.bind(this.ha))},transform:function(p,w,B,C,z,E){const F=this.oa,H=F.length-6;F.splice(H,6,F[H]*p+F[H+2]*w,F[H+1]*p+F[H+3]*w,F[H]*B+F[H+2]*C,F[H+1]*B+F[H+3]*C,F[H]*z+F[H+2]*E+F[H+4],F[H+1]*z+F[H+3]*E+F[H+5]),this.ja.push(this.ha.transform.bind(this.ha,p,w,B,C,z,E))},rotate:function(p){const w=Math.sin(p);p=Math.cos(p),this.transform(p,w,-w,p,0,0)},_drawPath:function(p,w){this.ja.push(w.draw.bind(w,this.ha,p.pa,p.Ua===x?"evenodd":"nonzero"))},_drawRiveImage:function(p,w,B){var C=p.pb;if(C){var z=this.ha,E=b(w);this.ja.push((function(){z.globalCompositeOperation=E,z.globalAlpha=B,z.drawImage(C,0,0),z.globalAlpha=1}))}},_getMatrix:function(p){const w=this.oa,B=w.length-6;for(let C=0;6>C;++C)p[C]=w[B+C]},_drawImageMesh:function(p,w,B,C,z,E,F,H,T,K){var Y=this.ha.canvas.width,N=this.ha.canvas.height;const sb=T-F,tb=K-H;F=Math.max(F,0),H=Math.max(H,0),T=Math.min(T,Y),K=Math.min(K,N);const wa=T-F,xa=K-H;if(console.assert(wa<=Math.min(sb,Y)),console.assert(xa<=Math.min(tb,N)),!(0>=wa||0>=xa)){T=wa<sb||xa<tb,Y=K=1;var ja=Math.ceil(wa*K),ka=Math.ceil(xa*Y);N=fa.Nb(),ja>N&&(K*=N/ja,ja=N),ka>N&&(Y*=N/ka,ka=N),u||(u=new h.DynamicRectanizer(N),u.reset(512,512)),0>(N=u.addRect(ja,ka))&&(c(),D.add(this),N=u.addRect(ja,ka),console.assert(0<=N));var ub=65535&N,vb=N>>16;I.push({xa:this.oa.slice(this.oa.length-6),image:p,Wa:ub,Xa:vb,Ob:F,Pb:H,ac:ja,eb:ka,Ga:K,Ha:Y,Sa:new Float32Array(C),nb:new Float32Array(z),indices:new Uint16Array(E),Qb:T,kb:p.Na<<1|(T?1:0)}),O+=C.length,X+=E.length;var pa=this.ha,lc=b(w);this.ja.push((function(){pa.save(),pa.resetTransform(),pa.globalCompositeOperation=lc,pa.globalAlpha=B;const wb=fa.canvas();wb&&pa.drawImage(wb,ub,vb,ja,ka,F,H,wa,xa),pa.restore()}))}},_clipPath:function(p){this.ja.push(this.ha.clip.bind(this.ha,p.pa,p.Ua===x?"evenodd":"nonzero"))},clear:function(){D.add(this),this.ja.push(this.ha.clearRect.bind(this.ha,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(p,w){this.transform(1,0,0,1,p,w)}});h.makeRenderer=function(p){const w=new ia(p),B=w.ha;return new Proxy(w,{get(C,z){if("function"==typeof C[z])return function(...E){return C[z].apply(C,E)};if("function"==typeof B[z]){if(-1<ea.indexOf(z))throw Error("RiveException: Method call to '"+z+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...E){w.ja.push(B[z].bind(B,...E))}}return C[z]},set(C,z,E){if(z in B)return B[z]=E,!0}})},h.decodeImage=function(p,w){new r({Aa:w}).decode(p)},h.renderFactory={makeRenderPaint:function(){return new G},makeRenderPath:function(){return new q},makeRenderImage:function(){let p=W;return new r({Fa:()=>{p.total++},Aa:()=>{if(p.loaded++,p.loaded===p.total){const w=p.ready;w&&(w(),p.ready=null)}}})}};let A=h.load,W=null;h.load=function(p,w,B=!0){const C=new h.FallbackFileAssetLoader;return void 0!==w&&C.addLoader(w),B&&(w=new h.CDNFileAssetLoader,C.addLoader(w)),new Promise((function(z){let E=null;W={total:0,loaded:0,ready:function(){z(E)}},E=A(p,C),0==W.total&&z(E)}))},d=new ca,h.requestAnimationFrame=d.requestAnimationFrame.bind(d),h.cancelAnimationFrame=d.cancelAnimationFrame.bind(d),h.enableFPSCounter=d.Cb.bind(d),h.disableFPSCounter=d.zb,d.gb=c,h.cleanup=function(){u&&u.delete()}};const la=h.onRuntimeInitialized;h.onRuntimeInitialized=function(){la&&la();let b=h.decodeFont;h.decodeFont=function(c,d){d(c=b(c))};const a=h.FileAssetLoader;h.ptrToAsset=c=>{let d=h.ptrToFileAsset(c);return d.isImage?h.ptrToImageAsset(c):d.isFont?h.ptrToFontAsset(c):d},h.CustomFileAssetLoader=a.extend("CustomFileAssetLoader",{__construct:function({loadContents:c}){this.__parent.__construct.call(this),this.qb=c},loadContents:function(c,d){return c=h.ptrToAsset(c),this.qb(c,d)}}),h.CDNFileAssetLoader=a.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(c){let d=h.ptrToAsset(c);return""!==(c=d.cdnUuid)&&(e=d.cdnBaseUrl+"/"+c,(m=new XMLHttpRequest).responseType="arraybuffer",m.onreadystatechange=function(){4==m.readyState&&200==m.status&&(e=>{d.decode(new Uint8Array(e.response))})(m)},m.open("GET",e,!0),m.send(null),!0);var e,m}}),h.FallbackFileAssetLoader=a.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.fb=[]},addLoader:function(c){this.fb.push(c)},loadContents:function(c,d){for(let e of this.fb)if(e.loadContents(c,d))return!0;return!1}})};var ra,sa,ma=Object.assign({},h),na="./this.program",oa="object"==typeof window,qa="function"==typeof importScripts,y="";(oa||qa)&&(qa?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",qa&&(sa=b=>{var a=new XMLHttpRequest;return a.open("GET",b,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),ra=(b,a,c)=>{var d=new XMLHttpRequest;d.open("GET",b,!0),d.responseType="arraybuffer",d.onload=()=>{200==d.status||0==d.status&&d.response?a(d.response):c()},d.onerror=c,d.send(null)});var va,ta=h.print||console.log.bind(console),ua=h.printErr||console.error.bind(console);Object.assign(h,ma),ma=null,h.thisProgram&&(na=h.thisProgram),h.wasmBinary&&(va=h.wasmBinary),h.noExitRuntime,"object"!=typeof WebAssembly&&ya("no native wasm support detected");var za,J,Ba,L,Ca,Da,M,P,Ea,Fa,Aa=!1;function Ga(){var b=za.buffer;h.HEAP8=Ba=new Int8Array(b),h.HEAP16=Ca=new Int16Array(b),h.HEAP32=M=new Int32Array(b),h.HEAPU8=L=new Uint8Array(b),h.HEAPU16=Da=new Uint16Array(b),h.HEAPU32=P=new Uint32Array(b),h.HEAPF32=Ea=new Float32Array(b),h.HEAPF64=Fa=new Float64Array(b)}var Ha,Ia=[],Ja=[],Ka=[];function La(){var b=h.preRun.shift();Ia.unshift(b)}var Qa,Ma=0,Na=null,Oa=null;function ya(b){throw h.onAbort&&h.onAbort(b),ua(b="Aborted("+b+")"),Aa=!0,b=new WebAssembly.RuntimeError(b+". Build with -sASSERTIONS for more info."),ba(b),b}function Pa(b){return b.startsWith("data:application/octet-stream;base64,")}if(!Pa(Qa="canvas_advanced.wasm")){var Ra=Qa;Qa=h.locateFile?h.locateFile(Ra,y):y+Ra}function Sa(b){if(b==Qa&&va)return new Uint8Array(va);if(sa)return sa(b);throw"both async and sync fetching of the wasm failed"}function Ua(b,a,c){return function(b){if(!va&&(oa||qa)){if("function"==typeof fetch&&!b.startsWith("file://"))return fetch(b,{credentials:"same-origin"}).then((a=>{if(!a.ok)throw"failed to load wasm binary file at '"+b+"'";return a.arrayBuffer()})).catch((()=>Sa(b)));if(ra)return new Promise(((a,c)=>{ra(b,(d=>a(new Uint8Array(d))),c)}))}return Promise.resolve().then((()=>Sa(b)))}(b).then((d=>WebAssembly.instantiate(d,a))).then((d=>d)).then(c,(d=>{ua("failed to asynchronously prepare wasm: "+d),ya(d)}))}var Wa=b=>{for(;0<b.length;)b.shift()(h)};function Xa(b){if(void 0===b)return"_unknown";var a=(b=b.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=a&&57>=a?`_${b}`:b}function Ya(b,a){return{[b=Xa(b)]:function(){return a.apply(this,arguments)}}[b]}function Za(){this.qa=[void 0],this.cb=[]}var Q=new Za,$a=void 0;function R(b){throw new $a(b)}var S=b=>(b||R("Cannot use deleted val. handle = "+b),Q.get(b).value),ab=b=>{switch(b){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Q.tb({jb:1,value:b})}};function bb(b){var a=Error,c=Ya(b,(function(d){this.name=b,this.message=d,void 0!==(d=Error(d).stack)&&(this.stack=this.toString()+"\n"+d.replace(/^Error(:[^\n]*)?\n/,""))}));return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},c}var cb=void 0,db=void 0;function U(b){for(var a="";L[b];)a+=db[L[b++]];return a}var eb=[];function fb(){for(;eb.length;){var b=eb.pop();b.ba.wa=!1,b.delete()}}var gb=void 0,hb={};function ib(b,a){for(void 0===a&&R("ptr should not be undefined");b.fa;)a=b.Ba(a),b=b.fa;return a}var jb={};function kb(b){var a=U(b=lb(b));return mb(b),a}function nb(b,a){var c=jb[b];return void 0===c&&R(a+" has unknown type "+kb(b)),c}function ob(){}var pb=!1;function qb(b){--b.count.value,0===b.count.value&&(b.ia?b.la.ra(b.ia):b.ea.ca.ra(b.da))}function rb(b,a,c){return a===c?b:void 0===c.fa||null===(b=rb(b,a,c.fa))?null:c.Ab(b)}var xb={},zb=void 0;function Ab(b){throw new zb(b)}function Bb(b,a){return a.ea&&a.da||Ab("makeClassHandle requires ptr and ptrType"),!!a.la!=!!a.ia&&Ab("Both smartPtrType and smartPtr must be specified"),a.count={value:1},Cb(Object.create(b,{ba:{value:a}}))}function Cb(b){return"undefined"==typeof FinalizationRegistry?(Cb=a=>a,b):(pb=new FinalizationRegistry((a=>{qb(a.ba)})),ob=a=>{pb.unregister(a)},(Cb=a=>{var c=a.ba;return c.ia&&pb.register(a,{ba:c},a),a})(b))}var Db={};function Eb(b){for(;b.length;){var a=b.pop();b.pop()(a)}}function Fb(b){return this.fromWireType(M[b>>2])}var Gb={},Hb={};function V(b,a,c){function d(l){(l=c(l)).length!==b.length&&Ab("Mismatched type converter count");for(var n=0;n<b.length;++n)Ib(b[n],l[n])}b.forEach((function(l){Hb[l]=a}));var e=Array(a.length),g=[],m=0;a.forEach(((l,n)=>{jb.hasOwnProperty(l)?e[n]=jb[l]:(g.push(l),Gb.hasOwnProperty(l)||(Gb[l]=[]),Gb[l].push((()=>{e[n]=jb[l],++m===g.length&&d(e)})))})),0===g.length&&d(e)}function Jb(b){switch(b){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${b}`)}}function Ib(b,a,c={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");!function(b,a,c={}){var d=a.name;if(b||R(`type "${d}" must have a positive integer typeid pointer`),jb.hasOwnProperty(b)){if(c.Kb)return;R(`Cannot register type '${d}' twice`)}jb[b]=a,delete Hb[b],Gb.hasOwnProperty(b)&&(a=Gb[b],delete Gb[b],a.forEach((e=>e())))}(b,a,c)}function Lb(b){R(b.ba.ea.ca.name+" instance already deleted")}function Mb(){}function Nb(b,a,c){if(void 0===b[a].ga){var d=b[a];b[a]=function(){return b[a].ga.hasOwnProperty(arguments.length)||R(`Function '${c}' called with an invalid number of arguments (${arguments.length}) - expects one of (${b[a].ga})!`),b[a].ga[arguments.length].apply(this,arguments)},b[a].ga=[],b[a].ga[d.va]=d}}function Ob(b,a,c){h.hasOwnProperty(b)?((void 0===c||void 0!==h[b].ga&&void 0!==h[b].ga[c])&&R(`Cannot register public name '${b}' twice`),Nb(h,b,b),h.hasOwnProperty(c)&&R(`Cannot register multiple overloads of a function with the same number of arguments (${c})!`),h[b].ga[c]=a):(h[b]=a,void 0!==c&&(h[b].bc=c))}function Pb(b,a,c,d,e,g,m,l){this.name=b,this.constructor=a,this.ma=c,this.ra=d,this.fa=e,this.Fb=g,this.Ba=m,this.Ab=l,this.hb=[]}function Qb(b,a,c){for(;a!==c;)a.Ba||R(`Expected null or instance of ${c.name}, got an instance of ${a.name}`),b=a.Ba(b),a=a.fa;return b}function Rb(b,a){return null===a?(this.Oa&&R(`null is not a valid ${this.name}`),0):(a.ba||R(`Cannot pass "${Sb(a)}" as a ${this.name}`),a.ba.da||R(`Cannot pass deleted object as a pointer of type ${this.name}`),Qb(a.ba.da,a.ba.ea.ca,this.ca))}function Tb(b,a){if(null===a){if(this.Oa&&R(`null is not a valid ${this.name}`),this.Ea){var c=this.Pa();return null!==b&&b.push(this.ra,c),c}return 0}if(a.ba||R(`Cannot pass "${Sb(a)}" as a ${this.name}`),a.ba.da||R(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Da&&a.ba.ea.Da&&R(`Cannot convert argument of type ${a.ba.la?a.ba.la.name:a.ba.ea.name} to parameter type ${this.name}`),c=Qb(a.ba.da,a.ba.ea.ca,this.ca),this.Ea)switch(void 0===a.ba.ia&&R("Passing raw pointer to smart pointer is illegal"),this.Wb){case 0:a.ba.la===this?c=a.ba.ia:R(`Cannot convert argument of type ${a.ba.la?a.ba.la.name:a.ba.ea.name} to parameter type ${this.name}`);break;case 1:c=a.ba.ia;break;case 2:if(a.ba.la===this)c=a.ba.ia;else{var d=a.clone();c=this.Sb(c,ab((function(){d.delete()}))),null!==b&&b.push(this.ra,c)}break;default:R("Unsupporting sharing policy")}return c}function Ub(b,a){return null===a?(this.Oa&&R(`null is not a valid ${this.name}`),0):(a.ba||R(`Cannot pass "${Sb(a)}" as a ${this.name}`),a.ba.da||R(`Cannot pass deleted object as a pointer of type ${this.name}`),a.ba.ea.Da&&R(`Cannot convert argument of type ${a.ba.ea.name} to parameter type ${this.name}`),Qb(a.ba.da,a.ba.ea.ca,this.ca))}function Vb(b,a,c,d){this.name=b,this.ca=a,this.Oa=c,this.Da=d,this.Ea=!1,this.ra=this.Sb=this.Pa=this.ib=this.Wb=this.Rb=void 0,void 0!==a.fa?this.toWireType=Tb:(this.toWireType=d?Rb:Ub,this.ka=null)}function Wb(b,a,c){h.hasOwnProperty(b)||Ab("Replacing nonexistant public symbol"),void 0!==h[b].ga&&void 0!==c?h[b].ga[c]=a:(h[b]=a,h[b].va=c)}function Z(b,a){var c=(b=U(b)).includes("j")?((b,a)=>{var c=[];return function(){if(c.length=0,Object.assign(c,arguments),b.includes("j")){var d=h["dynCall_"+b];d=c&&c.length?d.apply(null,[a].concat(c)):d.call(null,a)}else d=Ha.get(a).apply(null,c);return d}})(b,a):Ha.get(a);return"function"!=typeof c&&R(`unknown function pointer with signature ${b}: ${a}`),c}var Yb=void 0;function Zb(b,a){var d=[],e={};throw a.forEach((function c(g){e[g]||jb[g]||(Hb[g]?Hb[g].forEach(c):(d.push(g),e[g]=!0))})),new Yb(`${b}: `+d.map(kb).join([", "]))}function $b(b,a,c,d,e){var g=a.length;2>g&&R("argTypes array size mismatch! Must at least get return value and 'this' types!");var m=null!==a[1]&&null!==c,l=!1;for(c=1;c<a.length;++c)if(null!==a[c]&&void 0===a[c].ka){l=!0;break}var n="void"!==a[0].name,k=g-2,t=Array(k),v=[],x=[];return function(){if(arguments.length!==k&&R(`function ${b} called with ${arguments.length} arguments, expected ${k} args!`),x.length=0,v.length=m?2:1,v[0]=e,m){var f=a[1].toWireType(x,this);v[1]=f}for(var r=0;r<k;++r)t[r]=a[r+2].toWireType(x,arguments[r]),v.push(t[r]);if(r=d.apply(null,v),l)Eb(x);else for(var q=m?1:2;q<a.length;q++){var G=1===q?f:t[q-2];null!==a[q].ka&&a[q].ka(G)}return f=n?a[0].fromWireType(r):void 0}}function ac(b,a){for(var c=[],d=0;d<b;d++)c.push(P[a+4*d>>2]);return c}function bc(b,a,c){return b instanceof Object||R(`${c} with invalid "this": ${b}`),b instanceof a.ca.constructor||R(`${c} incompatible with "this" of type ${b.constructor.name}`),b.ba.da||R(`cannot call emscripten binding method ${c} on deleted object`),Qb(b.ba.da,b.ba.ea.ca,a.ca)}function cc(b){b>=Q.Ya&&0==--Q.get(b).jb&&Q.wb(b)}function dc(b,a,c){switch(a){case 0:return function(d){return this.fromWireType((c?Ba:L)[d])};case 1:return function(d){return this.fromWireType((c?Ca:Da)[d>>1])};case 2:return function(d){return this.fromWireType((c?M:P)[d>>2])};default:throw new TypeError("Unknown integer type: "+b)}}function Sb(b){if(null===b)return"null";var a=typeof b;return"object"===a||"array"===a||"function"===a?b.toString():""+b}function ec(b,a){switch(a){case 2:return function(c){return this.fromWireType(Ea[c>>2])};case 3:return function(c){return this.fromWireType(Fa[c>>3])};default:throw new TypeError("Unknown float type: "+b)}}function fc(b,a,c){switch(a){case 0:return c?function(d){return Ba[d]}:function(d){return L[d]};case 1:return c?function(d){return Ca[d>>1]}:function(d){return Da[d>>1]};case 2:return c?function(d){return M[d>>2]}:function(d){return P[d>>2]};default:throw new TypeError("Unknown integer type: "+b)}}var gc=(b,a,c,d)=>{if(0<d){d=c+d-1;for(var e=0;e<b.length;++e){var g=b.charCodeAt(e);if(55296<=g&&57343>=g&&(g=65536+((1023&g)<<10)|1023&b.charCodeAt(++e)),127>=g){if(c>=d)break;a[c++]=g}else{if(2047>=g){if(c+1>=d)break;a[c++]=192|g>>6}else{if(65535>=g){if(c+2>=d)break;a[c++]=224|g>>12}else{if(c+3>=d)break;a[c++]=240|g>>18,a[c++]=128|g>>12&63}a[c++]=128|g>>6&63}a[c++]=128|63&g}}a[c]=0}},hc=b=>{for(var a=0,c=0;c<b.length;++c){var d=b.charCodeAt(c);127>=d?a++:2047>=d?a+=2:55296<=d&&57343>=d?(a+=4,++c):a+=3}return a},ic="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,jc=(b,a,c)=>{var d=a+c;for(c=a;b[c]&&!(c>=d);)++c;if(16<c-a&&b.buffer&&ic)return ic.decode(b.subarray(a,c));for(d="";a<c;){var e=b[a++];if(128&e){var g=63&b[a++];if(192==(224&e))d+=String.fromCharCode((31&e)<<6|g);else{var m=63&b[a++];65536>(e=224==(240&e)?(15&e)<<12|g<<6|m:(7&e)<<18|g<<12|m<<6|63&b[a++])?d+=String.fromCharCode(e):(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|1023&e))}}else d+=String.fromCharCode(e)}return d},kc="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,mc=(b,a)=>{for(var c=b>>1,d=c+a/2;!(c>=d)&&Da[c];)++c;if(32<(c<<=1)-b&&kc)return kc.decode(L.subarray(b,c));for(c="",d=0;!(d>=a/2);++d){var e=Ca[b+2*d>>1];if(0==e)break;c+=String.fromCharCode(e)}return c},nc=(b,a,c)=>{if(void 0===c&&(c=2147483647),2>c)return 0;var d=a;c=(c-=2)<2*b.length?c/2:b.length;for(var e=0;e<c;++e)Ca[a>>1]=b.charCodeAt(e),a+=2;return Ca[a>>1]=0,a-d},oc=b=>2*b.length,pc=(b,a)=>{for(var c=0,d="";!(c>=a/4);){var e=M[b+4*c>>2];if(0==e)break;++c,65536<=e?(e-=65536,d+=String.fromCharCode(55296|e>>10,56320|1023&e)):d+=String.fromCharCode(e)}return d},qc=(b,a,c)=>{if(void 0===c&&(c=2147483647),4>c)return 0;var d=a;c=d+c-4;for(var e=0;e<b.length;++e){var g=b.charCodeAt(e);if(55296<=g&&57343>=g&&(g=65536+((1023&g)<<10)|1023&b.charCodeAt(++e)),M[a>>2]=g,(a+=4)+4>c)break}return M[a>>2]=0,a-d},rc=b=>{for(var a=0,c=0;c<b.length;++c){var d=b.charCodeAt(c);55296<=d&&57343>=d&&++c,a+=4}return a},sc={};function tc(b){var a=sc[b];return void 0===a?U(b):a}var zc,uc=[],xc=[],yc={},Ac=()=>{if(!zc){var a,b={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:na||"./this.program"};for(a in yc)void 0===yc[a]?delete b[a]:b[a]=yc[a];var c=[];for(a in b)c.push(`${a}=${b[a]}`);zc=c}return zc},Bc=[null,[],[]],Cc=b=>0==b%4&&(0!=b%100||0==b%400),Dc=[31,29,31,30,31,30,31,31,30,31,30,31],Ec=[31,28,31,30,31,30,31,31,30,31,30,31],Gc=(b,a,c,d)=>{function e(f,r,q){for(f="number"==typeof f?f.toString():f||"";f.length<r;)f=q[0]+f;return f}function g(f,r){return e(f,r,"0")}function m(f,r){function q(D){return 0>D?-1:0<D?1:0}var G;return 0===(G=q(f.getFullYear()-r.getFullYear()))&&0===(G=q(f.getMonth()-r.getMonth()))&&(G=q(f.getDate()-r.getDate())),G}function l(f){switch(f.getDay()){case 0:return new Date(f.getFullYear()-1,11,29);case 1:return f;case 2:return new Date(f.getFullYear(),0,3);case 3:return new Date(f.getFullYear(),0,2);case 4:return new Date(f.getFullYear(),0,1);case 5:return new Date(f.getFullYear()-1,11,31);case 6:return new Date(f.getFullYear()-1,11,30)}}function n(f){var r=f.ta;for(f=new Date(new Date(f.ua+1900,0,1).getTime());0<r;){var q=f.getMonth(),G=(Cc(f.getFullYear())?Dc:Ec)[q];if(!(r>G-f.getDate())){f.setDate(f.getDate()+r);break}r-=G-f.getDate()+1,f.setDate(1),11>q?f.setMonth(q+1):(f.setMonth(0),f.setFullYear(f.getFullYear()+1))}return q=new Date(f.getFullYear()+1,0,4),r=l(new Date(f.getFullYear(),0,4)),q=l(q),0>=m(r,f)?0>=m(q,f)?f.getFullYear()+1:f.getFullYear():f.getFullYear()-1}var k=M[d+40>>2];for(var t in d={Zb:M[d>>2],Yb:M[d+4>>2],Ia:M[d+8>>2],Ra:M[d+12>>2],Ja:M[d+16>>2],ua:M[d+20>>2],na:M[d+24>>2],ta:M[d+28>>2],cc:M[d+32>>2],Xb:M[d+36>>2],$b:k&&k?jc(L,k):""},c=c?jc(L,c):"",k={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})c=c.replace(new RegExp(t,"g"),k[t]);var v="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),x="January February March April May June July August September October November December".split(" ");for(t in k={"%a":f=>v[f.na].substring(0,3),"%A":f=>v[f.na],"%b":f=>x[f.Ja].substring(0,3),"%B":f=>x[f.Ja],"%C":f=>g((f.ua+1900)/100|0,2),"%d":f=>g(f.Ra,2),"%e":f=>e(f.Ra,2," "),"%g":f=>n(f).toString().substring(2),"%G":f=>n(f),"%H":f=>g(f.Ia,2),"%I":f=>(0==(f=f.Ia)?f=12:12<f&&(f-=12),g(f,2)),"%j":f=>{for(var r=0,q=0;q<=f.Ja-1;r+=(Cc(f.ua+1900)?Dc:Ec)[q++]);return g(f.Ra+r,3)},"%m":f=>g(f.Ja+1,2),"%M":f=>g(f.Yb,2),"%n":()=>"\n","%p":f=>0<=f.Ia&&12>f.Ia?"AM":"PM","%S":f=>g(f.Zb,2),"%t":()=>"\t","%u":f=>f.na||7,"%U":f=>g(Math.floor((f.ta+7-f.na)/7),2),"%V":f=>{var r=Math.floor((f.ta+7-(f.na+6)%7)/7);if(2>=(f.na+371-f.ta-2)%7&&r++,r)53==r&&(4==(q=(f.na+371-f.ta)%7)||3==q&&Cc(f.ua)||(r=1));else{r=52;var q=(f.na+7-f.ta-1)%7;(4==q||5==q&&Cc(f.ua%400-1))&&r++}return g(r,2)},"%w":f=>f.na,"%W":f=>g(Math.floor((f.ta+7-(f.na+6)%7)/7),2),"%y":f=>(f.ua+1900).toString().substring(2),"%Y":f=>f.ua+1900,"%z":f=>{var r=0<=(f=f.Xb);return f=Math.abs(f)/60,(r?"+":"-")+String("0000"+(f/60*100+f%60)).slice(-4)},"%Z":f=>f.$b,"%%":()=>"%"},c=c.replace(/%%/g,"\0\0"),k)c.includes(t)&&(c=c.replace(new RegExp(t,"g"),k[t](d)));return t=function(b){var a=Array(hc(b)+1);return gc(b,a,0,a.length),a}(c=c.replace(/\0\0/g,"%")),t.length>a?0:(Ba.set(t,b),t.length-1)};Object.assign(Za.prototype,{get(b){return this.qa[b]},has(b){return void 0!==this.qa[b]},tb(b){var a=this.cb.pop()||this.qa.length;return this.qa[a]=b,a},wb(b){this.qa[b]=void 0,this.cb.push(b)}}),$a=h.BindingError=class extends Error{constructor(b){super(b),this.name="BindingError"}},Q.qa.push({value:void 0},{value:null},{value:!0},{value:!1}),Q.Ya=Q.qa.length,h.count_emval_handles=function(){for(var b=0,a=Q.Ya;a<Q.qa.length;++a)void 0!==Q.qa[a]&&++b;return b},cb=h.PureVirtualError=bb("PureVirtualError");for(var Hc=Array(256),Ic=0;256>Ic;++Ic)Hc[Ic]=String.fromCharCode(Ic);db=Hc,h.getInheritedInstanceCount=function(){return Object.keys(hb).length},h.getLiveInheritedInstances=function(){var a,b=[];for(a in hb)hb.hasOwnProperty(a)&&b.push(hb[a]);return b},h.flushPendingDeletes=fb,h.setDelayFunction=function(b){gb=b,eb.length&&gb&&gb(fb)},zb=h.InternalError=class extends Error{constructor(b){super(b),this.name="InternalError"}},Mb.prototype.isAliasOf=function(b){if(!(this instanceof Mb&&b instanceof Mb))return!1;var a=this.ba.ea.ca,c=this.ba.da,d=b.ba.ea.ca;for(b=b.ba.da;a.fa;)c=a.Ba(c),a=a.fa;for(;d.fa;)b=d.Ba(b),d=d.fa;return a===d&&c===b},Mb.prototype.clone=function(){if(this.ba.da||Lb(this),this.ba.ya)return this.ba.count.value+=1,this;var b=Cb,a=Object,c=a.create,d=Object.getPrototypeOf(this),e=this.ba;return(b=b(c.call(a,d,{ba:{value:{count:e.count,wa:e.wa,ya:e.ya,da:e.da,ea:e.ea,ia:e.ia,la:e.la}}}))).ba.count.value+=1,b.ba.wa=!1,b},Mb.prototype.delete=function(){this.ba.da||Lb(this),this.ba.wa&&!this.ba.ya&&R("Object already scheduled for deletion"),ob(this),qb(this.ba),this.ba.ya||(this.ba.ia=void 0,this.ba.da=void 0)},Mb.prototype.isDeleted=function(){return!this.ba.da},Mb.prototype.deleteLater=function(){return this.ba.da||Lb(this),this.ba.wa&&!this.ba.ya&&R("Object already scheduled for deletion"),eb.push(this),1===eb.length&&gb&&gb(fb),this.ba.wa=!0,this},Vb.prototype.Gb=function(b){return this.ib&&(b=this.ib(b)),b},Vb.prototype.Za=function(b){this.ra&&this.ra(b)},Vb.prototype.argPackAdvance=8,Vb.prototype.readValueFromPointer=Fb,Vb.prototype.deleteObject=function(b){null!==b&&b.delete()},Vb.prototype.fromWireType=function(b){function a(){return this.Ea?Bb(this.ca.ma,{ea:this.Rb,da:c,la:this,ia:b}):Bb(this.ca.ma,{ea:this,da:b})}var c=this.Gb(b);if(!c)return this.Za(b),null;var d=function(b,a){return a=ib(b,a),hb[a]}(this.ca,c);if(void 0!==d)return 0===d.ba.count.value?(d.ba.da=c,d.ba.ia=b,d.clone()):(d=d.clone(),this.Za(b),d);if(d=this.ca.Fb(c),!(d=xb[d]))return a.call(this);d=this.Da?d.ub:d.pointerType;var e=rb(c,this.ca,d.ca);return null===e?a.call(this):this.Ea?Bb(d.ca.ma,{ea:d,da:e,la:this,ia:b}):Bb(d.ca.ma,{ea:d,da:e})},Yb=h.UnboundTypeError=bb("UnboundTypeError");var Kc={N:function(b,a,c){b=U(b),a=nb(a,"wrapper"),c=S(c);var d=[].slice,e=a.ca,g=e.ma,m=e.fa.ma,l=e.fa.constructor;for(var n in b=Ya(b,(function(){e.fa.hb.forEach(function(k){if(this[k]===m[k])throw new cb(`Pure virtual function ${k} must be implemented in JavaScript`)}.bind(this)),Object.defineProperty(this,"__parent",{value:g}),this.__construct.apply(this,d.call(arguments))})),g.__construct=function(){this===g&&R("Pass correct 'this' to __construct");var k=l.implement.apply(void 0,[this].concat(d.call(arguments)));ob(k);var t=k.ba;k.notifyOnDestruction(),t.ya=!0,Object.defineProperties(this,{ba:{value:t}}),Cb(this),k=t.da,k=ib(e,k),hb.hasOwnProperty(k)?R(`Tried to register registered instance: ${k}`):hb[k]=this},g.__destruct=function(){this===g&&R("Pass correct 'this' to __destruct"),ob(this);var k=this.ba.da;k=ib(e,k),hb.hasOwnProperty(k)?delete hb[k]:R(`Tried to unregister unregistered instance: ${k}`)},b.prototype=Object.create(g),c)b.prototype[n]=c[n];return ab(b)},O:function(b){var a=Db[b];delete Db[b];var c=a.Pa,d=a.ra,e=a.bb;V([b],e.map((m=>m.Jb)).concat(e.map((m=>m.Ub))),(m=>{var l={};return e.forEach(((n,k)=>{var t=m[k],v=n.Hb,x=n.Ib,f=m[k+e.length],r=n.Tb,q=n.Vb;l[n.Db]={read:G=>t.fromWireType(v(x,G)),write:(G,D)=>{var u=[];r(q,G,f.toWireType(u,D)),Eb(u)}}})),[{name:a.name,fromWireType:function(n){var t,k={};for(t in l)k[t]=l[t].read(n);return d(n),k},toWireType:function(n,k){for(var t in l)if(!(t in k))throw new TypeError(`Missing field: "${t}"`);var v=c();for(t in l)l[t].write(v,k[t]);return null!==n&&n.push(d,v),v},argPackAdvance:8,readValueFromPointer:Fb,ka:d}]}))},C:function(){},K:function(b,a,c,d,e){var g=Jb(c);Ib(b,{name:a=U(a),fromWireType:function(m){return!!m},toWireType:function(m,l){return l?d:e},argPackAdvance:8,readValueFromPointer:function(m){if(1===c)var l=Ba;else if(2===c)l=Ca;else{if(4!==c)throw new TypeError("Unknown boolean type size: "+a);l=M}return this.fromWireType(l[m>>g])},ka:null})},f:function(b,a,c,d,e,g,m,l,n,k,t,v,x){t=U(t),g=Z(e,g),l&&(l=Z(m,l)),k&&(k=Z(n,k)),x=Z(v,x);var f=Xa(t);Ob(f,(function(){Zb(`Cannot construct ${t} due to unbound types`,[d])})),V([b,a,c],d?[d]:[],(function(r){if(r=r[0],d)var q=r.ca,G=q.ma;else G=Mb.prototype;r=Ya(f,(function(){if(Object.getPrototypeOf(this)!==D)throw new $a("Use 'new' to construct "+t);if(void 0===u.sa)throw new $a(t+" has no accessible constructor");var O=u.sa[arguments.length];if(void 0===O)throw new $a(`Tried to invoke ctor of ${t} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(u.sa).toString()}) parameters instead!`);return O.apply(this,arguments)}));var D=Object.create(G,{constructor:{value:r}});r.prototype=D;var u=new Pb(t,r,D,x,q,g,l,k);u.fa&&(void 0===u.fa.Ca&&(u.fa.Ca=[]),u.fa.Ca.push(u)),q=new Vb(t,u,!0,!1),G=new Vb(t+"*",u,!1,!1);var I=new Vb(t+" const*",u,!1,!0);return xb[b]={pointerType:G,ub:I},Wb(f,r),[q,G,I]}))},j:function(b,a,c,d,e,g,m){var l=ac(c,d);a=U(a),g=Z(e,g),V([],[b],(function(n){function k(){Zb(`Cannot call ${t} due to unbound types`,l)}var t=`${(n=n[0]).name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]);var v=n.ca.constructor;return void 0===v[a]?(k.va=c-1,v[a]=k):(Nb(v,a,t),v[a].ga[c-1]=k),V([],l,(function(x){if(x=$b(t,[x[0],null].concat(x.slice(1)),null,g,m),void 0===v[a].ga?(x.va=c-1,v[a]=x):v[a].ga[c-1]=x,n.ca.Ca)for(const f of n.ca.Ca)f.constructor.hasOwnProperty(a)||(f.constructor[a]=x);return[]})),[]}))},x:function(b,a,c,d,e,g,m,l){a=U(a),g=Z(e,g),V([],[b],(function(n){var k=`${(n=n[0]).name}.${a}`,t={get(){Zb(`Cannot access ${k} due to unbound types`,[c])},enumerable:!0,configurable:!0};return t.set=l?()=>{Zb(`Cannot access ${k} due to unbound types`,[c])}:()=>{R(`${k} is a read-only property`)},Object.defineProperty(n.ca.constructor,a,t),V([],[c],(function(v){v=v[0];var x={get:()=>v.fromWireType(g(d)),enumerable:!0};return l&&(l=Z(m,l),x.set=f=>{var r=[];l(d,v.toWireType(r,f)),Eb(r)}),Object.defineProperty(n.ca.constructor,a,x),[]})),[]}))},s:function(b,a,c,d,e,g){var m=ac(a,c);e=Z(d,e),V([],[b],(function(l){var n=`constructor ${(l=l[0]).name}`;if(void 0===l.ca.sa&&(l.ca.sa=[]),void 0!==l.ca.sa[a-1])throw new $a(`Cannot register multiple constructors with identical number of parameters (${a-1}) for class '${l.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return l.ca.sa[a-1]=()=>{Zb(`Cannot construct ${l.name} due to unbound types`,m)},V([],m,(function(k){return k.splice(1,0,null),l.ca.sa[a-1]=$b(n,k,null,e,g),[]})),[]}))},a:function(b,a,c,d,e,g,m,l){var n=ac(c,d);a=U(a),g=Z(e,g),V([],[b],(function(k){function t(){Zb(`Cannot call ${v} due to unbound types`,n)}var v=`${(k=k[0]).name}.${a}`;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),l&&k.ca.hb.push(a);var x=k.ca.ma,f=x[a];return void 0===f||void 0===f.ga&&f.className!==k.name&&f.va===c-2?(t.va=c-2,t.className=k.name,x[a]=t):(Nb(x,a,v),x[a].ga[c-2]=t),V([],n,(function(r){return r=$b(v,r,k,g,m),void 0===x[a].ga?(r.va=c-2,x[a]=r):x[a].ga[c-2]=r,[]})),[]}))},e:function(b,a,c,d,e,g,m,l,n,k){a=U(a),e=Z(d,e),V([],[b],(function(t){var v=`${(t=t[0]).name}.${a}`,x={get(){Zb(`Cannot access ${v} due to unbound types`,[c,m])},enumerable:!0,configurable:!0};return x.set=n?()=>{Zb(`Cannot access ${v} due to unbound types`,[c,m])}:()=>{R(v+" is a read-only property")},Object.defineProperty(t.ca.ma,a,x),V([],n?[c,m]:[c],(function(f){var r=f[0],q={get(){var D=bc(this,t,v+" getter");return r.fromWireType(e(g,D))},enumerable:!0};if(n){n=Z(l,n);var G=f[1];q.set=function(D){var u=bc(this,t,v+" setter"),I=[];n(k,u,G.toWireType(I,D)),Eb(I)}}return Object.defineProperty(t.ca.ma,a,q),[]})),[]}))},J:function(b,a){Ib(b,{name:a=U(a),fromWireType:function(c){var d=S(c);return cc(c),d},toWireType:function(c,d){return ab(d)},argPackAdvance:8,readValueFromPointer:Fb,ka:null})},p:function(b,a,c,d){function e(){}c=Jb(c),a=U(a),e.values={},Ib(b,{name:a,constructor:e,fromWireType:function(g){return this.constructor.values[g]},toWireType:function(g,m){return m.value},argPackAdvance:8,readValueFromPointer:dc(a,c,d),ka:null}),Ob(a,e)},d:function(b,a,c){var d=nb(b,"enum");a=U(a),b=d.constructor,d=Object.create(d.constructor.prototype,{value:{value:c},constructor:{value:Ya(`${d.name}_${a}`,(function(){}))}}),b.values[c]=d,b[a]=d},y:function(b,a,c){c=Jb(c),Ib(b,{name:a=U(a),fromWireType:function(d){return d},toWireType:function(d,e){return e},argPackAdvance:8,readValueFromPointer:ec(a,c),ka:null})},m:function(b,a,c,d,e,g){var m=ac(a,c);b=U(b),e=Z(d,e),Ob(b,(function(){Zb(`Cannot call ${b} due to unbound types`,m)}),a-1),V([],m,(function(l){return Wb(b,$b(b,[l[0],null].concat(l.slice(1)),null,e,g),a-1),[]}))},l:function(b,a,c,d,e){a=U(a),-1===e&&(e=4294967295),e=Jb(c);var g=l=>l;if(0===d){var m=32-8*c;g=l=>l<<m>>>m}c=a.includes("unsigned")?function(l,n){return n>>>0}:function(l,n){return n},Ib(b,{name:a,fromWireType:g,toWireType:c,argPackAdvance:8,readValueFromPointer:fc(a,e,0!==d),ka:null})},g:function(b,a,c){function d(g){g>>=2;var m=P;return new e(m.buffer,m[g+1],m[g])}var e=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][a];Ib(b,{name:c=U(c),fromWireType:d,argPackAdvance:8,readValueFromPointer:d},{Kb:!0})},z:function(b,a){var c="std::string"===(a=U(a));Ib(b,{name:a,fromWireType:function(d){var e=P[d>>2],g=d+4;if(c)for(var m=g,l=0;l<=e;++l){var n=g+l;if(l==e||0==L[n]){if(m=m?jc(L,m,n-m):"",void 0===k)var k=m;else k+=String.fromCharCode(0),k+=m;m=n+1}}else{for(k=Array(e),l=0;l<e;++l)k[l]=String.fromCharCode(L[g+l]);k=k.join("")}return mb(d),k},toWireType:function(d,e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));var g="string"==typeof e;g||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||R("Cannot pass non-string to std::string");var m=c&&g?hc(e):e.length,l=Jc(4+m+1),n=l+4;if(P[l>>2]=m,c&&g)gc(e,L,n,m+1);else if(g)for(g=0;g<m;++g){var k=e.charCodeAt(g);255<k&&(mb(n),R("String has UTF-16 code units that do not fit in 8 bits")),L[n+g]=k}else for(g=0;g<m;++g)L[n+g]=e[g];return null!==d&&d.push(mb,l),l},argPackAdvance:8,readValueFromPointer:Fb,ka:function(d){mb(d)}})},u:function(b,a,c){if(c=U(c),2===a)var d=mc,e=nc,g=oc,m=()=>Da,l=1;else 4===a&&(d=pc,e=qc,g=rc,m=()=>P,l=2);Ib(b,{name:c,fromWireType:function(n){for(var v,k=P[n>>2],t=m(),x=n+4,f=0;f<=k;++f){var r=n+4+f*a;f!=k&&0!=t[r>>l]||(x=d(x,r-x),void 0===v?v=x:(v+=String.fromCharCode(0),v+=x),x=r+a)}return mb(n),v},toWireType:function(n,k){"string"!=typeof k&&R(`Cannot pass non-string to C++ string type ${c}`);var t=g(k),v=Jc(4+t+a);return P[v>>2]=t>>l,e(k,v+4,t+a),null!==n&&n.push(mb,v),v},argPackAdvance:8,readValueFromPointer:Fb,ka:function(n){mb(n)}})},Q:function(b,a,c,d,e,g){Db[b]={name:U(a),Pa:Z(c,d),ra:Z(e,g),bb:[]}},P:function(b,a,c,d,e,g,m,l,n,k){Db[b].bb.push({Db:U(a),Jb:c,Hb:Z(d,e),Ib:g,Ub:m,Tb:Z(l,n),Vb:k})},L:function(b,a){Ib(b,{Mb:!0,name:a=U(a),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},v:function(b,a,c){b=S(b),a=nb(a,"emval::as");var d=[],e=ab(d);return P[c>>2]=e,a.toWireType(d,b)},w:function(b,a,c,d,e){b=uc[b],a=S(a),c=tc(c);var g=[];return P[d>>2]=ab(g),b(a,c,g,e)},i:function(b,a,c,d){(b=uc[b])(a=S(a),c=tc(c),null,d)},c:cc,h:function(b,a){var c=function(b,a){for(var c=Array(b),d=0;d<b;++d)c[d]=nb(P[a+4*d>>2],"parameter "+d);return c}(b,a),d=c[0];a=d.name+"_$"+c.slice(1).map((function(m){return m.name})).join("_")+"$";var e=xc[a];if(void 0!==e)return e;var g=Array(b-1);return e=function(b){var a=uc.length;return uc.push(b),a}(((m,l,n,k)=>{for(var t=0,v=0;v<b-1;++v)g[v]=c[v+1].readValueFromPointer(k+t),t+=c[v+1].argPackAdvance;for(m=m[l].apply(m,g),v=0;v<b-1;++v)c[v+1].yb&&c[v+1].yb(g[v]);if(!d.Mb)return d.toWireType(n,m)})),xc[a]=e},t:function(b){return b=tc(b),ab(h[b])},M:function(b,a){return b=S(b),a=S(a),ab(b[a])},n:function(b){4<b&&(Q.get(b).jb+=1)},o:function(b){return ab(tc(b))},A:function(){return ab({})},q:function(b){Eb(S(b)),cc(b)},k:function(b,a,c){b=S(b),a=S(a),c=S(c),b[a]=c},r:function(b,a){return b=(b=nb(b,"_emval_take_value")).readValueFromPointer(a),ab(b)},b:()=>{ya("")},E:b=>{var a=L.length;if(2147483648<(b>>>=0))return!1;for(var c=1;4>=c;c*=2){var d=a*(1+.2/c);d=Math.min(d,b+100663296);var e=Math;d=Math.max(b,d);a:{e=e.min.call(e,2147483648,d+(65536-d%65536)%65536)-za.buffer.byteLength+65535>>>16;try{za.grow(e),Ga();var g=1;break a}catch(m){}g=void 0}if(g)return!0}return!1},F:(b,a)=>{var c=0;return Ac().forEach((function(d,e){var g=a+c;for(e=P[b+4*e>>2]=g,g=0;g<d.length;++g)Ba[e++>>0]=d.charCodeAt(g);Ba[e>>0]=0,c+=d.length+1})),0},G:(b,a)=>{var c=Ac();P[b>>2]=c.length;var d=0;return c.forEach((function(e){d+=e.length+1})),P[a>>2]=d,0},H:()=>52,B:function(){return 70},I:(b,a,c,d)=>{for(var e=0,g=0;g<c;g++){var m=P[a>>2],l=P[a+4>>2];a+=8;for(var n=0;n<l;n++){var k=L[m+n],t=Bc[b];0===k||10===k?((1===b?ta:ua)(jc(t,0)),t.length=0):t.push(k)}e+=l}return P[d>>2]=e,0},D:(b,a,c,d)=>Gc(b,a,c,d)};!function(){function b(c){if(J=c=c.exports,za=J.R,Ga(),Ha=J.X,Ja.unshift(J.S),Ma--,h.monitorRunDependencies&&h.monitorRunDependencies(Ma),0==Ma&&(null!==Na&&(clearInterval(Na),Na=null),Oa)){var d=Oa;Oa=null,d()}return c}var a={a:Kc};if(Ma++,h.monitorRunDependencies&&h.monitorRunDependencies(Ma),h.instantiateWasm)try{return h.instantiateWasm(a,b)}catch(c){ua("Module.instantiateWasm callback failed with error: "+c),ba(c)}(function(b,a){var c=Qa;return va||"function"!=typeof WebAssembly.instantiateStreaming||Pa(c)||c.startsWith("file://")||"function"!=typeof fetch?Ua(c,b,a):fetch(c,{credentials:"same-origin"}).then((d=>WebAssembly.instantiateStreaming(d,b).then(a,(function(e){return ua("wasm streaming compile failed: "+e),ua("falling back to ArrayBuffer instantiation"),Ua(c,b,a)}))))})(a,(function(c){b(c.instance)})).catch(ba)}();var Lc,mb=b=>(mb=J.T)(b),Jc=b=>(Jc=J.U)(b),lb=b=>(lb=J.V)(b);function Nc(){function b(){if(!Lc&&(Lc=!0,h.calledRun=!0,!Aa)){if(Wa(Ja),aa(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for("function"==typeof h.postRun&&(h.postRun=[h.postRun]);h.postRun.length;){var a=h.postRun.shift();Ka.unshift(a)}Wa(Ka)}}if(!(0<Ma)){if(h.preRun)for("function"==typeof h.preRun&&(h.preRun=[h.preRun]);h.preRun.length;)La();Wa(Ia),0<Ma||(h.setStatus?(h.setStatus("Running..."),setTimeout((function(){setTimeout((function(){h.setStatus("")}),1),b()}),1)):b())}}if(h.__embind_initialize_bindings=()=>(h.__embind_initialize_bindings=J.W)(),h.dynCall_jiji=(b,a,c,d,e)=>(h.dynCall_jiji=J.Y)(b,a,c,d,e),h.dynCall_viijii=(b,a,c,d,e,g,m)=>(h.dynCall_viijii=J.Z)(b,a,c,d,e,g,m),h.dynCall_iiiiij=(b,a,c,d,e,g,m)=>(h.dynCall_iiiiij=J._)(b,a,c,d,e,g,m),h.dynCall_iiiiijj=(b,a,c,d,e,g,m,l,n)=>(h.dynCall_iiiiijj=J.$)(b,a,c,d,e,g,m,l,n),h.dynCall_iiiiiijj=(b,a,c,d,e,g,m,l,n,k)=>(h.dynCall_iiiiiijj=J.aa)(b,a,c,d,e,g,m,l,n,k),Oa=function Mc(){Lc||Nc(),Lc||(Oa=Mc)},h.preInit)for("function"==typeof h.preInit&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return Nc(),moduleArg.ready})},module=>{module.exports=JSON.parse('{"name":"@rive-app/canvas","version":"2.8.3","description":"Rive\'s canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}')},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BLANK_URL:()=>_sanitizeUrl__WEBPACK_IMPORTED_MODULE_1__.BLANK_URL,registerTouchInteractions:()=>_registerTouchInteractions__WEBPACK_IMPORTED_MODULE_0__.registerTouchInteractions,sanitizeUrl:()=>_sanitizeUrl__WEBPACK_IMPORTED_MODULE_1__.sanitizeUrl});var _registerTouchInteractions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_sanitizeUrl__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5)},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{registerTouchInteractions:()=>registerTouchInteractions});var registerTouchInteractions=function(_a){var canvas=_a.canvas,artboard=_a.artboard,_b=_a.stateMachines,stateMachines=void 0===_b?[]:_b,renderer=_a.renderer,rive=_a.rive,fit=_a.fit,alignment=_a.alignment;if(!(canvas&&stateMachines.length&&renderer&&rive&&artboard&&"undefined"!=typeof window))return null;var callback=function(event){var boundingRect=event.currentTarget.getBoundingClientRect(),_a=function(event){var _a,_b;return["touchstart","touchmove"].indexOf(event.type)>-1&&(null===(_a=event.touches)||void 0===_a?void 0:_a.length)?(event.preventDefault(),{clientX:event.touches[0].clientX,clientY:event.touches[0].clientY}):"touchend"===event.type&&(null===(_b=event.changedTouches)||void 0===_b?void 0:_b.length)?{clientX:event.changedTouches[0].clientX,clientY:event.changedTouches[0].clientY}:{clientX:event.clientX,clientY:event.clientY}}(event),clientX=_a.clientX,clientY=_a.clientY;if(clientX||clientY){var canvasX=clientX-boundingRect.left,canvasY=clientY-boundingRect.top,forwardMatrix=rive.computeAlignment(fit,alignment,{minX:0,minY:0,maxX:boundingRect.width,maxY:boundingRect.height},artboard.bounds),invertedMatrix=new rive.Mat2D;forwardMatrix.invert(invertedMatrix);var canvasCoordinatesVector=new rive.Vec2D(canvasX,canvasY),transformedVector=rive.mapXY(invertedMatrix,canvasCoordinatesVector),transformedX=transformedVector.x(),transformedY=transformedVector.y();switch(transformedVector.delete(),invertedMatrix.delete(),canvasCoordinatesVector.delete(),forwardMatrix.delete(),event.type){case"mouseout":for(var _i=0,stateMachines_1=stateMachines;_i<stateMachines_1.length;_i++){stateMachines_1[_i].pointerMove(transformedX<0?transformedX-1e4:transformedX+1e4,transformedY<0?transformedY-1e4:transformedY+1e4)}break;case"touchmove":case"mouseover":case"mousemove":for(var _b=0,stateMachines_2=stateMachines;_b<stateMachines_2.length;_b++){stateMachines_2[_b].pointerMove(transformedX,transformedY)}break;case"touchstart":case"mousedown":for(var _c=0,stateMachines_3=stateMachines;_c<stateMachines_3.length;_c++){stateMachines_3[_c].pointerDown(transformedX,transformedY)}break;case"touchend":case"mouseup":for(var _d=0,stateMachines_4=stateMachines;_d<stateMachines_4.length;_d++){stateMachines_4[_d].pointerUp(transformedX,transformedY)}}}}.bind(undefined);return canvas.addEventListener("mouseover",callback),canvas.addEventListener("mouseout",callback),canvas.addEventListener("mousemove",callback),canvas.addEventListener("mousedown",callback),canvas.addEventListener("mouseup",callback),canvas.addEventListener("touchmove",callback),canvas.addEventListener("touchstart",callback),canvas.addEventListener("touchend",callback),function(){canvas.removeEventListener("mouseover",callback),canvas.removeEventListener("mouseout",callback),canvas.removeEventListener("mousemove",callback),canvas.removeEventListener("mousedown",callback),canvas.removeEventListener("mouseup",callback),canvas.removeEventListener("touchmove",callback),canvas.removeEventListener("touchstart",callback),canvas.removeEventListener("touchend",callback)}}},(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BLANK_URL:()=>BLANK_URL,sanitizeUrl:()=>sanitizeUrl});var invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,htmlCtrlEntityRegex=/&(newline|tab);/gi,ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,urlSchemeRegex=/^.+(:|&colon;)/gim,relativeFirstCharacters=[".","/"],BLANK_URL="about:blank";function sanitizeUrl(url){if(!url)return BLANK_URL;var str,sanitizedUrl=(str=url,str.replace(ctrlCharactersRegex,"").replace(htmlEntitiesRegex,(function(match,dec){return String.fromCharCode(dec)}))).replace(htmlCtrlEntityRegex,"").replace(ctrlCharactersRegex,"").trim();if(!sanitizedUrl)return BLANK_URL;if(function(url){return relativeFirstCharacters.indexOf(url[0])>-1}(sanitizedUrl))return sanitizedUrl;var urlSchemeParseResults=sanitizedUrl.match(urlSchemeRegex);if(!urlSchemeParseResults)return sanitizedUrl;var urlScheme=urlSchemeParseResults[0];return invalidProtocolRegex.test(urlScheme)?BLANK_URL:sanitizedUrl}}],__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Alignment:()=>Alignment,EventType:()=>EventType,Fit:()=>Fit,Layout:()=>Layout,LoopType:()=>LoopType,Rive:()=>Rive,RiveEventType:()=>RiveEventType,RuntimeLoader:()=>RuntimeLoader,StateMachineInput:()=>StateMachineInput,StateMachineInputType:()=>StateMachineInputType,Testing:()=>Testing,decodeFont:()=>decodeFont,decodeImage:()=>decodeImage});var Fit,Alignment,_rive_advanced_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),package_json__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};!function(Fit){Fit.Cover="cover",Fit.Contain="contain",Fit.Fill="fill",Fit.FitWidth="fitWidth",Fit.FitHeight="fitHeight",Fit.None="none",Fit.ScaleDown="scaleDown"}(Fit||(Fit={})),function(Alignment){Alignment.Center="center",Alignment.TopLeft="topLeft",Alignment.TopCenter="topCenter",Alignment.TopRight="topRight",Alignment.CenterLeft="centerLeft",Alignment.CenterRight="centerRight",Alignment.BottomLeft="bottomLeft",Alignment.BottomCenter="bottomCenter",Alignment.BottomRight="bottomRight"}(Alignment||(Alignment={}));var StateMachineInputType,Layout=function(){function Layout(params){var _a,_b,_c,_d,_e,_f;this.fit=null!==(_a=null==params?void 0:params.fit)&&void 0!==_a?_a:Fit.Contain,this.alignment=null!==(_b=null==params?void 0:params.alignment)&&void 0!==_b?_b:Alignment.Center,this.minX=null!==(_c=null==params?void 0:params.minX)&&void 0!==_c?_c:0,this.minY=null!==(_d=null==params?void 0:params.minY)&&void 0!==_d?_d:0,this.maxX=null!==(_e=null==params?void 0:params.maxX)&&void 0!==_e?_e:0,this.maxY=null!==(_f=null==params?void 0:params.maxY)&&void 0!==_f?_f:0}return Layout.new=function(_a){var fit=_a.fit,alignment=_a.alignment,minX=_a.minX,minY=_a.minY,maxX=_a.maxX,maxY=_a.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new Layout({fit:fit,alignment:alignment,minX:minX,minY:minY,maxX:maxX,maxY:maxY})},Layout.prototype.copyWith=function(_a){var fit=_a.fit,alignment=_a.alignment,minX=_a.minX,minY=_a.minY,maxX=_a.maxX,maxY=_a.maxY;return new Layout({fit:null!=fit?fit:this.fit,alignment:null!=alignment?alignment:this.alignment,minX:null!=minX?minX:this.minX,minY:null!=minY?minY:this.minY,maxX:null!=maxX?maxX:this.maxX,maxY:null!=maxY?maxY:this.maxY})},Layout.prototype.runtimeFit=function(rive){return this.cachedRuntimeFit?this.cachedRuntimeFit:(fit=this.fit===Fit.Cover?rive.Fit.cover:this.fit===Fit.Contain?rive.Fit.contain:this.fit===Fit.Fill?rive.Fit.fill:this.fit===Fit.FitWidth?rive.Fit.fitWidth:this.fit===Fit.FitHeight?rive.Fit.fitHeight:this.fit===Fit.ScaleDown?rive.Fit.scaleDown:rive.Fit.none,this.cachedRuntimeFit=fit,fit);var fit},Layout.prototype.runtimeAlignment=function(rive){return this.cachedRuntimeAlignment?this.cachedRuntimeAlignment:(alignment=this.alignment===Alignment.TopLeft?rive.Alignment.topLeft:this.alignment===Alignment.TopCenter?rive.Alignment.topCenter:this.alignment===Alignment.TopRight?rive.Alignment.topRight:this.alignment===Alignment.CenterLeft?rive.Alignment.centerLeft:this.alignment===Alignment.CenterRight?rive.Alignment.centerRight:this.alignment===Alignment.BottomLeft?rive.Alignment.bottomLeft:this.alignment===Alignment.BottomCenter?rive.Alignment.bottomCenter:this.alignment===Alignment.BottomRight?rive.Alignment.bottomRight:rive.Alignment.center,this.cachedRuntimeAlignment=alignment,alignment);var alignment},Layout}(),RuntimeLoader=function(){function RuntimeLoader(){}return RuntimeLoader.loadRuntime=function(){_rive_advanced_mjs__WEBPACK_IMPORTED_MODULE_0__.default({locateFile:function(){return RuntimeLoader.wasmURL}}).then((function(rive){var _a;for(RuntimeLoader.runtime=rive;RuntimeLoader.callBackQueue.length>0;)null===(_a=RuntimeLoader.callBackQueue.shift())||void 0===_a||_a(RuntimeLoader.runtime)})).catch((function(){var backupJsdelivrUrl="https://cdn.jsdelivr.net/npm/".concat(package_json__WEBPACK_IMPORTED_MODULE_1__.name,"@").concat(package_json__WEBPACK_IMPORTED_MODULE_1__.version,"/rive.wasm");RuntimeLoader.wasmURL.toLowerCase()!==backupJsdelivrUrl?(console.warn("Failed to load WASM from ".concat(RuntimeLoader.wasmURL,", trying jsdelivr as a backup")),RuntimeLoader.setWasmUrl(backupJsdelivrUrl),RuntimeLoader.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or         you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call         RuntimeLoader.loadRuntime() again")}))},RuntimeLoader.getInstance=function(callback){RuntimeLoader.isLoading||(RuntimeLoader.isLoading=!0,RuntimeLoader.loadRuntime()),RuntimeLoader.runtime?callback(RuntimeLoader.runtime):RuntimeLoader.callBackQueue.push(callback)},RuntimeLoader.awaitInstance=function(){return new Promise((function(resolve){return RuntimeLoader.getInstance((function(rive){return resolve(rive)}))}))},RuntimeLoader.setWasmUrl=function(url){RuntimeLoader.wasmURL=url},RuntimeLoader.isLoading=!1,RuntimeLoader.callBackQueue=[],RuntimeLoader.wasmURL="https://unpkg.com/".concat(package_json__WEBPACK_IMPORTED_MODULE_1__.name,"@").concat(package_json__WEBPACK_IMPORTED_MODULE_1__.version,"/rive.wasm"),RuntimeLoader}(),Animation=function(){function Animation(animation,artboard,runtime,playing){this.animation=animation,this.artboard=artboard,this.playing=playing,this.loopCount=0,this.scrubTo=null,this.instance=new runtime.LinearAnimationInstance(animation,artboard)}return Object.defineProperty(Animation.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(Animation.prototype,"time",{get:function(){return this.instance.time},set:function(value){this.instance.time=value},enumerable:!1,configurable:!0}),Object.defineProperty(Animation.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Animation.prototype.advance=function(time){null===this.scrubTo?this.instance.advance(time):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},Animation.prototype.apply=function(mix){this.instance.apply(mix)},Object.defineProperty(Animation.prototype,"needsScrub",{get:function(){return null!==this.scrubTo},enumerable:!1,configurable:!0}),Animation.prototype.cleanup=function(){this.instance.delete()},Animation}();!function(StateMachineInputType){StateMachineInputType[StateMachineInputType.Number=56]="Number",StateMachineInputType[StateMachineInputType.Trigger=58]="Trigger",StateMachineInputType[StateMachineInputType.Boolean=59]="Boolean"}(StateMachineInputType||(StateMachineInputType={}));var RiveEventType,StateMachineInput=function(){function StateMachineInput(type,runtimeInput){this.type=type,this.runtimeInput=runtimeInput}return Object.defineProperty(StateMachineInput.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(StateMachineInput.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(value){this.runtimeInput.value=value},enumerable:!1,configurable:!0}),StateMachineInput.prototype.fire=function(){this.type===StateMachineInputType.Trigger&&this.runtimeInput.fire()},StateMachineInput}();!function(RiveEventType){RiveEventType[RiveEventType.General=128]="General",RiveEventType[RiveEventType.OpenUrl=131]="OpenUrl"}(RiveEventType||(RiveEventType={}));var EventType,LoopType,StateMachine=function(){function StateMachine(stateMachine,runtime,playing,artboard){this.stateMachine=stateMachine,this.playing=playing,this.artboard=artboard,this.inputs=[],this.instance=new runtime.StateMachineInstance(stateMachine,artboard),this.initInputs(runtime)}return Object.defineProperty(StateMachine.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(StateMachine.prototype,"statesChanged",{get:function(){for(var names=[],i=0;i<this.instance.stateChangedCount();i++)names.push(this.instance.stateChangedNameByIndex(i));return names},enumerable:!1,configurable:!0}),StateMachine.prototype.advance=function(time){this.instance.advance(time)},StateMachine.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},StateMachine.prototype.reportedEventAt=function(i){return this.instance.reportedEventAt(i)},StateMachine.prototype.initInputs=function(runtime){for(var i=0;i<this.instance.inputCount();i++){var input=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(input,runtime))}},StateMachine.prototype.mapRuntimeInput=function(input,runtime){return input.type===runtime.SMIInput.bool?new StateMachineInput(StateMachineInputType.Boolean,input.asBool()):input.type===runtime.SMIInput.number?new StateMachineInput(StateMachineInputType.Number,input.asNumber()):input.type===runtime.SMIInput.trigger?new StateMachineInput(StateMachineInputType.Trigger,input.asTrigger()):void 0},StateMachine.prototype.cleanup=function(){this.instance.delete()},StateMachine}(),Animator=function(){function Animator(runtime,artboard,eventManager,animations,stateMachines){void 0===animations&&(animations=[]),void 0===stateMachines&&(stateMachines=[]),this.runtime=runtime,this.artboard=artboard,this.eventManager=eventManager,this.animations=animations,this.stateMachines=stateMachines}return Animator.prototype.add=function(animatables,playing,fireEvent){if(void 0===fireEvent&&(fireEvent=!0),0===(animatables=mapToStringArray(animatables)).length)this.animations.forEach((function(a){return a.playing=playing})),this.stateMachines.forEach((function(m){return m.playing=playing}));else for(var instancedAnimationNames=this.animations.map((function(a){return a.name})),instancedMachineNames=this.stateMachines.map((function(m){return m.name})),i=0;i<animatables.length;i++){var aIndex=instancedAnimationNames.indexOf(animatables[i]),mIndex=instancedMachineNames.indexOf(animatables[i]);if(aIndex>=0||mIndex>=0)aIndex>=0?this.animations[aIndex].playing=playing:this.stateMachines[mIndex].playing=playing;else{var anim=this.artboard.animationByName(animatables[i]);if(anim){var newAnimation=new Animation(anim,this.artboard,this.runtime,playing);newAnimation.advance(0),newAnimation.apply(1),this.animations.push(newAnimation)}else{var sm=this.artboard.stateMachineByName(animatables[i]);if(sm){var newStateMachine=new StateMachine(sm,this.runtime,playing,this.artboard);this.stateMachines.push(newStateMachine)}}}}return fireEvent&&(playing?this.eventManager.fire({type:EventType.Play,data:this.playing}):this.eventManager.fire({type:EventType.Pause,data:this.paused})),playing?this.playing:this.paused},Animator.prototype.initLinearAnimations=function(animatables,playing){for(var instancedAnimationNames=this.animations.map((function(a){return a.name})),i=0;i<animatables.length;i++){var aIndex=instancedAnimationNames.indexOf(animatables[i]);if(aIndex>=0)this.animations[aIndex].playing=playing;else{var anim=this.artboard.animationByName(animatables[i]);if(anim){var newAnimation=new Animation(anim,this.artboard,this.runtime,playing);newAnimation.advance(0),newAnimation.apply(1),this.animations.push(newAnimation)}}}},Animator.prototype.initStateMachines=function(animatables,playing){for(var instancedStateMachineNames=this.stateMachines.map((function(a){return a.name})),i=0;i<animatables.length;i++){var aIndex=instancedStateMachineNames.indexOf(animatables[i]);if(aIndex>=0)this.stateMachines[aIndex].playing=playing;else{var sm=this.artboard.stateMachineByName(animatables[i]);if(sm){var newStateMachine=new StateMachine(sm,this.runtime,playing,this.artboard);this.stateMachines.push(newStateMachine)}else this.initLinearAnimations([animatables[i]],playing)}}},Animator.prototype.play=function(animatables){return this.add(animatables,!0)},Animator.prototype.pause=function(animatables){return this.add(animatables,!1)},Animator.prototype.scrub=function(animatables,value){var forScrubbing=this.animations.filter((function(a){return animatables.includes(a.name)}));return forScrubbing.forEach((function(a){return a.scrubTo=value})),forScrubbing.map((function(a){return a.name}))},Object.defineProperty(Animator.prototype,"playing",{get:function(){return this.animations.filter((function(a){return a.playing})).map((function(a){return a.name})).concat(this.stateMachines.filter((function(m){return m.playing})).map((function(m){return m.name})))},enumerable:!1,configurable:!0}),Object.defineProperty(Animator.prototype,"paused",{get:function(){return this.animations.filter((function(a){return!a.playing})).map((function(a){return a.name})).concat(this.stateMachines.filter((function(m){return!m.playing})).map((function(m){return m.name})))},enumerable:!1,configurable:!0}),Animator.prototype.stop=function(animatables){var _this=this,removedNames=[];if(0===(animatables=mapToStringArray(animatables)).length)removedNames=this.animations.map((function(a){return a.name})).concat(this.stateMachines.map((function(m){return m.name}))),this.animations.forEach((function(a){return a.cleanup()})),this.stateMachines.forEach((function(m){return m.cleanup()})),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var animationsToRemove=this.animations.filter((function(a){return animatables.includes(a.name)}));animationsToRemove.forEach((function(a){a.cleanup(),_this.animations.splice(_this.animations.indexOf(a),1)}));var machinesToRemove=this.stateMachines.filter((function(m){return animatables.includes(m.name)}));machinesToRemove.forEach((function(m){m.cleanup(),_this.stateMachines.splice(_this.stateMachines.indexOf(m),1)})),removedNames=animationsToRemove.map((function(a){return a.name})).concat(machinesToRemove.map((function(m){return m.name})))}return this.eventManager.fire({type:EventType.Stop,data:removedNames}),removedNames},Object.defineProperty(Animator.prototype,"isPlaying",{get:function(){return this.animations.reduce((function(acc,curr){return acc||curr.playing}),!1)||this.stateMachines.reduce((function(acc,curr){return acc||curr.playing}),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(Animator.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(Animator.prototype,"isStopped",{get:function(){return 0===this.animations.length&&0===this.stateMachines.length},enumerable:!1,configurable:!0}),Animator.prototype.atLeastOne=function(playing,fireEvent){var instancedName;return void 0===fireEvent&&(fireEvent=!0),0===this.animations.length&&0===this.stateMachines.length&&(this.artboard.animationCount()>0?this.add([instancedName=this.artboard.animationByIndex(0).name],playing,fireEvent):this.artboard.stateMachineCount()>0&&this.add([instancedName=this.artboard.stateMachineByIndex(0).name],playing,fireEvent)),instancedName},Animator.prototype.handleLooping=function(){for(var _i=0,_a=this.animations.filter((function(a){return a.playing}));_i<_a.length;_i++){var animation=_a[_i];0===animation.loopValue&&animation.loopCount?(animation.loopCount=0,this.stop(animation.name)):1===animation.loopValue&&animation.loopCount?(this.eventManager.fire({type:EventType.Loop,data:{animation:animation.name,type:LoopType.Loop}}),animation.loopCount=0):2===animation.loopValue&&animation.loopCount>1&&(this.eventManager.fire({type:EventType.Loop,data:{animation:animation.name,type:LoopType.PingPong}}),animation.loopCount=0)}},Animator.prototype.handleStateChanges=function(){for(var statesChanged=[],_i=0,_a=this.stateMachines.filter((function(sm){return sm.playing}));_i<_a.length;_i++){var stateMachine=_a[_i];statesChanged.push.apply(statesChanged,stateMachine.statesChanged)}statesChanged.length>0&&this.eventManager.fire({type:EventType.StateChange,data:statesChanged})},Animator.prototype.handleAdvancing=function(time){this.eventManager.fire({type:EventType.Advance,data:time})},Animator}();!function(EventType){EventType.Load="load",EventType.LoadError="loaderror",EventType.Play="play",EventType.Pause="pause",EventType.Stop="stop",EventType.Loop="loop",EventType.Draw="draw",EventType.Advance="advance",EventType.StateChange="statechange",EventType.RiveEvent="riveevent"}(EventType||(EventType={})),function(LoopType){LoopType.OneShot="oneshot",LoopType.Loop="loop",LoopType.PingPong="pingpong"}(LoopType||(LoopType={}));var EventManager=function(){function EventManager(listeners){void 0===listeners&&(listeners=[]),this.listeners=listeners}return EventManager.prototype.getListeners=function(type){return this.listeners.filter((function(e){return e.type===type}))},EventManager.prototype.add=function(listener){this.listeners.includes(listener)||this.listeners.push(listener)},EventManager.prototype.remove=function(listener){for(var i=0;i<this.listeners.length;i++){var currentListener=this.listeners[i];if(currentListener.type===listener.type&&currentListener.callback===listener.callback){this.listeners.splice(i,1);break}}},EventManager.prototype.removeAll=function(type){var _this=this;type?this.listeners.filter((function(l){return l.type===type})).forEach((function(l){return _this.remove(l)})):this.listeners.splice(0,this.listeners.length)},EventManager.prototype.fire=function(event){this.getListeners(event.type).forEach((function(listener){return listener.callback(event)}))},EventManager}(),TaskQueueManager=function(){function TaskQueueManager(eventManager){this.eventManager=eventManager,this.queue=[]}return TaskQueueManager.prototype.add=function(task){this.queue.push(task)},TaskQueueManager.prototype.process=function(){for(;this.queue.length>0;){var task=this.queue.shift();(null==task?void 0:task.action)&&task.action(),(null==task?void 0:task.event)&&this.eventManager.fire(task.event)}},TaskQueueManager}(),Rive=function(){function Rive(params){var _a;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=params.canvas,this.src=params.src,this.buffer=params.buffer,this.layout=null!==(_a=params.layout)&&void 0!==_a?_a:new Layout,this.shouldDisableRiveListeners=!!params.shouldDisableRiveListeners,this.automaticallyHandleEvents=!!params.automaticallyHandleEvents,this.enableRiveAssetCDN=void 0===params.enableRiveAssetCDN||params.enableRiveAssetCDN,this.eventManager=new EventManager,params.onLoad&&this.on(EventType.Load,params.onLoad),params.onLoadError&&this.on(EventType.LoadError,params.onLoadError),params.onPlay&&this.on(EventType.Play,params.onPlay),params.onPause&&this.on(EventType.Pause,params.onPause),params.onStop&&this.on(EventType.Stop,params.onStop),params.onLoop&&this.on(EventType.Loop,params.onLoop),params.onStateChange&&this.on(EventType.StateChange,params.onStateChange),params.onAdvance&&this.on(EventType.Advance,params.onAdvance),params.onload&&!params.onLoad&&this.on(EventType.Load,params.onload),params.onloaderror&&!params.onLoadError&&this.on(EventType.LoadError,params.onloaderror),params.onplay&&!params.onPlay&&this.on(EventType.Play,params.onplay),params.onpause&&!params.onPause&&this.on(EventType.Pause,params.onpause),params.onstop&&!params.onStop&&this.on(EventType.Stop,params.onstop),params.onloop&&!params.onLoop&&this.on(EventType.Loop,params.onloop),params.onstatechange&&!params.onStateChange&&this.on(EventType.StateChange,params.onstatechange),params.assetLoader&&(this.assetLoader=params.assetLoader),this.taskQueue=new TaskQueueManager(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:params.autoplay,animations:params.animations,stateMachines:params.stateMachines,artboard:params.artboard,useOffscreenRenderer:params.useOffscreenRenderer})}return Rive.new=function(params){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new Rive(params)},Rive.prototype.init=function(_a){var _this=this,src=_a.src,buffer=_a.buffer,animations=_a.animations,stateMachines=_a.stateMachines,artboard=_a.artboard,_b=_a.autoplay,autoplay=void 0!==_b&&_b,_c=_a.useOffscreenRenderer,useOffscreenRenderer=void 0!==_c&&_c;if(this.src=src,this.buffer=buffer,!this.src&&!this.buffer)throw new Error(Rive.missingErrorMessage);var startingAnimationNames=mapToStringArray(animations),startingStateMachineNames=mapToStringArray(stateMachines);this.loaded=!1,this.readyForPlaying=!1,RuntimeLoader.awaitInstance().then((function(runtime){_this.runtime=runtime,_this.renderer=_this.runtime.makeRenderer(_this.canvas,useOffscreenRenderer),_this.canvas.width||_this.canvas.height||_this.resizeDrawingSurfaceToCanvas(),_this.initData(artboard,startingAnimationNames,startingStateMachineNames,autoplay).then((function(){return _this.setupRiveListeners()})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))},Rive.prototype.setupRiveListeners=function(){var _this=this;if(!this.shouldDisableRiveListeners){var activeStateMachines=(this.animator.stateMachines||[]).filter((function(sm){return sm.playing&&_this.runtime.hasListeners(sm.instance)})).map((function(sm){return sm.instance}));this.eventCleanup=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:activeStateMachines,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},Rive.prototype.initData=function(artboardName,animationNames,stateMachineNames,autoplay){var _a;return __awaiter(this,void 0,void 0,(function(){var _b,loader,_c,msg;return __generator(this,(function(_d){switch(_d.label){case 0:return this.src?(_b=this,[4,loadRiveFile(this.src)]):[3,2];case 1:_b.buffer=_d.sent(),_d.label=2;case 2:return this.assetLoader&&(loader=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),_c=this,[4,this.runtime.load(new Uint8Array(this.buffer),loader,this.enableRiveAssetCDN)];case 3:return _c.file=_d.sent(),this.file?(this.initArtboard(artboardName,animationNames,stateMachineNames,autoplay),this.loaded=!0,this.eventManager.fire({type:EventType.Load,data:null!==(_a=this.src)&&void 0!==_a?_a:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(msg="Problem loading file; may be corrupt!",console.warn(msg),this.eventManager.fire({type:EventType.LoadError,data:msg}),[2,Promise.reject(msg)])}}))}))},Rive.prototype.initArtboard=function(artboardName,animationNames,stateMachineNames,autoplay){var instanceNames,rootArtboard=artboardName?this.file.artboardByName(artboardName):this.file.defaultArtboard();if(!rootArtboard){var msg="Invalid artboard name or no default artboard";return console.warn(msg),void this.eventManager.fire({type:EventType.LoadError,data:msg})}if(this.artboard=rootArtboard,this.artboard.animationCount()<1){msg="Artboard has no animations";throw this.eventManager.fire({type:EventType.LoadError,data:msg}),msg}this.animator=new Animator(this.runtime,this.artboard,this.eventManager),animationNames.length>0||stateMachineNames.length>0?(instanceNames=animationNames.concat(stateMachineNames),this.animator.initLinearAnimations(animationNames,autoplay),this.animator.initStateMachines(stateMachineNames,autoplay)):instanceNames=[this.animator.atLeastOne(autoplay,!1)],this.taskQueue.add({event:{type:autoplay?EventType.Play:EventType.Pause,data:instanceNames}})},Rive.prototype.drawFrame=function(){this.startRendering()},Rive.prototype.draw=function(time,onSecond){var before=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=time),this.renderSecondTimer+=time-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,null==onSecond||onSecond());var elapsedTime=(time-this.lastRenderTime)/1e3;this.lastRenderTime=time;for(var _i=0,activeAnimations_1=this.animator.animations.filter((function(a){return a.playing||a.needsScrub})).sort((function(first){return first.needsScrub?-1:1}));_i<activeAnimations_1.length;_i++){var animation=activeAnimations_1[_i];animation.advance(elapsedTime),animation.instance.didLoop&&(animation.loopCount+=1),animation.apply(1)}for(var _a=0,activeStateMachines_1=this.animator.stateMachines.filter((function(a){return a.playing}));_a<activeStateMachines_1.length;_a++){var stateMachine=activeStateMachines_1[_a],numEventsReported=stateMachine.reportedEventCount();if(numEventsReported)for(var i=0;i<numEventsReported;i++){var event_1=stateMachine.reportedEventAt(i);if(event_1)if(event_1.type===RiveEventType.OpenUrl){if(this.eventManager.fire({type:EventType.RiveEvent,data:event_1}),this.automaticallyHandleEvents){var newAnchorTag=document.createElement("a"),_b=event_1,url=_b.url,target=_b.target,sanitizedUrl=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.sanitizeUrl)(url);url&&newAnchorTag.setAttribute("href",sanitizedUrl),target&&newAnchorTag.setAttribute("target",target),sanitizedUrl&&sanitizedUrl!==_utils__WEBPACK_IMPORTED_MODULE_2__.BLANK_URL&&newAnchorTag.click()}}else this.eventManager.fire({type:EventType.RiveEvent,data:event_1})}stateMachine.advance(elapsedTime)}this.artboard.advance(elapsedTime);var renderer=this.renderer;renderer.clear(),renderer.save(),this.alignRenderer(),this.artboard.draw(renderer),renderer.restore(),renderer.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(elapsedTime),this.frameCount++;var after=performance.now();for(this.frameTimes.push(after),this.durations.push(after-before);this.frameTimes[0]<=after-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():(this.animator.isPaused||this.animator.isStopped)&&(this.lastRenderTime=0)},Rive.prototype.alignRenderer=function(){var renderer=this.renderer,runtime=this.runtime,_layout=this._layout,artboard=this.artboard;renderer.align(_layout.runtimeFit(runtime),_layout.runtimeAlignment(runtime),{minX:_layout.minX,minY:_layout.minY,maxX:_layout.maxX,maxY:_layout.maxY},artboard.bounds)},Object.defineProperty(Rive.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"frameTime",{get:function(){return 0===this.durations.length?0:(this.durations.reduce((function(a,b){return a+b}),0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),Rive.prototype.cleanup=function(){var _a,_b,_c;this.stopRendering(),this.cleanupInstances(),(null===(_a=this.runtime)||void 0===_a?void 0:_a.CanvasRenderer)&&(null===(_b=this.renderer)||void 0===_b||_b.delete()),this.renderer=null,null===(_c=this.file)||void 0===_c||_c.delete(),this.file=null},Rive.prototype.cleanupInstances=function(){null!==this.eventCleanup&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},Rive.prototype.retrieveTextRun=function(textRunName){var _a;if(textRunName)if(this.artboard){var textRun=this.artboard.textRun(textRunName);if(textRun)return textRun;console.warn("Could not access a text run with name '".concat(textRunName,"' in the '").concat(null===(_a=this.artboard)||void 0===_a?void 0:_a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."))}else console.warn("Tried to access text run, but the Artboard is null");else console.warn("No text run name provided")},Rive.prototype.getTextRunValue=function(textRunName){var textRun=this.retrieveTextRun(textRunName);return textRun?textRun.text:void 0},Rive.prototype.setTextRunValue=function(textRunName,textRunValue){var textRun=this.retrieveTextRun(textRunName);textRun&&(textRun.text=textRunValue)},Rive.prototype.play=function(animationNames,autoplay){var _this=this;animationNames=mapToStringArray(animationNames),this.readyForPlaying?(this.animator.play(animationNames),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()):this.taskQueue.add({action:function(){return _this.play(animationNames,autoplay)}})},Rive.prototype.pause=function(animationNames){var _this=this;animationNames=mapToStringArray(animationNames),this.readyForPlaying?(this.eventCleanup&&this.eventCleanup(),this.animator.pause(animationNames)):this.taskQueue.add({action:function(){return _this.pause(animationNames)}})},Rive.prototype.scrub=function(animationNames,value){var _this=this;animationNames=mapToStringArray(animationNames),this.readyForPlaying?(this.animator.scrub(animationNames,value||0),this.drawFrame()):this.taskQueue.add({action:function(){return _this.scrub(animationNames,value)}})},Rive.prototype.stop=function(animationNames){var _this=this;animationNames=mapToStringArray(animationNames),this.readyForPlaying?(this.animator.stop(animationNames),this.eventCleanup&&this.eventCleanup()):this.taskQueue.add({action:function(){return _this.stop(animationNames)}})},Rive.prototype.reset=function(params){var _a,artBoardName=null==params?void 0:params.artboard,animationNames=mapToStringArray(null==params?void 0:params.animations),stateMachineNames=mapToStringArray(null==params?void 0:params.stateMachines),autoplay=null!==(_a=null==params?void 0:params.autoplay)&&void 0!==_a&&_a;this.cleanupInstances(),this.initArtboard(artBoardName,animationNames,stateMachineNames,autoplay),this.taskQueue.process()},Rive.prototype.load=function(params){this.stop(),this.init(params)},Object.defineProperty(Rive.prototype,"layout",{get:function(){return this._layout},set:function(layout){this._layout=layout,layout.maxX&&layout.maxY||this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),Rive.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},Rive.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var _a=this.canvas.getBoundingClientRect(),width=_a.width,height=_a.height,dpr=window.devicePixelRatio||1;this.canvas.width=dpr*width,this.canvas.height=dpr*height,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(Rive.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var animationNames=[],i=0;i<this.artboard.animationCount();i++)animationNames.push(this.artboard.animationByIndex(i).name);return animationNames},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var stateMachineNames=[],i=0;i<this.artboard.stateMachineCount();i++)stateMachineNames.push(this.artboard.stateMachineByIndex(i).name);return stateMachineNames},enumerable:!1,configurable:!0}),Rive.prototype.stateMachineInputs=function(name){if(this.loaded){var stateMachine=this.animator.stateMachines.find((function(m){return m.name===name}));return null==stateMachine?void 0:stateMachine.inputs}},Object.defineProperty(Rive.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(m){return m.playing})).map((function(m){return m.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(a){return a.playing})).map((function(a){return a.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(a){return!a.playing})).map((function(a){return a.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(m){return!m.playing})).map((function(m){return m.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(Rive.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),Rive.prototype.on=function(type,callback){this.eventManager.add({type:type,callback:callback})},Rive.prototype.off=function(type,callback){this.eventManager.remove({type:type,callback:callback})},Rive.prototype.unsubscribe=function(type,callback){console.warn("This function is deprecated: please use `off()` instead."),this.off(type,callback)},Rive.prototype.removeAllRiveEventListeners=function(type){this.eventManager.removeAll(type)},Rive.prototype.unsubscribeAll=function(type){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(type)},Rive.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},Rive.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},Rive.prototype.enableFPSCounter=function(fpsCallback){this.runtime.enableFPSCounter(fpsCallback)},Rive.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(Rive.prototype,"contents",{get:function(){if(this.loaded){for(var riveContents={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var artboard=this.file.artboardByIndex(i),artboardContents={name:artboard.name,animations:[],stateMachines:[]},j=0;j<artboard.animationCount();j++){var animation=artboard.animationByIndex(j);artboardContents.animations.push(animation.name)}for(var k=0;k<artboard.stateMachineCount();k++){for(var stateMachine=artboard.stateMachineByIndex(k),name_1=stateMachine.name,instance=new this.runtime.StateMachineInstance(stateMachine,artboard),inputContents=[],l=0;l<instance.inputCount();l++){var input=instance.input(l);inputContents.push({name:input.name,type:input.type})}artboardContents.stateMachines.push({name:name_1,inputs:inputContents})}riveContents.artboards.push(artboardContents)}return riveContents}},enumerable:!1,configurable:!0}),Rive.missingErrorMessage="Rive source file or data buffer required",Rive}(),loadRiveFile=function(src){return __awaiter(void 0,void 0,void 0,(function(){var req;return __generator(this,(function(_a){switch(_a.label){case 0:return req=new Request(src),[4,fetch(req)];case 1:return[4,_a.sent().arrayBuffer()];case 2:return[2,_a.sent()]}}))}))},mapToStringArray=function(obj){return"string"==typeof obj?[obj]:obj instanceof Array?obj:[]},Testing={EventManager:EventManager,TaskQueueManager:TaskQueueManager},decodeImage=function(bytes){return new Promise((function(resolve){return RuntimeLoader.getInstance((function(rive){rive.decodeImage(bytes,resolve)}))}))},decodeFont=function(bytes){return new Promise((function(resolve){return RuntimeLoader.getInstance((function(rive){rive.decodeFont(bytes,resolve)}))}))}})(),__webpack_exports__})()));