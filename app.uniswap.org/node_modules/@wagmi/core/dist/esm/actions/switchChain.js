import{}from"viem";import{}from"../createConfig.js";import{ChainNotConfiguredError}from"../errors/config.js";import{SwitchChainNotSupportedError}from"../errors/connector.js";import{}from"../types/utils.js";export async function switchChain(config,parameters){const{addEthereumChainParameter:addEthereumChainParameter,chainId:chainId}=parameters,connection=config.state.connections.get(parameters.connector?.uid??config.state.current);if(connection){const connector=connection.connector;if(!connector.switchChain)throw new SwitchChainNotSupportedError({connector:connector});return await connector.switchChain({addEthereumChainParameter:addEthereumChainParameter,chainId:chainId})}const chain=config.chains.find((x=>x.id===chainId));if(!chain)throw new ChainNotConfiguredError;return config.setState((x=>({...x,chainId:chainId}))),chain}