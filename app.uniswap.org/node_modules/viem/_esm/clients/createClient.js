import{parseAccount}from"../utils/accounts.js";import{uid}from"../utils/uid.js";export function createClient(parameters){const{batch:batch,cacheTime:cacheTime=parameters.pollingInterval??4e3,ccipRead:ccipRead,key:key="base",name:name="Base Client",pollingInterval:pollingInterval=4e3,type:type="base"}=parameters,chain=parameters.chain,account=parameters.account?parseAccount(parameters.account):void 0,{config:config,request:request,value:value}=parameters.transport({chain:chain,pollingInterval:pollingInterval}),client={account:account,batch:batch,cacheTime:cacheTime,ccipRead:ccipRead,chain:chain,key:key,name:name,pollingInterval:pollingInterval,request:request,transport:{...config,...value},type:type,uid:uid()};return Object.assign(client,{extend:function extend(base){return extendFn=>{const extended=extendFn(base);for(const key in client)delete extended[key];const combined={...base,...extended};return Object.assign(combined,{extend:extend(combined)})}}(client)})}