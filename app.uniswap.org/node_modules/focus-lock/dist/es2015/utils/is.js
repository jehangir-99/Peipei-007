import{FOCUS_NO_AUTOFOCUS}from"../constants";var isElementHidden=function(node){if(node.nodeType!==Node.ELEMENT_NODE)return!1;var computedStyle=window.getComputedStyle(node,null);return!(!computedStyle||!computedStyle.getPropertyValue)&&("none"===computedStyle.getPropertyValue("display")||"hidden"===computedStyle.getPropertyValue("visibility"))},getParentNode=function(node){return node.parentNode&&node.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?node.parentNode.host:node.parentNode},isTopNode=function(node){return node===document||node&&node.nodeType===Node.DOCUMENT_NODE},isVisibleUncached=function(node,checkParent){return!node||isTopNode(node)||!isElementHidden(node)&&checkParent(getParentNode(node))};export var isVisibleCached=function(visibilityCache,node){var cached=visibilityCache.get(node);if(void 0!==cached)return cached;var result=isVisibleUncached(node,isVisibleCached.bind(void 0,visibilityCache));return visibilityCache.set(node,result),result};var isAutoFocusAllowedUncached=function(node,checkParent){return!(node&&!isTopNode(node))||!!isAutoFocusAllowed(node)&&checkParent(getParentNode(node))};export var isAutoFocusAllowedCached=function(cache,node){var cached=cache.get(node);if(void 0!==cached)return cached;var result=isAutoFocusAllowedUncached(node,isAutoFocusAllowedCached.bind(void 0,cache));return cache.set(node,result),result};export var getDataset=function(node){return node.dataset};export var isHTMLButtonElement=function(node){return"BUTTON"===node.tagName};export var isHTMLInputElement=function(node){return"INPUT"===node.tagName};export var isRadioElement=function(node){return isHTMLInputElement(node)&&"radio"===node.type};export var notHiddenInput=function(node){return!((isHTMLInputElement(node)||isHTMLButtonElement(node))&&("hidden"===node.type||node.disabled))};export var isAutoFocusAllowed=function(node){var attribute=node.getAttribute(FOCUS_NO_AUTOFOCUS);return![!0,"true",""].includes(attribute)};export var isGuard=function(node){var _a;return Boolean(node&&(null===(_a=getDataset(node))||void 0===_a?void 0:_a.focusGuard))};export var isNotAGuard=function(node){return!isGuard(node)};export var isDefined=function(x){return Boolean(x)};