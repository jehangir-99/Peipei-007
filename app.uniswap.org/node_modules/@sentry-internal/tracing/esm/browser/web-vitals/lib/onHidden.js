import{WINDOW}from"../../types.js";const onHidden=(cb,once)=>{const onHiddenOrPageHide=event=>{"pagehide"!==event.type&&"hidden"!==WINDOW.document.visibilityState||(cb(event),once&&(removeEventListener("visibilitychange",onHiddenOrPageHide,!0),removeEventListener("pagehide",onHiddenOrPageHide,!0)))};addEventListener("visibilitychange",onHiddenOrPageHide,!0),addEventListener("pagehide",onHiddenOrPageHide,!0)};export{onHidden};