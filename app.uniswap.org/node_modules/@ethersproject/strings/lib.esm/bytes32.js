"use strict";import{HashZero}from"@ethersproject/constants";import{arrayify,concat,hexlify}from"@ethersproject/bytes";import{toUtf8Bytes,toUtf8String}from"./utf8";export function formatBytes32String(text){const bytes=toUtf8Bytes(text);if(bytes.length>31)throw new Error("bytes32 string must be less than 32 bytes");return hexlify(concat([bytes,HashZero]).slice(0,32))}export function parseBytes32String(bytes){const data=arrayify(bytes);if(32!==data.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==data[31])throw new Error("invalid bytes32 string - no null terminator");let length=31;for(;0===data[length-1];)length--;return toUtf8String(data.slice(0,length))}