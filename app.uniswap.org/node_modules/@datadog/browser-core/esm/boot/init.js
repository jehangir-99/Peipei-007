import{catchUserErrors}from"../tools/catchUserErrors";import{setDebugMode}from"../tools/monitor";import{assign}from"../tools/utils/polyfills";import{display}from"../tools/display";export function makePublicApi(stub){var publicApi=assign({version:"5.20.0",onReady:function(callback){callback()}},stub);return Object.defineProperty(publicApi,"_setDebug",{get:function(){return setDebugMode},enumerable:!1}),publicApi}export function defineGlobal(global,name,api){var existingGlobalVariable=global[name];existingGlobalVariable&&!existingGlobalVariable.q&&existingGlobalVariable.version&&display.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),global[name]=api,existingGlobalVariable&&existingGlobalVariable.q&&existingGlobalVariable.q.forEach((function(fn){return catchUserErrors(fn,"onReady callback threw an error:")()}))}