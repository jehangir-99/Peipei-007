var Observable=function(){function Observable(onFirstSubscribe){this.onFirstSubscribe=onFirstSubscribe,this.observers=[]}return Observable.prototype.subscribe=function(f){var _this=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),this.observers.push(f),{unsubscribe:function(){_this.observers=_this.observers.filter((function(other){return f!==other})),!_this.observers.length&&_this.onLastUnsubscribe&&_this.onLastUnsubscribe()}}},Observable.prototype.notify=function(data){this.observers.forEach((function(observer){return observer(data)}))},Observable}();export{Observable};export function mergeObservables(){for(var observables=[],_i=0;_i<arguments.length;_i++)observables[_i]=arguments[_i];return new Observable((function(globalObservable){var subscriptions=observables.map((function(observable){return observable.subscribe((function(data){return globalObservable.notify(data)}))}));return function(){return subscriptions.forEach((function(subscription){return subscription.unsubscribe()}))}}))}