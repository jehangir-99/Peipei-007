import{Observable,performDraw,startSessionManager}from"@datadog/browser-core";export var LOGS_SESSION_KEY="logs";export function startLogsSessionManager(configuration,trackingConsentState){var sessionManager=startSessionManager(configuration,LOGS_SESSION_KEY,(function(rawTrackingType){return computeSessionState(configuration,rawTrackingType)}),trackingConsentState);return{findTrackedSession:function(startTime,options){void 0===options&&(options={returnInactive:!1});var session=sessionManager.findSession(startTime,options);return session&&"1"===session.trackingType?{id:session.id}:void 0},expireObservable:sessionManager.expireObservable}}export function startLogsSessionManagerStub(configuration){var session="1"===computeTrackingType(configuration)?{}:void 0;return{findTrackedSession:function(){return session},expireObservable:new Observable}}function computeTrackingType(configuration){return performDraw(configuration.sessionSampleRate)?"1":"0"}function computeSessionState(configuration,rawSessionType){var trackingType=hasValidLoggerSession(rawSessionType)?rawSessionType:computeTrackingType(configuration);return{trackingType:trackingType,isTracked:"1"===trackingType}}function hasValidLoggerSession(trackingType){return"0"===trackingType||"1"===trackingType}