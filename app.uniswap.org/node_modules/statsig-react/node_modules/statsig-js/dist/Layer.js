"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Layer=function(){function Layer(name,layerValue,ruleID,evaluationDetails,logParameterFunction,secondaryExposures,undelegatedSecondaryExposures,allocatedExperimentName,explicitParameters,groupName){void 0===logParameterFunction&&(logParameterFunction=null),void 0===secondaryExposures&&(secondaryExposures=[]),void 0===undelegatedSecondaryExposures&&(undelegatedSecondaryExposures=[]),void 0===allocatedExperimentName&&(allocatedExperimentName=""),void 0===explicitParameters&&(explicitParameters=[]),void 0===groupName&&(groupName=null),this.logParameterFunction=logParameterFunction,this.name=name,this.value=JSON.parse(JSON.stringify(null!=layerValue?layerValue:{})),this.ruleID=null!=ruleID?ruleID:"",this.evaluationDetails=evaluationDetails,this.secondaryExposures=secondaryExposures,this.undelegatedSecondaryExposures=undelegatedSecondaryExposures,this.allocatedExperimentName=allocatedExperimentName,this.explicitParameters=explicitParameters,this.groupName=groupName}return Layer._create=function(name,value,ruleID,evaluationDetails,logParameterFunction,secondaryExposures,undelegatedSecondaryExposures,allocatedExperimentName,explicitParameters,groupName){return void 0===logParameterFunction&&(logParameterFunction=null),void 0===secondaryExposures&&(secondaryExposures=[]),void 0===undelegatedSecondaryExposures&&(undelegatedSecondaryExposures=[]),void 0===allocatedExperimentName&&(allocatedExperimentName=""),void 0===explicitParameters&&(explicitParameters=[]),void 0===groupName&&(groupName=null),new Layer(name,value,ruleID,evaluationDetails,logParameterFunction,secondaryExposures,undelegatedSecondaryExposures,allocatedExperimentName,explicitParameters,groupName)},Layer.prototype.get=function(key,defaultValue,typeGuard){var _this=this,val=this.value[key];if(null==val)return defaultValue;var logAndReturn=function(){return _this.logLayerParameterExposure(key),val};return typeGuard?typeGuard(val)?logAndReturn():defaultValue:null==defaultValue||typeof val==typeof defaultValue&&Array.isArray(defaultValue)===Array.isArray(val)?logAndReturn():defaultValue},Layer.prototype.getValue=function(key,defaultValue){null==defaultValue&&(defaultValue=null);var val=this.value[key];return null!=val&&this.logLayerParameterExposure(key),null!=val?val:defaultValue},Layer.prototype.getRuleID=function(){return this.ruleID},Layer.prototype.getGroupName=function(){return this.groupName},Layer.prototype.getName=function(){return this.name},Layer.prototype.getEvaluationDetails=function(){return this.evaluationDetails},Layer.prototype._getSecondaryExposures=function(){return this.secondaryExposures},Layer.prototype._getUndelegatedSecondaryExposures=function(){return this.undelegatedSecondaryExposures},Layer.prototype._getAllocatedExperimentName=function(){return this.allocatedExperimentName},Layer.prototype._getExplicitParameters=function(){return this.explicitParameters},Layer.prototype._getEvaluationDetails=function(){return this.evaluationDetails},Layer.prototype.logLayerParameterExposure=function(parameterName){var _a;null===(_a=this.logParameterFunction)||void 0===_a||_a.call(this,this,parameterName)},Layer}();exports.default=Layer;