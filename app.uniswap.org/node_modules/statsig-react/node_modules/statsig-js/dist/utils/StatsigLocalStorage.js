"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Constants_1=require("./Constants"),StatsigLocalStorage=function(){function StatsigLocalStorage(){}return StatsigLocalStorage.getItem=function(key){var _a;try{if(this.isStorageAccessible())return window.localStorage.getItem(key)}catch(e){}return null!==(_a=this.fallbackSessionCache[key])&&void 0!==_a?_a:null},StatsigLocalStorage.setItem=function(key,value){try{if(this.isStorageAccessible())return void window.localStorage.setItem(key,value)}catch(e){}this.fallbackSessionCache[key]=value},StatsigLocalStorage.removeItem=function(key){try{if(this.isStorageAccessible())return void window.localStorage.removeItem(key)}catch(e){}delete this.fallbackSessionCache[key]},StatsigLocalStorage.cleanup=function(){try{if(this.isStorageAccessible(!0))for(var key in window.localStorage)"string"==typeof window.localStorage[key]&&null!=key&&(!this.disabled&&key in Constants_1.LOCAL_STORAGE_KEYS||(this.disabled||key.substring(0,Constants_1.STORAGE_PREFIX.length)===Constants_1.STORAGE_PREFIX)&&window.localStorage.removeItem(key))}catch(e){}},StatsigLocalStorage.isStorageAccessible=function(ignoreDisabledOption){void 0===ignoreDisabledOption&&(ignoreDisabledOption=!1),null==this.canAccessStorageAccessible&&(this.canAccessStorageAccessible="undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage);var canAccess=this.canAccessStorageAccessible;return(ignoreDisabledOption||!this.disabled)&&canAccess},StatsigLocalStorage.disabled=!1,StatsigLocalStorage.fallbackSessionCache={},StatsigLocalStorage.canAccessStorageAccessible=null,StatsigLocalStorage}();exports.default=StatsigLocalStorage;