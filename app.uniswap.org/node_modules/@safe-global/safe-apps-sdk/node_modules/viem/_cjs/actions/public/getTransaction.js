"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTransaction=void 0;const transaction_js_1=require("../../errors/transaction.js"),toHex_js_1=require("../../utils/encoding/toHex.js"),transaction_js_2=require("../../utils/formatters/transaction.js");async function getTransaction(client,{blockHash:blockHash,blockNumber:blockNumber,blockTag:blockTag_,hash:hash,index:index}){const blockTag=blockTag_||"latest",blockNumberHex=void 0!==blockNumber?(0,toHex_js_1.numberToHex)(blockNumber):void 0;let transaction=null;if(hash?transaction=await client.request({method:"eth_getTransactionByHash",params:[hash]}):blockHash?transaction=await client.request({method:"eth_getTransactionByBlockHashAndIndex",params:[blockHash,(0,toHex_js_1.numberToHex)(index)]}):(blockNumberHex||blockTag)&&(transaction=await client.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[blockNumberHex||blockTag,(0,toHex_js_1.numberToHex)(index)]})),!transaction)throw new transaction_js_1.TransactionNotFoundError({blockHash:blockHash,blockNumber:blockNumber,blockTag:blockTag,hash:hash,index:index});return(client.chain?.formatters?.transaction?.format||transaction_js_2.formatTransaction)(transaction)}exports.getTransaction=getTransaction;