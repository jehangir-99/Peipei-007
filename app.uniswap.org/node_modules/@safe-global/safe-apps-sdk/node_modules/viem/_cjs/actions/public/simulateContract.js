"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simulateContract=void 0;const parseAccount_js_1=require("../../accounts/utils/parseAccount.js"),decodeFunctionResult_js_1=require("../../utils/abi/decodeFunctionResult.js"),encodeFunctionData_js_1=require("../../utils/abi/encodeFunctionData.js"),getContractError_js_1=require("../../utils/errors/getContractError.js"),getAction_js_1=require("../../utils/getAction.js"),call_js_1=require("./call.js");async function simulateContract(client,{abi:abi,address:address,args:args,dataSuffix:dataSuffix,functionName:functionName,...callRequest}){const account=callRequest.account?(0,parseAccount_js_1.parseAccount)(callRequest.account):void 0,calldata=(0,encodeFunctionData_js_1.encodeFunctionData)({abi:abi,args:args,functionName:functionName});try{const{data:data}=await(0,getAction_js_1.getAction)(client,call_js_1.call,"call")({batch:!1,data:`${calldata}${dataSuffix?dataSuffix.replace("0x",""):""}`,to:address,...callRequest});return{result:(0,decodeFunctionResult_js_1.decodeFunctionResult)({abi:abi,args:args,functionName:functionName,data:data||"0x"}),request:{abi:abi,address:address,args:args,dataSuffix:dataSuffix,functionName:functionName,...callRequest}}}catch(err){throw(0,getContractError_js_1.getContractError)(err,{abi:abi,address:address,args:args,docsPath:"/docs/contract/simulateContract",functionName:functionName,sender:account?.address})}}exports.simulateContract=simulateContract;