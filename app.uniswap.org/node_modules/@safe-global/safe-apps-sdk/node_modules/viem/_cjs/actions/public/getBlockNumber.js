"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBlockNumber=exports.getBlockNumberCache=void 0;const withCache_js_1=require("../../utils/promise/withCache.js"),cacheKey=id=>`blockNumber.${id}`;function getBlockNumberCache(id){return(0,withCache_js_1.getCache)(cacheKey(id))}async function getBlockNumber(client,{cacheTime:cacheTime=client.cacheTime,maxAge:maxAge}={}){const blockNumberHex=await(0,withCache_js_1.withCache)((()=>client.request({method:"eth_blockNumber"})),{cacheKey:cacheKey(client.uid),cacheTime:maxAge??cacheTime});return BigInt(blockNumberHex)}exports.getBlockNumberCache=getBlockNumberCache,exports.getBlockNumber=getBlockNumber;