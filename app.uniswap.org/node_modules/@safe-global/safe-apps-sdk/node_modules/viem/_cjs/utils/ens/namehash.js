"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.namehash=void 0;const concat_js_1=require("../data/concat.js"),toBytes_js_1=require("../encoding/toBytes.js"),toHex_js_1=require("../encoding/toHex.js"),keccak256_js_1=require("../hash/keccak256.js"),encodedLabelToLabelhash_js_1=require("./encodedLabelToLabelhash.js");function namehash(name){let result=new Uint8Array(32).fill(0);if(!name)return(0,toHex_js_1.bytesToHex)(result);const labels=name.split(".");for(let i=labels.length-1;i>=0;i-=1){const hashFromEncodedLabel=(0,encodedLabelToLabelhash_js_1.encodedLabelToLabelhash)(labels[i]),hashed=hashFromEncodedLabel?(0,toBytes_js_1.toBytes)(hashFromEncodedLabel):(0,keccak256_js_1.keccak256)((0,toBytes_js_1.stringToBytes)(labels[i]),"bytes");result=(0,keccak256_js_1.keccak256)((0,concat_js_1.concat)([result,hashed]),"bytes")}return(0,toHex_js_1.bytesToHex)(result)}exports.namehash=namehash;