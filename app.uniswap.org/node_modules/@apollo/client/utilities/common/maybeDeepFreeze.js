import{isNonNullObject}from"./objects.js";function deepFreeze(value){var workSet=new Set([value]);return workSet.forEach((function(obj){isNonNullObject(obj)&&shallowFreeze(obj)===obj&&Object.getOwnPropertyNames(obj).forEach((function(name){isNonNullObject(obj[name])&&workSet.add(obj[name])}))})),value}function shallowFreeze(obj){if(!1!==globalThis.__DEV__&&!Object.isFrozen(obj))try{Object.freeze(obj)}catch(e){if(e instanceof TypeError)return null;throw e}return obj}export function maybeDeepFreeze(obj){return!1!==globalThis.__DEV__&&deepFreeze(obj),obj}