import{isPlainObject}from"./objects.js";export function omitDeep(value,key){return __omitDeep(value,key)}function __omitDeep(value,key,known){if(void 0===known&&(known=new Map),known.has(value))return known.get(value);var modified=!1;if(Array.isArray(value)){var array_1=[];if(known.set(value,array_1),value.forEach((function(value,index){var result=__omitDeep(value,key,known);modified||(modified=result!==value),array_1[index]=result})),modified)return array_1}else if(isPlainObject(value)){var obj_1=Object.create(Object.getPrototypeOf(value));if(known.set(value,obj_1),Object.keys(value).forEach((function(k){if(k!==key){var result=__omitDeep(value[k],key,known);modified||(modified=result!==value[k]),obj_1[k]=result}else modified=!0})),modified)return obj_1}return value}