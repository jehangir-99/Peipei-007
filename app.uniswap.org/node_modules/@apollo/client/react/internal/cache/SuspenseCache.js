import{Trie}from"@wry/trie";import{canUseWeakMap}from"../../../utilities/index.js";import{InternalQueryReference}from"./QueryReference.js";var SuspenseCache=function(){function SuspenseCache(options){void 0===options&&(options=Object.create(null)),this.queryRefs=new Trie(canUseWeakMap),this.options=options}return SuspenseCache.prototype.getQueryRef=function(cacheKey,createObservable){var ref=this.queryRefs.lookupArray(cacheKey);return ref.current||(ref.current=new InternalQueryReference(createObservable(),{autoDisposeTimeoutMs:this.options.autoDisposeTimeoutMs,onDispose:function(){delete ref.current}})),ref.current},SuspenseCache.prototype.add=function(cacheKey,queryRef){this.queryRefs.lookupArray(cacheKey).current=queryRef},SuspenseCache}();export{SuspenseCache};