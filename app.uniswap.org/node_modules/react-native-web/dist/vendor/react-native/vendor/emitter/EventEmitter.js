export default class EventEmitter{constructor(){this._registry={}}addListener(eventType,listener,context){var registrations=allocate(this._registry,eventType),registration={context:context,listener:listener,remove(){registrations.delete(registration)}};return registrations.add(registration),registration}emit(eventType){var registrations=this._registry[eventType];if(null!=registrations){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];for(var _i=0,_arr=[...registrations];_i<_arr.length;_i++){var registration=_arr[_i];registration.listener.apply(registration.context,args)}}}removeAllListeners(eventType){null==eventType?this._registry={}:delete this._registry[eventType]}listenerCount(eventType){var registrations=this._registry[eventType];return null==registrations?0:registrations.size}}function allocate(registry,eventType){var registrations=registry[eventType];return null==registrations&&(registrations=new Set,registry[eventType]=registrations),registrations}