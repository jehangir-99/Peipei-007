"use strict";import Platform from"../../../exports/Platform";import RCTDeviceEventEmitter from"./RCTDeviceEventEmitter";import invariant from"fbjs/lib/invariant";export default class NativeEventEmitter{constructor(nativeModule){"ios"===Platform.OS&&(invariant(null!=nativeModule,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=nativeModule)}addListener(eventType,listener,context){var _this$_nativeModule;null==(_this$_nativeModule=this._nativeModule)||_this$_nativeModule.addListener(eventType);var subscription=RCTDeviceEventEmitter.addListener(eventType,listener,context);return{remove:()=>{var _this$_nativeModule2;null!=subscription&&(null==(_this$_nativeModule2=this._nativeModule)||_this$_nativeModule2.removeListeners(1),subscription.remove(),subscription=null)}}}removeListener(eventType,listener){var _this$_nativeModule3;null==(_this$_nativeModule3=this._nativeModule)||_this$_nativeModule3.removeListeners(1),RCTDeviceEventEmitter.removeListener(eventType,listener)}emit(eventType){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];RCTDeviceEventEmitter.emit(eventType,...args)}removeAllListeners(eventType){var _this$_nativeModule4;invariant(null!=eventType,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(_this$_nativeModule4=this._nativeModule)||_this$_nativeModule4.removeListeners(this.listenerCount(eventType)),RCTDeviceEventEmitter.removeAllListeners(eventType)}listenerCount(eventType){return RCTDeviceEventEmitter.listenerCount(eventType)}}