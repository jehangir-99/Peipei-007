import canUseDOM from"../../../modules/canUseDom";import createCSSStyleSheet from"./createCSSStyleSheet";import createOrderedCSSStyleSheet from"./createOrderedCSSStyleSheet";var defaultId="react-native-stylesheet",roots=new WeakMap,sheets=[],initialRules=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];export function createSheet(root,id){var sheet;if(void 0===id&&(id=defaultId),canUseDOM){var rootNode=null!=root?root.getRootNode():document;if(0===sheets.length)sheet=createOrderedCSSStyleSheet(createCSSStyleSheet(id)),initialRules.forEach((rule=>{sheet.insert(rule,0)})),roots.set(rootNode,sheets.length),sheets.push(sheet);else{var index=roots.get(rootNode);if(null==index){var initialSheet=sheets[0],textContent=null!=initialSheet?initialSheet.getTextContent():"";sheet=createOrderedCSSStyleSheet(createCSSStyleSheet(id,rootNode,textContent)),roots.set(rootNode,sheets.length),sheets.push(sheet)}else sheet=sheets[index]}}else 0===sheets.length?(sheet=createOrderedCSSStyleSheet(createCSSStyleSheet(id)),initialRules.forEach((rule=>{sheet.insert(rule,0)})),sheets.push(sheet)):sheet=sheets[0];return{getTextContent:()=>sheet.getTextContent(),id:id,insert(cssText,groupValue){sheets.forEach((s=>{s.insert(cssText,groupValue)}))}}}