import _defineProperty from"@babel/runtime/helpers/esm/defineProperty";import{createElement,Fragment}from"react";import isPropValid from"@emotion/is-prop-valid";import{withEmotionCache,ThemeContext}from"@emotion/core";import{getRegisteredStyles,insertStyles}from"@emotion/utils";import{serializeStyles}from"@emotion/serialize";var testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(key){return"theme"!==key&&"innerRef"!==key},getDefaultShouldForwardProp=function(tag){return"string"==typeof tag&&tag.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var ILLEGAL_ESCAPE_SEQUENCE_ERROR="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",Noop=function(){return null},createStyled=function createStyled(tag,options){if("production"!==process.env.NODE_ENV&&void 0===tag)throw new Error("You are trying to create a styled element with an undefined component.\nYou may have forgotten to import it.");var identifierName,shouldForwardProp,targetClassName;void 0!==options&&(identifierName=options.label,targetClassName=options.target,shouldForwardProp=tag.__emotion_forwardProp&&options.shouldForwardProp?function(propName){return tag.__emotion_forwardProp(propName)&&options.shouldForwardProp(propName)}:options.shouldForwardProp);var isReal=tag.__emotion_real===tag,baseTag=isReal&&tag.__emotion_base||tag;"function"!=typeof shouldForwardProp&&isReal&&(shouldForwardProp=tag.__emotion_forwardProp);var defaultShouldForwardProp=shouldForwardProp||getDefaultShouldForwardProp(baseTag),shouldUseAs=!defaultShouldForwardProp("as");return function(){var args=arguments,styles=isReal&&void 0!==tag.__emotion_styles?tag.__emotion_styles.slice(0):[];if(void 0!==identifierName&&styles.push("label:"+identifierName+";"),null==args[0]||void 0===args[0].raw)styles.push.apply(styles,args);else{"production"!==process.env.NODE_ENV&&void 0===args[0][0]&&console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR),styles.push(args[0][0]);for(var len=args.length,i=1;i<len;i++)"production"!==process.env.NODE_ENV&&void 0===args[0][i]&&console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR),styles.push(args[i],args[0][i])}var Styled=withEmotionCache((function(props,context,ref){return createElement(ThemeContext.Consumer,null,(function(theme){var finalTag=shouldUseAs&&props.as||baseTag,className="",classInterpolations=[],mergedProps=props;if(null==props.theme){for(var key in mergedProps={},props)mergedProps[key]=props[key];mergedProps.theme=theme}"string"==typeof props.className?className=getRegisteredStyles(context.registered,classInterpolations,props.className):null!=props.className&&(className=props.className+" ");var serialized=serializeStyles(styles.concat(classInterpolations),context.registered,mergedProps);insertStyles(context,serialized,"string"==typeof finalTag);className+=context.key+"-"+serialized.name,void 0!==targetClassName&&(className+=" "+targetClassName);var finalShouldForwardProp=shouldUseAs&&void 0===shouldForwardProp?getDefaultShouldForwardProp(finalTag):defaultShouldForwardProp,newProps={};for(var _key in props)shouldUseAs&&"as"===_key||finalShouldForwardProp(_key)&&(newProps[_key]=props[_key]);newProps.className=className,newProps.ref=ref||props.innerRef,"production"!==process.env.NODE_ENV&&props.innerRef&&console.error("`innerRef` is deprecated and will be removed in a future major version of Emotion, please use the `ref` prop instead"+(void 0===identifierName?"":" in the usage of `"+identifierName+"`"));var ele=createElement(finalTag,newProps);return createElement(Fragment,null,createElement(Noop,null),ele)}))}));return Styled.displayName=void 0!==identifierName?identifierName:"Styled("+("string"==typeof baseTag?baseTag:baseTag.displayName||baseTag.name||"Component")+")",Styled.defaultProps=tag.defaultProps,Styled.__emotion_real=Styled,Styled.__emotion_base=baseTag,Styled.__emotion_styles=styles,Styled.__emotion_forwardProp=shouldForwardProp,Object.defineProperty(Styled,"toString",{value:function(){return void 0===targetClassName&&"production"!==process.env.NODE_ENV?"NO_COMPONENT_SELECTOR":"."+targetClassName}}),Styled.withComponent=function(nextTag,nextOptions){return createStyled(nextTag,void 0!==nextOptions?_objectSpread({},options||{},{},nextOptions):options).apply(void 0,styles)},Styled}};export default createStyled;