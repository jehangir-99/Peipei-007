"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubscriptionManager=void 0;const eth_block_tracker_1=require("eth-block-tracker"),createSubscriptionManager=require("eth-json-rpc-filters/subscriptionManager"),noop=()=>{};class SubscriptionManager{constructor(provider){const blockTracker=new eth_block_tracker_1.PollingBlockTracker({provider:provider,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:events,middleware:middleware}=createSubscriptionManager({blockTracker:blockTracker,provider:provider});this.events=events,this.subscriptionMiddleware=middleware}async handleRequest(request){const result={};return await this.subscriptionMiddleware(request,result,noop,noop),result}destroy(){this.subscriptionMiddleware.destroy()}}exports.SubscriptionManager=SubscriptionManager;