"use strict";function defer(){var resolve,reject,promise=new Promise((function(_resolve,_reject){resolve=_resolve,reject=_reject}));return{resolve:resolve,reject:reject,promise:promise}}function hexToRgb(hex){var m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return null===m?null:[m[1],m[2],m[3]].map((function(s){return parseInt(s,16)}))}function rgbToHex(r,g,b){return"#"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1,7)}function rgbToHsl(r,g,b){r/=255,g/=255,b/=255;var h,s,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2;if(max===min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return[h,s,l]}function hslToRgb(h,s,l){var r,g,b;function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}if(0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return[255*r,255*g,255*b]}function rgbToXyz(r,g,b){return g/=255,b/=255,r=(r/=255)>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92,g=g>.04045?Math.pow((g+.005)/1.055,2.4):g/12.92,b=b>.04045?Math.pow((b+.005)/1.055,2.4):b/12.92,[.4124*(r*=100)+.3576*(g*=100)+.1805*(b*=100),.2126*r+.7152*g+.0722*b,.0193*r+.1192*g+.9505*b]}function xyzToCIELab(x,y,z){return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]}function rgbToCIELab(r,g,b){var _a=rgbToXyz(r,g,b);return xyzToCIELab(_a[0],_a[1],_a[2])}function deltaE94(lab1,lab2){var L1=lab1[0],a1=lab1[1],b1=lab1[2],L2=lab2[0],a2=lab2[1],b2=lab2[2],dL=L1-L2,da=a1-a2,db=b1-b2,xC1=Math.sqrt(a1*a1+b1*b1),xDL=L2-L1,xDC=Math.sqrt(a2*a2+b2*b2)-xC1,xDE=Math.sqrt(dL*dL+da*da+db*db),xDH=Math.sqrt(xDE)>Math.sqrt(Math.abs(xDL))+Math.sqrt(Math.abs(xDC))?Math.sqrt(xDE*xDE-xDL*xDL-xDC*xDC):0;return xDL/=1,xDC/=1*(1+.045*xC1),xDH/=1*(1+.015*xC1),Math.sqrt(xDL*xDL+xDC*xDC+xDH*xDH)}function rgbDiff(rgb1,rgb2){return deltaE94(rgbToCIELab.apply(void 0,rgb1),rgbToCIELab.apply(void 0,rgb2))}function hexDiff(hex1,hex2){return rgbDiff(hexToRgb(hex1),hexToRgb(hex2))}function getColorDiffStatus(d){return d<exports.DELTAE94_DIFF_STATUS.NA?"N/A":d<=exports.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":d<=exports.DELTAE94_DIFF_STATUS.CLOSE?"Close":d<=exports.DELTAE94_DIFF_STATUS.GOOD?"Good":d<exports.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"}function getColorIndex(r,g,b){return(r<<2*exports.SIGBITS)+(g<<exports.SIGBITS)+b}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getColorIndex=exports.getColorDiffStatus=exports.hexDiff=exports.rgbDiff=exports.deltaE94=exports.rgbToCIELab=exports.xyzToCIELab=exports.rgbToXyz=exports.hslToRgb=exports.rgbToHsl=exports.rgbToHex=exports.hexToRgb=exports.defer=exports.RSHIFT=exports.SIGBITS=exports.DELTAE94_DIFF_STATUS=void 0,exports.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},exports.SIGBITS=5,exports.RSHIFT=8-exports.SIGBITS,exports.defer=defer,exports.hexToRgb=hexToRgb,exports.rgbToHex=rgbToHex,exports.rgbToHsl=rgbToHsl,exports.hslToRgb=hslToRgb,exports.rgbToXyz=rgbToXyz,exports.xyzToCIELab=xyzToCIELab,exports.rgbToCIELab=rgbToCIELab,exports.deltaE94=deltaE94,exports.rgbDiff=rgbDiff,exports.hexDiff=hexDiff,exports.getColorDiffStatus=getColorDiffStatus,exports.getColorIndex=getColorIndex;