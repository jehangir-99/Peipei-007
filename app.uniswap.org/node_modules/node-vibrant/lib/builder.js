"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var vibrant_1=__importDefault(require("./vibrant")),clone=require("lodash/clone"),Builder=function(){function Builder(src,opts){void 0===opts&&(opts={}),this._src=src,this._opts=opts,this._opts.filters=clone(vibrant_1.default.DefaultOpts.filters)}return Builder.prototype.maxColorCount=function(n){return this._opts.colorCount=n,this},Builder.prototype.maxDimension=function(d){return this._opts.maxDimension=d,this},Builder.prototype.addFilter=function(f){return this._opts.filters.push(f),this},Builder.prototype.removeFilter=function(f){var i=this._opts.filters.indexOf(f);return i>0&&this._opts.filters.splice(i),this},Builder.prototype.clearFilters=function(){return this._opts.filters=[],this},Builder.prototype.quality=function(q){return this._opts.quality=q,this},Builder.prototype.useImageClass=function(imageClass){return this._opts.ImageClass=imageClass,this},Builder.prototype.useGenerator=function(generator){return this._opts.generator=generator,this},Builder.prototype.useQuantizer=function(quantizer){return this._opts.quantizer=quantizer,this},Builder.prototype.build=function(){return new vibrant_1.default(this._src,this._opts)},Builder.prototype.getPalette=function(cb){return this.build().getPalette(cb)},Builder.prototype.getSwatches=function(cb){return this.build().getPalette(cb)},Builder}();exports.default=Builder;